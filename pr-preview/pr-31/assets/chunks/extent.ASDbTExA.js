function K(r,i,n){return Math.min(Math.max(r,i),n)}function P(r,i,n,o,s,c){const a=s-n,u=c-o;if(a!==0||u!==0){const f=((r-n)*a+(i-o)*u)/(a*a+u*u);f>1?(n=s,o=c):f>0&&(n+=a*f,o+=u*f)}return L(r,i,n,o)}function L(r,i,n,o){const s=n-r,c=o-i;return s*s+c*c}function j(r){const i=r.length;for(let o=0;o<i;o++){let s=o,c=Math.abs(r[o][o]);for(let u=o+1;u<i;u++){const f=Math.abs(r[u][o]);f>c&&(c=f,s=u)}if(c===0)return null;const a=r[s];r[s]=r[o],r[o]=a;for(let u=o+1;u<i;u++){const f=-r[u][o]/r[o][o];for(let l=o;l<i+1;l++)o==l?r[u][l]=0:r[u][l]+=f*r[o][l]}}const n=new Array(i);for(let o=i-1;o>=0;o--){n[o]=r[o][i]/r[o][o];for(let s=o-1;s>=0;s--)r[s][i]-=r[s][o]*n[o]}return n}function z(r){return r*180/Math.PI}function J(r){return r*Math.PI/180}function Q(r,i){const n=r%i;return n*i<0?n+i:n}function _(r,i,n){return r+n*(i-r)}function w(r,i){const n=Math.pow(10,i);return Math.round(r*n)/n}function Z(r,i){return Math.round(w(r,i))}function $(r,i){return Math.floor(w(r,i))}function k(r,i){return Math.ceil(w(r,i))}function v(r,i,n){if(r>=i&&r<n)return r;const o=n-i;return((r-i)%o+o)%o+i}const h={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function t(r){const i=d();for(let n=0,o=r.length;n<o;++n)Y(i,r[n]);return i}function A(r,i,n){const o=Math.min.apply(null,r),s=Math.min.apply(null,i),c=Math.max.apply(null,r),a=Math.max.apply(null,i);return T(o,s,c,a,n)}function e(r,i,n){return n?(n[0]=r[0]-i,n[1]=r[1]-i,n[2]=r[2]+i,n[3]=r[3]+i,n):[r[0]-i,r[1]-i,r[2]+i,r[3]+i]}function x(r,i){return i?(i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i):r.slice()}function rr(r,i,n){let o,s;return i<r[0]?o=r[0]-i:r[2]<i?o=i-r[2]:o=0,n<r[1]?s=r[1]-n:r[3]<n?s=n-r[3]:s=0,o*o+s*s}function ir(r,i){return B(r,i[0],i[1])}function or(r,i){return r[0]<=i[0]&&i[2]<=r[2]&&r[1]<=i[1]&&i[3]<=r[3]}function B(r,i,n){return r[0]<=i&&i<=r[2]&&r[1]<=n&&n<=r[3]}function O(r,i){const n=r[0],o=r[1],s=r[2],c=r[3],a=i[0],u=i[1];let f=h.UNKNOWN;return a<n?f=f|h.LEFT:a>s&&(f=f|h.RIGHT),u<o?f=f|h.BELOW:u>c&&(f=f|h.ABOVE),f===h.UNKNOWN&&(f=h.INTERSECTING),f}function d(){return[1/0,1/0,-1/0,-1/0]}function T(r,i,n,o,s){return s?(s[0]=r,s[1]=i,s[2]=n,s[3]=o,s):[r,i,n,o]}function N(r){return T(1/0,1/0,-1/0,-1/0,r)}function nr(r,i){const n=r[0],o=r[1];return T(n,o,n,o,i)}function sr(r,i,n,o,s){const c=N(s);return G(c,r,i,n,o)}function fr(r,i){return r[0]==i[0]&&r[2]==i[2]&&r[1]==i[1]&&r[3]==i[3]}function ur(r,i){return i[0]<r[0]&&(r[0]=i[0]),i[2]>r[2]&&(r[2]=i[2]),i[1]<r[1]&&(r[1]=i[1]),i[3]>r[3]&&(r[3]=i[3]),r}function Y(r,i){i[0]<r[0]&&(r[0]=i[0]),i[0]>r[2]&&(r[2]=i[0]),i[1]<r[1]&&(r[1]=i[1]),i[1]>r[3]&&(r[3]=i[1])}function G(r,i,n,o,s){for(;n<o;n+=s)U(r,i[n],i[n+1]);return r}function U(r,i,n){r[0]=Math.min(r[0],i),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],i),r[3]=Math.max(r[3],n)}function cr(r,i){let n;return n=i(X(r)),n||(n=i(C(r)),n)||(n=i(S(r)),n)||(n=i(F(r)),n)?n:!1}function ar(r){let i=0;return W(r)||(i=R(r)*q(r)),i}function X(r){return[r[0],r[1]]}function C(r){return[r[2],r[1]]}function V(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function lr(r,i){let n;if(i==="bottom-left")n=X(r);else if(i==="bottom-right")n=C(r);else if(i==="top-left")n=F(r);else if(i==="top-right")n=S(r);else throw new Error("Invalid corner");return n}function hr(r,i,n,o,s){const[c,a,u,f,l,g,M,p]=H(r,i,n,o);return T(Math.min(c,u,l,M),Math.min(a,f,g,p),Math.max(c,u,l,M),Math.max(a,f,g,p),s)}function H(r,i,n,o){const s=i*o[0]/2,c=i*o[1]/2,a=Math.cos(n),u=Math.sin(n),f=s*a,l=s*u,g=c*a,M=c*u,p=r[0],E=r[1];return[p-f+M,E-l-g,p-f-M,E-l+g,p+f-M,E+l+g,p+f+M,E+l-g,p-f+M,E-l-g]}function q(r){return r[3]-r[1]}function pr(r,i,n){const o=n||d();return D(r,i)?(r[0]>i[0]?o[0]=r[0]:o[0]=i[0],r[1]>i[1]?o[1]=r[1]:o[1]=i[1],r[2]<i[2]?o[2]=r[2]:o[2]=i[2],r[3]<i[3]?o[3]=r[3]:o[3]=i[3]):N(o),o}function F(r){return[r[0],r[3]]}function S(r){return[r[2],r[3]]}function R(r){return r[2]-r[0]}function D(r,i){return r[0]<=i[2]&&r[2]>=i[0]&&r[1]<=i[3]&&r[3]>=i[1]}function W(r){return r[2]<r[0]||r[3]<r[1]}function Er(r,i){return i?(i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i):r}function gr(r,i,n){let o=!1;const s=O(r,i),c=O(r,n);if(s===h.INTERSECTING||c===h.INTERSECTING)o=!0;else{const a=r[0],u=r[1],f=r[2],l=r[3],g=i[0],M=i[1],p=n[0],E=n[1],m=(E-M)/(p-g);let I,y;c&h.ABOVE&&!(s&h.ABOVE)&&(I=p-(E-l)/m,o=I>=a&&I<=f),!o&&c&h.RIGHT&&!(s&h.RIGHT)&&(y=E-(p-f)*m,o=y>=u&&y<=l),!o&&c&h.BELOW&&!(s&h.BELOW)&&(I=p-(E-u)/m,o=I>=a&&I<=f),!o&&c&h.LEFT&&!(s&h.LEFT)&&(y=E-(p-a)*m,o=y>=u&&y<=l)}return o}function Mr(r,i,n,o){if(W(r))return N(n);let s=[];if(o>1){const u=r[2]-r[0],f=r[3]-r[1];for(let l=0;l<o;++l)s.push(r[0]+u*l/o,r[1],r[2],r[1]+f*l/o,r[2]-u*l/o,r[3],r[0],r[3]-f*l/o)}else s=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];i(s,s,2);const c=[],a=[];for(let u=0,f=s.length;u<f;u+=2)c.push(s[u]),a.push(s[u+1]);return A(c,a,n)}function b(r,i){const n=i.getExtent(),o=V(r);if(i.canWrapX()&&(o[0]<n[0]||o[0]>=n[2])){const s=R(n),a=Math.floor((o[0]-n[0])/s)*s;r[0]-=a,r[2]-=a}return r}function Ir(r,i,n){if(i.canWrapX()){const o=i.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[o[0],r[1],o[2],r[3]]];b(r,i);const s=R(o);if(R(r)>s&&!n)return[[o[0],r[1],o[2],r[3]]];if(r[0]<o[0])return[[r[0]+s,r[1],o[2],r[3]],[o[0],r[1],r[2],r[3]]];if(r[2]>o[2])return[[r[0],r[1],o[2],r[3]],[o[0],r[1],r[2]-s,r[3]]]}return[r]}export{V as A,O as B,x as C,e as D,_ as E,Y as F,or as G,b as H,sr as I,rr as J,N as K,B as L,nr as M,Er as N,P as O,G as P,gr as Q,h as R,Q as S,hr as T,j as U,k as V,$ as W,lr as X,Z as Y,S as a,C as b,X as c,R as d,q as e,d as f,F as g,ir as h,H as i,pr as j,D as k,fr as l,T as m,cr as n,K as o,t as p,J as q,z as r,L as s,w as t,Mr as u,W as v,v as w,ur as x,ar as y,Ir as z};
