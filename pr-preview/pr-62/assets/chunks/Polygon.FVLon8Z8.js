import{L as z,b as dt,ad as Ct,g as Rt,F as O,x as U,O as Et,d as W,s as A,P as xt,ae as At,c as Q,R as Lt,Q as wt,j as Mt,af as Yt,i as Nt,ag as Xt,D as It,ah as Ft}from"./proj.DNHHD1fb.js";function J(n){for(const t in n)delete n[t]}function Tt(n){let t;for(t in n)return!1;return!t}const jt={PROPERTYCHANGE:"propertychange"},mt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class St{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function oe(n,t,e){let s,i;e=e||F;let r=0,l=n.length,o=!1;for(;r<l;)s=r+(l-r>>1),i=+e(n[s],t),i<0?r=s+1:(l=s,o=!i);return o?r:~r}function F(n,t){return n>t?1:n<t?-1:0}function he(n,t){return n<t?1:n>t?-1:0}function ae(n,t,e){if(n[0]<=t)return 0;const s=n.length;if(t<=n[s-1])return s-1;if(typeof e=="function"){for(let i=1;i<s;++i){const r=n[i];if(r===t)return i;if(r<t)return e(t,n[i-1],r)>0?i-1:i}return s-1}if(e>0){for(let i=1;i<s;++i)if(n[i]<t)return i-1;return s-1}if(e<0){for(let i=1;i<s;++i)if(n[i]<=t)return i;return s-1}for(let i=1;i<s;++i){if(n[i]==t)return i;if(n[i]<t)return n[i-1]-t<t-n[i]?i-1:i}return s-1}function ue(n,t,e){for(;t<e;){const s=n[t];n[t]=n[e],n[e]=s,++t,--e}}function tt(n,t){const e=Array.isArray(t)?t:[t],s=e.length;for(let i=0;i<s;i++)n[n.length]=e[i]}function Gt(n,t){const e=n.length;if(e!==t.length)return!1;for(let s=0;s<e;s++)if(n[s]!==t[s])return!1;return!0}function ce(n,t,e){const s=t||F;return n.every(function(i,r){if(r===0)return!0;const l=s(n[r-1],i);return!(l>0||l===0)})}function ge(){return!0}function fe(){return!1}function k(){}function Pt(n){let t,e,s;return function(){const i=Array.prototype.slice.call(arguments);return(!e||this!==s||!Gt(i,e))&&(s=this,e=i,t=n.apply(this,arguments)),t}}function pe(n){function t(){let e;try{e=n()}catch(s){return Promise.reject(s)}return e instanceof Promise?e:Promise.resolve(e)}return t()}class et{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function ve(n){n.stopPropagation()}class bt extends St{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const s=this.listeners_||(this.listeners_={}),i=s[t]||(s[t]=[]);i.includes(e)||i.push(e)}dispatchEvent(t){const e=typeof t=="string",s=e?t:t.type,i=this.listeners_&&this.listeners_[s];if(!i)return;const r=e?new et(t):t;r.target||(r.target=this.eventTarget_||this);const l=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});s in l||(l[s]=0,o[s]=0),++l[s];let h;for(let a=0,u=i.length;a<u;++a)if("handleEvent"in i[a]?h=i[a].handleEvent(r):h=i[a].call(this,r),h===!1||r.propagationStopped){h=!1;break}if(--l[s]===0){let a=o[s];for(delete o[s];a--;)this.removeEventListener(s,k);delete l[s]}return h}disposeInternal(){this.listeners_&&J(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,e){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const i=s.indexOf(e);i!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[i]=k,++this.pendingRemovals_[t]):(s.splice(i,1),s.length===0&&delete this.listeners_[t]))}}function X(n,t,e,s,i){if(i){const l=e;e=function(o){return n.removeEventListener(t,e),l.call(s??this,o)}}else s&&s!==n&&(e=e.bind(s));const r={target:n,type:t,listener:e};return n.addEventListener(t,e),r}function q(n,t,e,s){return X(n,t,e,s,!0)}function $(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),J(n))}class M extends bt{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(mt.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const s=t.length,i=new Array(s);for(let r=0;r<s;++r)i[r]=X(this,t[r],e);return i}return X(this,t,e)}onceInternal(t,e){let s;if(Array.isArray(t)){const i=t.length;s=new Array(i);for(let r=0;r<i;++r)s[r]=q(this,t[r],e)}else s=q(this,t,e);return e.ol_key=s,s}unInternal(t,e){const s=e.ol_key;if(s)Dt(s);else if(Array.isArray(t))for(let i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}M.prototype.on;M.prototype.once;M.prototype.un;function Dt(n){if(Array.isArray(n))for(let t=0,e=n.length;t<e;++t)$(n[t]);else $(n)}function d(){throw new Error("Unimplemented abstract method.")}let Ot=0;function Ut(n){return n.ol_uid||(n.ol_uid=String(++Ot))}class K extends et{constructor(t,e,s){super(t),this.key=e,this.oldValue=s}}class kt extends M{constructor(t){super(),this.on,this.once,this.un,Ut(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new K(s,t,e)),s=jt.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new K(s,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,s){const i=this.values_||(this.values_={});if(s)i[t]=e;else{const r=i[t];i[t]=e,r!==e&&this.notify(t,r)}}setProperties(t,e){for(const s in t)this.set(s,t[s],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],Tt(this.values_)&&(this.values_=null),e||this.notify(t,s)}}}function qt(n,t){if(!n)throw new Error(t)}const T=new Array(6);function $t(){return[1,0,0,1,0,0]}function ye(n){return Y(n,1,0,0,1,0,0)}function j(n,t){const e=n[0],s=n[1],i=n[2],r=n[3],l=n[4],o=n[5],h=t[0],a=t[1],u=t[2],c=t[3],g=t[4],f=t[5];return n[0]=e*h+i*a,n[1]=s*h+r*a,n[2]=e*u+i*c,n[3]=s*u+r*c,n[4]=e*g+i*f+l,n[5]=s*g+r*f+o,n}function Y(n,t,e,s,i,r,l){return n[0]=t,n[1]=e,n[2]=s,n[3]=i,n[4]=r,n[5]=l,n}function _e(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function de(n,t){const e=t[0],s=t[1];return t[0]=n[0]*e+n[2]*s+n[4],t[1]=n[1]*e+n[3]*s+n[5],t}function Ce(n,t){const e=Math.cos(t),s=Math.sin(t);return j(n,Y(T,e,s,-s,e,0,0))}function Re(n,t,e){return j(n,Y(T,t,0,0,e,0,0))}function Ee(n,t,e){return j(n,Y(T,1,0,0,1,t,e))}function Kt(n,t,e,s,i,r,l,o){const h=Math.sin(r),a=Math.cos(r);return n[0]=s*a,n[1]=i*h,n[2]=-s*h,n[3]=i*a,n[4]=l*s*a-o*s*h+t,n[5]=l*i*h+o*i*a+e,n}function xe(n,t){const e=Ht(t);qt(e!==0,"Transformation matrix cannot be inverted");const s=t[0],i=t[1],r=t[2],l=t[3],o=t[4],h=t[5];return n[0]=l/e,n[1]=-i/e,n[2]=-r/e,n[3]=s/e,n[4]=(r*h-l*o)/e,n[5]=-(s*h-i*o)/e,n}function Ht(n){return n[0]*n[3]-n[1]*n[2]}const Bt=[1e5,1e5,1e5,1e5,2,2];function Ae(n){return"matrix("+n.join(", ")+")"}function H(n){return n.substring(7,n.length-1).split(",").map(parseFloat)}function Le(n,t){const e=H(n),s=H(t);for(let i=0;i<6;++i)if(Math.round((e[i]-s[i])*Bt[i])!==0)return!1;return!0}function nt(n,t,e,s,i,r,l){r=r||[],l=l||2;let o=0;for(let h=t;h<e;h+=s){const a=n[h],u=n[h+1];r[o++]=i[0]*a+i[2]*u+i[4],r[o++]=i[1]*a+i[3]*u+i[5];for(let c=2;c<l;c++)r[o++]=n[h+c]}return r&&r.length!=o&&(r.length=o),r}function Vt(n,t,e,s,i,r,l){l=l||[];const o=Math.cos(i),h=Math.sin(i),a=r[0],u=r[1];let c=0;for(let g=t;g<e;g+=s){const f=n[g]-a,p=n[g+1]-u;l[c++]=a+f*o-p*h,l[c++]=u+f*h+p*o;for(let v=g+2;v<g+s;++v)l[c++]=n[v]}return l&&l.length!=c&&(l.length=c),l}function Zt(n,t,e,s,i,r,l,o){o=o||[];const h=l[0],a=l[1];let u=0;for(let c=t;c<e;c+=s){const g=n[c]-h,f=n[c+1]-a;o[u++]=h+i*g,o[u++]=a+r*f;for(let p=c+2;p<c+s;++p)o[u++]=n[p]}return o&&o.length!=u&&(o.length=u),o}function zt(n,t,e,s,i,r,l){l=l||[];let o=0;for(let h=t;h<e;h+=s){l[o++]=n[h]+i,l[o++]=n[h+1]+r;for(let a=h+2;a<h+s;++a)l[o++]=n[a]}return l&&l.length!=o&&(l.length=o),l}const B=$t(),Wt=[NaN,NaN];class Qt extends kt{constructor(){super(),this.extent_=z(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Pt((t,e,s)=>{if(!s)return this.getSimplifiedGeometry(e);const i=this.clone();return i.applyTransform(s),i.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return d()}closestPointXY(t,e,s,i){return d()}containsXY(t,e){return this.closestPointXY(t,e,Wt,Number.MIN_VALUE)===0}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return d()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&dt(e),this.extentRevision_=this.getRevision()}return Ct(this.extent_,t)}rotate(t,e){d()}scale(t,e,s){d()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return d()}getType(){return d()}applyTransform(t){d()}intersectsExtent(t){return d()}translate(t,e){d()}transform(t,e){const s=Rt(t),i=s.getUnits()=="tile-pixels"?function(r,l,o){const h=s.getExtent(),a=s.getWorldExtent(),u=O(a)/O(h);Kt(B,a[0],a[3],u,-u,0,0,0);const c=nt(r,0,r.length,o,B,l),g=U(s,e);return g?g(c,c,o):c}:U(s,e);return this.applyTransform(i),this}}class m extends Qt{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Et(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return d()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=V(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){d()}setLayout(t,e,s){let i;if(t)i=V(t);else{for(let r=0;r<s;++r){if(e.length===0){this.layout="XY",this.stride=2;return}e=e[0]}i=e.length,t=Jt(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,e){const s=this.getFlatCoordinates();if(s){const i=this.getStride();Vt(s,0,s.length,i,t,e,s),this.changed()}}scale(t,e,s){e===void 0&&(e=t),s||(s=W(this.getExtent()));const i=this.getFlatCoordinates();if(i){const r=this.getStride();Zt(i,0,i.length,r,t,e,s,i),this.changed()}}translate(t,e){const s=this.getFlatCoordinates();if(s){const i=this.getStride();zt(s,0,s.length,i,t,e,s),this.changed()}}}function Jt(n){let t;return n==2?t="XY":n==3?t="XYZ":n==4&&(t="XYZM"),t}function V(n){let t;return n=="XY"?t=2:n=="XYZ"||n=="XYM"?t=3:n=="XYZM"&&(t=4),t}function we(n,t,e){const s=n.getFlatCoordinates();if(!s)return null;const i=n.getStride();return nt(s,0,s.length,i,t,e)}function it(n,t,e,s){let i=0;const r=n[e-s],l=n[e-s+1];let o=0,h=0;for(;t<e;t+=s){const a=n[t]-r,u=n[t+1]-l;i+=h*a-o*u,o=a,h=u}return i/2}function st(n,t,e,s){let i=0;for(let r=0,l=e.length;r<l;++r){const o=e[r];i+=it(n,t,o,s),t=o}return i}function Me(n,t,e,s){let i=0;for(let r=0,l=e.length;r<l;++r){const o=e[r];i+=st(n,t,o,s),t=o[o.length-1]}return i}function Z(n,t,e,s,i,r,l){const o=n[t],h=n[t+1],a=n[e]-o,u=n[e+1]-h;let c;if(a===0&&u===0)c=t;else{const g=((i-o)*a+(r-h)*u)/(a*a+u*u);if(g>1)c=e;else if(g>0){for(let f=0;f<s;++f)l[f]=xt(n[t+f],n[e+f],g);l.length=s;return}else c=t}for(let g=0;g<s;++g)l[g]=n[c+g];l.length=s}function rt(n,t,e,s,i){let r=n[t],l=n[t+1];for(t+=s;t<e;t+=s){const o=n[t],h=n[t+1],a=A(r,l,o,h);a>i&&(i=a),r=o,l=h}return i}function lt(n,t,e,s,i){for(let r=0,l=e.length;r<l;++r){const o=e[r];i=rt(n,t,o,s,i),t=o}return i}function Ye(n,t,e,s,i){for(let r=0,l=e.length;r<l;++r){const o=e[r];i=lt(n,t,o,s,i),t=o[o.length-1]}return i}function ot(n,t,e,s,i,r,l,o,h,a,u){if(t==e)return a;let c,g;if(i===0){if(g=A(l,o,n[t],n[t+1]),g<a){for(c=0;c<s;++c)h[c]=n[t+c];return h.length=s,g}return a}u=u||[NaN,NaN];let f=t+s;for(;f<e;)if(Z(n,f-s,f,s,l,o,u),g=A(l,o,u[0],u[1]),g<a){for(a=g,c=0;c<s;++c)h[c]=u[c];h.length=s,f+=s}else f+=s*Math.max((Math.sqrt(g)-Math.sqrt(a))/i|0,1);if(r&&(Z(n,e-s,t,s,l,o,u),g=A(l,o,u[0],u[1]),g<a)){for(a=g,c=0;c<s;++c)h[c]=u[c];h.length=s}return a}function ht(n,t,e,s,i,r,l,o,h,a,u){u=u||[NaN,NaN];for(let c=0,g=e.length;c<g;++c){const f=e[c];a=ot(n,t,f,s,i,r,l,o,h,a,u),t=f}return a}function Ne(n,t,e,s,i,r,l,o,h,a,u){u=u||[NaN,NaN];for(let c=0,g=e.length;c<g;++c){const f=e[c];a=ht(n,t,f,s,i,r,l,o,h,a,u),t=f[f.length-1]}return a}function te(n,t,e,s){for(let i=0,r=e.length;i<r;++i)n[t++]=e[i];return t}function at(n,t,e,s){for(let i=0,r=e.length;i<r;++i){const l=e[i];for(let o=0;o<s;++o)n[t++]=l[o]}return t}function ut(n,t,e,s,i){i=i||[];let r=0;for(let l=0,o=e.length;l<o;++l){const h=at(n,t,e[l],s);i[r++]=h,t=h}return i.length=r,i}function Xe(n,t,e,s,i){i=i||[];let r=0;for(let l=0,o=e.length;l<o;++l){const h=ut(n,t,e[l],s,i[r]);h.length===0&&(h[0]=t),i[r++]=h,t=h[h.length-1]}return i.length=r,i}function ct(n,t,e,s,i){i=i!==void 0?i:[];let r=0;for(let l=t;l<e;l+=s)i[r++]=n.slice(l,l+s);return i.length=r,i}function gt(n,t,e,s,i){i=i!==void 0?i:[];let r=0;for(let l=0,o=e.length;l<o;++l){const h=e[l];i[r++]=ct(n,t,h,s,i[r]),t=h}return i.length=r,i}function Ie(n,t,e,s,i){i=i!==void 0?i:[];let r=0;for(let l=0,o=e.length;l<o;++l){const h=e[l];i[r++]=h.length===1&&h[0]===t?[]:gt(n,t,h,s,i[r]),t=h[h.length-1]}return i.length=r,i}function ft(n,t,e,s,i,r,l){const o=(e-t)/s;if(o<3){for(;t<e;t+=s)r[l++]=n[t],r[l++]=n[t+1];return l}const h=new Array(o);h[0]=1,h[o-1]=1;const a=[t,e-s];let u=0;for(;a.length>0;){const c=a.pop(),g=a.pop();let f=0;const p=n[g],v=n[g+1],y=n[c],R=n[c+1];for(let _=g+s;_<c;_+=s){const N=n[_],x=n[_+1],D=At(N,x,p,v,y,R);D>f&&(u=_,f=D)}f>i&&(h[(u-t)/s]=1,g+s<u&&a.push(g,u),u+s<c&&a.push(u,c))}for(let c=0;c<o;++c)h[c]&&(r[l++]=n[t+c*s],r[l++]=n[t+c*s+1]);return l}function Fe(n,t,e,s,i,r,l,o){for(let h=0,a=e.length;h<a;++h){const u=e[h];l=ft(n,t,u,s,i,r,l),o.push(l),t=u}return l}function E(n,t){return t*Math.round(n/t)}function ee(n,t,e,s,i,r,l){if(t==e)return l;let o=E(n[t],i),h=E(n[t+1],i);t+=s,r[l++]=o,r[l++]=h;let a,u;do if(a=E(n[t],i),u=E(n[t+1],i),t+=s,t==e)return r[l++]=a,r[l++]=u,l;while(a==o&&u==h);for(;t<e;){const c=E(n[t],i),g=E(n[t+1],i);if(t+=s,c==a&&g==u)continue;const f=a-o,p=u-h,v=c-o,y=g-h;if(f*y==p*v&&(f<0&&v<f||f==v||f>0&&v>f)&&(p<0&&y<p||p==y||p>0&&y>p)){a=c,u=g;continue}r[l++]=a,r[l++]=u,o=a,h=u,a=c,u=g}return r[l++]=a,r[l++]=u,l}function pt(n,t,e,s,i,r,l,o){for(let h=0,a=e.length;h<a;++h){const u=e[h];l=ee(n,t,u,s,i,r,l),o.push(l),t=u}return l}function Te(n,t,e,s,i,r,l,o){for(let h=0,a=e.length;h<a;++h){const u=e[h],c=[];l=pt(n,t,u,s,i,r,l,c),o.push(c),t=u[u.length-1]}return l}class L extends m{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}clone(){return new L(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,s,i){return i<Q(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(rt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ot(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,s,i))}getArea(){return it(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ct(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=ft(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new L(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=at(this.flatCoordinates,0,t,this.stride),this.changed()}}class S extends m{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new S(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,s,i){const r=this.flatCoordinates,l=A(t,e,r[0],r[1]);if(l<i){const o=this.stride;for(let h=0;h<o;++h)s[h]=r[h];return s.length=o,l}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Lt(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return wt(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=te(this.flatCoordinates,0,t,this.stride),this.changed()}}function ne(n,t,e,s,i){return!Mt(i,function(l){return!C(n,t,e,s,l[0],l[1])})}function C(n,t,e,s,i,r){let l=0,o=n[e-s],h=n[e-s+1];for(;t<e;t+=s){const a=n[t],u=n[t+1];h<=r?u>r&&(a-o)*(r-h)-(i-o)*(u-h)>0&&l++:u<=r&&(a-o)*(r-h)-(i-o)*(u-h)<0&&l--,o=a,h=u}return l!==0}function G(n,t,e,s,i,r){if(e.length===0||!C(n,t,e[0],s,i,r))return!1;for(let l=1,o=e.length;l<o;++l)if(C(n,e[l-1],e[l],s,i,r))return!1;return!0}function je(n,t,e,s,i,r){if(e.length===0)return!1;for(let l=0,o=e.length;l<o;++l){const h=e[l];if(G(n,t,h,s,i,r))return!0;t=h[h.length-1]}return!1}function vt(n,t,e,s,i,r,l){let o,h,a,u,c,g,f;const p=i[r+1],v=[];for(let _=0,N=e.length;_<N;++_){const x=e[_];for(u=n[x-s],g=n[x-s+1],o=t;o<x;o+=s)c=n[o],f=n[o+1],(p<=g&&f<=p||g<=p&&p<=f)&&(a=(p-g)/(f-g)*(c-u)+u,v.push(a)),u=c,g=f}let y=NaN,R=-1/0;for(v.sort(F),u=v[0],o=1,h=v.length;o<h;++o){c=v[o];const _=Math.abs(c-u);_>R&&(a=(u+c)/2,G(n,t,e,s,a,p)&&(y=a,R=_)),u=c}return isNaN(y)&&(y=i[r]),l?(l.push(y,p,R),l):[y,p,R]}function me(n,t,e,s,i){let r=[];for(let l=0,o=e.length;l<o;++l){const h=e[l];r=vt(n,t,h,s,i,2*l,r),t=h[h.length-1]}return r}function ie(n,t,e,s,i){let r;for(t+=s;t<e;t+=s)if(r=i(n.slice(t-s,t),n.slice(t,t+s)),r)return r;return!1}function P(n,t,e,s,i,r){return r=r??Yt(z(),n,t,e,s),Nt(i,r)?r[0]>=i[0]&&r[2]<=i[2]||r[1]>=i[1]&&r[3]<=i[3]?!0:ie(n,t,e,s,function(l,o){return Xt(i,l,o)}):!1}function Se(n,t,e,s,i){for(let r=0,l=e.length;r<l;++r){if(P(n,t,e[r],s,i))return!0;t=e[r]}return!1}function se(n,t,e,s,i){return!!(P(n,t,e,s,i)||C(n,t,e,s,i[0],i[1])||C(n,t,e,s,i[0],i[3])||C(n,t,e,s,i[2],i[1])||C(n,t,e,s,i[2],i[3]))}function yt(n,t,e,s,i){if(!se(n,t,e[0],s,i))return!1;if(e.length===1)return!0;for(let r=1,l=e.length;r<l;++r)if(ne(n,e[r-1],e[r],s,i)&&!P(n,e[r-1],e[r],s,i))return!1;return!0}function Ge(n,t,e,s,i){for(let r=0,l=e.length;r<l;++r){const o=e[r];if(yt(n,t,o,s,i))return!0;t=o[o.length-1]}return!1}function re(n,t,e,s){for(;t<e-s;){for(let i=0;i<s;++i){const r=n[t+i];n[t+i]=n[e-s+i],n[e-s+i]=r}t+=s,e-=s}}function b(n,t,e,s){let i=0,r=n[e-s],l=n[e-s+1];for(;t<e;t+=s){const o=n[t],h=n[t+1];i+=(o-r)*(h+l),r=o,l=h}return i===0?void 0:i>0}function _t(n,t,e,s,i){i=i!==void 0?i:!1;for(let r=0,l=e.length;r<l;++r){const o=e[r],h=b(n,t,o,s);if(r===0){if(i&&h||!i&&!h)return!1}else if(i&&!h||!i&&h)return!1;t=o}return!0}function Pe(n,t,e,s,i){for(let r=0,l=e.length;r<l;++r){const o=e[r];if(!_t(n,t,o,s,i))return!1;o.length&&(t=o[o.length-1])}return!0}function I(n,t,e,s,i){i=i!==void 0?i:!1;for(let r=0,l=e.length;r<l;++r){const o=e[r],h=b(n,t,o,s);(r===0?i&&h||!i&&!h:i&&!h||!i&&h)&&re(n,t,o,s),t=o}return t}function be(n,t,e,s,i){for(let r=0,l=e.length;r<l;++r)t=I(n,t,e[r],s,i);return t}function De(n,t){const e=[];let s=0,i=0,r;for(let l=0,o=t.length;l<o;++l){const h=t[l],a=b(n,s,h,2);if(r===void 0&&(r=a),a===r)e.push(t.slice(i,l+1));else{if(e.length===0)continue;e[e.length-1].push(t[i])}i=l+1,s=h}return e}class w extends m{constructor(t,e,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,e!==void 0&&s?(this.setFlatCoordinates(e,t),this.ends_=s):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?tt(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new w(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,s,i){return i<Q(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(lt(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ht(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,s,i))}containsXY(t,e){return G(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return st(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),I(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,gt(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=W(this.getExtent());this.flatInteriorPoint_=vt(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new S(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new L(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,s=this.ends_,i=[];let r=0;for(let l=0,o=s.length;l<o;++l){const h=s[l],a=new L(e.slice(r,h),t);i.push(a),r=h}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;_t(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=I(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],s=[];return e.length=pt(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,s),new w(e,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return yt(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=ut(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function Oe(n,t,e,s){e=e||32;const i=[];for(let r=0;r<e;++r)tt(i,Ft(n,t,2*Math.PI*r/e,s));return i.push(i[0],i[1]),new w(i,"XY",[i.length])}function Ue(n){if(It(n))throw new Error("Cannot create polygon from empty extent");const t=n[0],e=n[1],s=n[2],i=n[3],r=[t,e,t,i,s,i,s,e,t,e];return new w(r,"XY",[r.length])}export{nt as $,P as A,et as B,at as C,lt as D,mt as E,fe as F,Qt as G,ht as H,gt as I,Fe as J,Se as K,Ye as L,Ne as M,je as N,jt as O,w as P,Me as Q,Ie as R,m as S,ge as T,me as U,k as V,Te as W,Ge as X,vt as Y,De as Z,Kt as _,d as a,Pt as a0,$t as a1,pt as a2,de as a3,F as a4,j as a5,Re as a6,ye as a7,Ee as a8,ue as a9,Gt as aa,E as ab,_e as ac,he as ad,we as ae,ve as af,Ue as ag,q as ah,Oe as ai,J as aj,bt as ak,pe as al,ce as am,se as an,St as ao,Ce as ap,xe as aq,H as ar,M as as,Le as at,Ae as au,b as av,L as aw,S as b,Pe as c,te as d,_t as e,I as f,V as g,Xe as h,Tt as i,Jt as j,ut as k,X as l,Ut as m,qt as n,be as o,tt as p,ae as q,Vt as r,kt as s,oe as t,$ as u,rt as v,ot as w,ie as x,ct as y,ft as z};
