import{E as v,K as D,T as w}from"./framework.-yi2pkQ4.js";import{b as l,g as F,n as V}from"./forwardRefs-BycDBi0f.DclkY7QX.js";import{G as B,aX as x,aY as E,a6 as P,aZ as A,J as O}from"./eo-dash.DckP5olI.js";const S=O({target:[Object,Array]},"v-dialog-transition"),y=new WeakMap,L=B()({name:"VDialogTransition",props:S(),setup(i,o){let{slots:e}=o;const r={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,f){var g;await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),t.style.visibility="";const n=$(i.target,t),{x:c,y:h,sx:m,sy:d,speed:a}=n;if(y.set(t,n),x())l(t,[{opacity:0},{}],{duration:125*a,easing:A}).finished.then(()=>f());else{const s=l(t,[{transform:`translate(${c}px, ${h}px) scale(${m}, ${d})`,opacity:0},{}],{duration:225*a,easing:A});(g=T(t))==null||g.forEach(p=>{l(p,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*a,easing:P})}),s.finished.then(()=>f())}},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,f){var g;await new Promise(s=>requestAnimationFrame(s));let n;!y.has(t)||Array.isArray(i.target)||i.target.offsetParent||i.target.getClientRects().length?n=$(i.target,t):n=y.get(t);const{x:c,y:h,sx:m,sy:d,speed:a}=n;x()?l(t,[{},{opacity:0}],{duration:85*a,easing:E}).finished.then(()=>f()):(l(t,[{},{transform:`translate(${c}px, ${h}px) scale(${m}, ${d})`,opacity:0}],{duration:125*a,easing:E}).finished.then(()=>f()),(g=T(t))==null||g.forEach(p=>{l(p,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*a,easing:P})}))},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>i.target?v(w,D({name:"dialog-transition"},r,{css:!1}),e):v(w,{name:"dialog-transition"},e)}});function T(i){var e;const o=(e=i.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:e.children;return o&&[...o]}function $(i,o){const e=F(i),r=V(o),[t,f]=getComputedStyle(o).transformOrigin.split(" ").map(C=>parseFloat(C)),[n,c]=getComputedStyle(o).getPropertyValue("--v-overlay-anchor-origin").split(" ");let h=e.left+e.width/2;n==="left"||c==="left"?h-=e.width/2:(n==="right"||c==="right")&&(h+=e.width/2);let m=e.top+e.height/2;n==="top"||c==="top"?m-=e.height/2:(n==="bottom"||c==="bottom")&&(m+=e.height/2);const d=e.width/r.width,a=e.height/r.height,g=Math.max(1,d,a),s=d/g||0,p=a/g||0,u=r.width*r.height/(window.innerWidth*window.innerHeight),b=u>.12?Math.min(1.5,(u-.12)*10+1):1;return{x:h-(t+r.left),y:m-(f+r.top),sx:s,sy:p,speed:b}}export{L as V};
