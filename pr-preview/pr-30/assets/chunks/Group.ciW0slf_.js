const v={ADD:"add",REMOVE:"remove"},B={PROPERTYCHANGE:"propertychange"},q={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class x{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function ms(t,s,e){let i,n;e=e||F;let r=0,o=t.length,u=!1;for(;r<o;)i=r+(o-r>>1),n=+e(t[i],s),n<0?r=i+1:(o=i,u=!n);return u?r:~r}function F(t,s){return t>s?1:t<s?-1:0}function Ls(t,s){return t<s?1:t>s?-1:0}function vs(t,s,e){if(t[0]<=s)return 0;const i=t.length;if(s<=t[i-1])return i-1;if(typeof e=="function"){for(let n=1;n<i;++n){const r=t[n];if(r===s)return n;if(r<s)return e(s,t[n-1],r)>0?n-1:n}return i-1}if(e>0){for(let n=1;n<i;++n)if(t[n]<s)return n-1;return i-1}if(e<0){for(let n=1;n<i;++n)if(t[n]<=s)return n;return i-1}for(let n=1;n<i;++n){if(t[n]==s)return n;if(t[n]<s)return t[n-1]-s<s-t[n]?n-1:n}return i-1}function Rs(t,s,e){for(;s<e;){const i=t[s];t[s]=t[e],t[e]=i,++s,--e}}function As(t,s){const e=Array.isArray(s)?s:[s],i=e.length;for(let n=0;n<i;n++)t[t.length]=e[n]}function ss(t,s){const e=t.length;if(e!==s.length)return!1;for(let i=0;i<e;i++)if(t[i]!==s[i])return!1;return!0}function Os(t,s,e){const i=s||F;return t.every(function(n,r){if(r===0)return!0;const o=i(t[r-1],n);return!(o>0||o===0)})}function Is(){return!0}function Ms(){return!1}function D(){}function Ns(t){let s,e,i;return function(){const n=Array.prototype.slice.call(arguments);return(!e||this!==i||!ss(n,e))&&(i=this,e=n,s=t.apply(this,arguments)),s}}function Ts(t){function s(){let e;try{e=t()}catch(i){return Promise.reject(i)}return e instanceof Promise?e:Promise.resolve(e)}return s()}function Z(t){for(const s in t)delete t[s]}function ts(t){let s;for(s in t)return!1;return!s}class M{constructor(s){this.propagationStopped,this.defaultPrevented,this.type=s,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function ws(t){t.stopPropagation()}class es extends x{constructor(s){super(),this.eventTarget_=s,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(s,e){if(!s||!e)return;const i=this.listeners_||(this.listeners_={}),n=i[s]||(i[s]=[]);n.includes(e)||n.push(e)}dispatchEvent(s){const e=typeof s=="string",i=e?s:s.type,n=this.listeners_&&this.listeners_[i];if(!n)return;const r=e?new M(s):s;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,u[i]=0),++o[i];let a;for(let h=0,d=n.length;h<d;++h)if("handleEvent"in n[h]?a=n[h].handleEvent(r):a=n[h].call(this,r),a===!1||r.propagationStopped){a=!1;break}if(--o[i]===0){let h=u[i];for(delete u[i];h--;)this.removeEventListener(i,D);delete o[i]}return a}disposeInternal(){this.listeners_&&Z(this.listeners_)}getListeners(s){return this.listeners_&&this.listeners_[s]||void 0}hasListener(s){return this.listeners_?s?s in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(s,e){if(!this.listeners_)return;const i=this.listeners_[s];if(!i)return;const n=i.indexOf(e);n!==-1&&(this.pendingRemovals_&&s in this.pendingRemovals_?(i[n]=D,++this.pendingRemovals_[s]):(i.splice(n,1),i.length===0&&delete this.listeners_[s]))}}function p(t,s,e,i,n){if(n){const o=e;e=function(u){return t.removeEventListener(s,e),o.call(i??this,u)}}else i&&i!==t&&(e=e.bind(i));const r={target:t,type:s,listener:e};return t.addEventListener(s,e),r}function X(t,s,e,i){return p(t,s,e,i,!0)}function R(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Z(t))}class N extends es{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(q.CHANGE)}getRevision(){return this.revision_}onInternal(s,e){if(Array.isArray(s)){const i=s.length,n=new Array(i);for(let r=0;r<i;++r)n[r]=p(this,s[r],e);return n}return p(this,s,e)}onceInternal(s,e){let i;if(Array.isArray(s)){const n=s.length;i=new Array(n);for(let r=0;r<n;++r)i[r]=X(this,s[r],e)}else i=X(this,s,e);return e.ol_key=i,i}unInternal(s,e){const i=e.ol_key;if(i)is(i);else if(Array.isArray(s))for(let n=0,r=s.length;n<r;++n)this.removeEventListener(s[n],e);else this.removeEventListener(s,e)}}N.prototype.on;N.prototype.once;N.prototype.un;function is(t){if(Array.isArray(t))for(let s=0,e=t.length;s<e;++s)R(t[s]);else R(t)}function w(){throw new Error("Unimplemented abstract method.")}let ns=0;function b(t){return t.ol_uid||(t.ol_uid=String(++ns))}class V extends M{constructor(s,e,i){super(s),this.key=e,this.oldValue=i}}class H extends N{constructor(s){super(),this.on,this.once,this.un,b(this),this.values_=null,s!==void 0&&this.setProperties(s)}get(s){let e;return this.values_&&this.values_.hasOwnProperty(s)&&(e=this.values_[s]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(s,e){let i;i=`change:${s}`,this.hasListener(i)&&this.dispatchEvent(new V(i,s,e)),i=B.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new V(i,s,e))}addChangeListener(s,e){this.addEventListener(`change:${s}`,e)}removeChangeListener(s,e){this.removeEventListener(`change:${s}`,e)}set(s,e,i){const n=this.values_||(this.values_={});if(i)n[s]=e;else{const r=n[s];n[s]=e,r!==e&&this.notify(s,r)}}setProperties(s,e){for(const i in s)this.set(i,s[i],e)}applyProperties(s){s.values_&&Object.assign(this.values_||(this.values_={}),s.values_)}unset(s,e){if(this.values_&&s in this.values_){const i=this.values_[s];delete this.values_[s],ts(this.values_)&&(this.values_=null),e||this.notify(s,i)}}}const U={LENGTH:"length"};class O extends M{constructor(s,e,i){super(s),this.element=e,this.index=i}}class G extends H{constructor(s,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=s??[],this.unique_)for(let i=1,n=this.array_.length;i<n;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(s){for(let e=0,i=s.length;e<i;++e)this.push(s[e]);return this}forEach(s){const e=this.array_;for(let i=0,n=e.length;i<n;++i)s(e[i],i,e)}getArray(){return this.array_}item(s){return this.array_[s]}getLength(){return this.get(U.LENGTH)}insertAt(s,e){if(s<0||s>this.getLength())throw new Error("Index out of bounds: "+s);this.unique_&&this.assertUnique_(e),this.array_.splice(s,0,e),this.updateLength_(),this.dispatchEvent(new O(v.ADD,e,s))}pop(){return this.removeAt(this.getLength()-1)}push(s){const e=this.getLength();return this.insertAt(e,s),this.getLength()}remove(s){const e=this.array_;for(let i=0,n=e.length;i<n;++i)if(e[i]===s)return this.removeAt(i)}removeAt(s){if(s<0||s>=this.getLength())return;const e=this.array_[s];return this.array_.splice(s,1),this.updateLength_(),this.dispatchEvent(new O(v.REMOVE,e,s)),e}setAt(s,e){const i=this.getLength();if(s>=i){this.insertAt(s,e);return}if(s<0)throw new Error("Index out of bounds: "+s);this.unique_&&this.assertUnique_(e,s);const n=this.array_[s];this.array_[s]=e,this.dispatchEvent(new O(v.REMOVE,n,s)),this.dispatchEvent(new O(v.ADD,e,s))}updateLength_(){this.set(U.LENGTH,this.array_.length)}assertUnique_(s,e){const i=this.array_;for(let n=0,r=i.length;n<r;++n)if(i[n]===s&&n!==e)throw new Error("Duplicate item added to a unique collection")}}function C(t,s){if(!t)throw new Error(s)}const c={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Ss(t){const s=W();for(let e=0,i=t.length;e<i;++e)os(s,t[e]);return s}function rs(t,s,e){const i=Math.min.apply(null,t),n=Math.min.apply(null,s),r=Math.max.apply(null,t),o=Math.max.apply(null,s);return T(i,n,r,o,e)}function bs(t,s,e){return e?(e[0]=t[0]-s,e[1]=t[1]-s,e[2]=t[2]+s,e[3]=t[3]+s,e):[t[0]-s,t[1]-s,t[2]+s,t[3]+s]}function Cs(t,s){return s?(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s):t.slice()}function Zs(t,s,e){let i,n;return s<t[0]?i=t[0]-s:t[2]<s?i=s-t[2]:i=0,e<t[1]?n=t[1]-e:t[3]<e?n=e-t[3]:n=0,i*i+n*n}function Ps(t,s){return as(t,s[0],s[1])}function Ys(t,s){return t[0]<=s[0]&&s[2]<=t[2]&&t[1]<=s[1]&&s[3]<=t[3]}function as(t,s,e){return t[0]<=s&&s<=t[2]&&t[1]<=e&&e<=t[3]}function K(t,s){const e=t[0],i=t[1],n=t[2],r=t[3],o=s[0],u=s[1];let a=c.UNKNOWN;return o<e?a=a|c.LEFT:o>n&&(a=a|c.RIGHT),u<i?a=a|c.BELOW:u>r&&(a=a|c.ABOVE),a===c.UNKNOWN&&(a=c.INTERSECTING),a}function W(){return[1/0,1/0,-1/0,-1/0]}function T(t,s,e,i,n){return n?(n[0]=t,n[1]=s,n[2]=e,n[3]=i,n):[t,s,e,i]}function P(t){return T(1/0,1/0,-1/0,-1/0,t)}function Ds(t,s){const e=t[0],i=t[1];return T(e,i,e,i,s)}function Xs(t,s,e,i,n){const r=P(n);return us(r,t,s,e,i)}function Vs(t,s){return t[0]==s[0]&&t[2]==s[2]&&t[1]==s[1]&&t[3]==s[3]}function Us(t,s,e){return Math.abs(t[0]-s[0])<e&&Math.abs(t[2]-s[2])<e&&Math.abs(t[1]-s[1])<e&&Math.abs(t[3]-s[3])<e}function Gs(t,s){return s[0]<t[0]&&(t[0]=s[0]),s[2]>t[2]&&(t[2]=s[2]),s[1]<t[1]&&(t[1]=s[1]),s[3]>t[3]&&(t[3]=s[3]),t}function os(t,s){s[0]<t[0]&&(t[0]=s[0]),s[0]>t[2]&&(t[2]=s[0]),s[1]<t[1]&&(t[1]=s[1]),s[1]>t[3]&&(t[3]=s[1])}function us(t,s,e,i,n){for(;e<i;e+=n)hs(t,s[e],s[e+1]);return t}function hs(t,s,e){t[0]=Math.min(t[0],s),t[1]=Math.min(t[1],e),t[2]=Math.max(t[2],s),t[3]=Math.max(t[3],e)}function Ks(t,s){let e;return e=s(j(t)),e||(e=s(z(t)),e)||(e=s(k(t)),e)||(e=s($(t)),e)?e:!1}function Bs(t){let s=0;return J(t)||(s=I(t)*fs(t)),s}function j(t){return[t[0],t[1]]}function z(t){return[t[2],t[1]]}function ls(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function qs(t,s){let e;if(s==="bottom-left")e=j(t);else if(s==="bottom-right")e=z(t);else if(s==="top-left")e=$(t);else if(s==="top-right")e=k(t);else throw new Error("Invalid corner");return e}function Fs(t,s,e,i,n){const[r,o,u,a,h,d,y,f]=cs(t,s,e,i);return T(Math.min(r,u,h,y),Math.min(o,a,d,f),Math.max(r,u,h,y),Math.max(o,a,d,f),n)}function cs(t,s,e,i){const n=s*i[0]/2,r=s*i[1]/2,o=Math.cos(e),u=Math.sin(e),a=n*o,h=n*u,d=r*o,y=r*u,f=t[0],g=t[1];return[f-a+y,g-h-d,f-a-y,g-h+d,f+a-y,g+h+d,f+a+y,g+h-d,f-a+y,g-h-d]}function fs(t){return t[3]-t[1]}function ds(t,s,e){const i=e||W();return gs(t,s)?(t[0]>s[0]?i[0]=t[0]:i[0]=s[0],t[1]>s[1]?i[1]=t[1]:i[1]=s[1],t[2]<s[2]?i[2]=t[2]:i[2]=s[2],t[3]<s[3]?i[3]=t[3]:i[3]=s[3]):P(i),i}function $(t){return[t[0],t[3]]}function k(t){return[t[2],t[3]]}function I(t){return t[2]-t[0]}function gs(t,s){return t[0]<=s[2]&&t[2]>=s[0]&&t[1]<=s[3]&&t[3]>=s[1]}function J(t){return t[2]<t[0]||t[3]<t[1]}function Hs(t,s){return s?(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s):t}function Ws(t,s){const e=(t[2]-t[0])/2*(s-1),i=(t[3]-t[1])/2*(s-1);t[0]-=e,t[2]+=e,t[1]-=i,t[3]+=i}function js(t,s,e){let i=!1;const n=K(t,s),r=K(t,e);if(n===c.INTERSECTING||r===c.INTERSECTING)i=!0;else{const o=t[0],u=t[1],a=t[2],h=t[3],d=s[0],y=s[1],f=e[0],g=e[1],A=(g-y)/(f-d);let _,m;r&c.ABOVE&&!(n&c.ABOVE)&&(_=f-(g-h)/A,i=_>=o&&_<=a),!i&&r&c.RIGHT&&!(n&c.RIGHT)&&(m=g-(f-a)*A,i=m>=u&&m<=h),!i&&r&c.BELOW&&!(n&c.BELOW)&&(_=f-(g-u)/A,i=_>=o&&_<=a),!i&&r&c.LEFT&&!(n&c.LEFT)&&(m=g-(f-o)*A,i=m>=u&&m<=h)}return i}function zs(t,s,e,i){if(J(t))return P(e);let n=[];if(i>1){const u=t[2]-t[0],a=t[3]-t[1];for(let h=0;h<i;++h)n.push(t[0]+u*h/i,t[1],t[2],t[1]+a*h/i,t[2]-u*h/i,t[3],t[0],t[3]-a*h/i)}else n=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];s(n,n,2);const r=[],o=[];for(let u=0,a=n.length;u<a;u+=2)r.push(n[u]),o.push(n[u+1]);return rs(r,o,e)}function ys(t,s){const e=s.getExtent(),i=ls(t);if(s.canWrapX()&&(i[0]<e[0]||i[0]>=e[2])){const n=I(e),o=Math.floor((i[0]-e[0])/n)*n;t[0]-=o,t[2]-=o}return t}function $s(t,s,e){if(s.canWrapX()){const i=s.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];ys(t,s);const n=I(i);if(I(t)>n&&!e)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+n,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-n,t[3]]]}return[t]}function ps(t,s,e){return Math.min(Math.max(t,s),e)}function ks(t,s,e,i,n,r){const o=n-e,u=r-i;if(o!==0||u!==0){const a=((t-e)*o+(s-i)*u)/(o*o+u*u);a>1?(e=n,i=r):a>0&&(e+=o*a,i+=u*a)}return Es(t,s,e,i)}function Es(t,s,e,i){const n=e-t,r=i-s;return n*n+r*r}function Js(t){const s=t.length;for(let i=0;i<s;i++){let n=i,r=Math.abs(t[i][i]);for(let u=i+1;u<s;u++){const a=Math.abs(t[u][i]);a>r&&(r=a,n=u)}if(r===0)return null;const o=t[n];t[n]=t[i],t[i]=o;for(let u=i+1;u<s;u++){const a=-t[u][i]/t[i][i];for(let h=i;h<s+1;h++)i==h?t[u][h]=0:t[u][h]+=a*t[i][h]}}const e=new Array(s);for(let i=s-1;i>=0;i--){e[i]=t[i][s]/t[i][i];for(let n=i-1;n>=0;n--)t[n][s]-=t[n][i]*e[i]}return e}function Qs(t){return t*180/Math.PI}function xs(t){return t*Math.PI/180}function st(t,s){const e=t%s;return e*s<0?e+s:e}function tt(t,s,e){return t+e*(s-t)}function Y(t,s){const e=Math.pow(10,s);return Math.round(t*e)/e}function et(t,s){return Math.round(Y(t,s))}function it(t,s){return Math.floor(Y(t,s))}function nt(t,s){return Math.ceil(Y(t,s))}function rt(t,s,e){if(t>=s&&t<e)return t;const i=e-s;return((t-s)%i+i)%i+s}const l={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class _s extends H{constructor(s){super(),this.on,this.once,this.un,this.background_=s.background;const e=Object.assign({},s);typeof s.properties=="object"&&(delete e.properties,Object.assign(e,s.properties)),e[l.OPACITY]=s.opacity!==void 0?s.opacity:1,C(typeof e[l.OPACITY]=="number","Layer opacity must be a number"),e[l.VISIBLE]=s.visible!==void 0?s.visible:!0,e[l.Z_INDEX]=s.zIndex,e[l.MAX_RESOLUTION]=s.maxResolution!==void 0?s.maxResolution:1/0,e[l.MIN_RESOLUTION]=s.minResolution!==void 0?s.minResolution:0,e[l.MIN_ZOOM]=s.minZoom!==void 0?s.minZoom:-1/0,e[l.MAX_ZOOM]=s.maxZoom!==void 0?s.maxZoom:1/0,this.className_=e.className!==void 0?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(s){const e=this.state_||{layer:this,managed:s===void 0?!0:s},i=this.getZIndex();return e.opacity=ps(Math.round(this.getOpacity()*100)/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=i===void 0&&!e.managed?1/0:i,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(s){return w()}getLayerStatesArray(s){return w()}getExtent(){return this.get(l.EXTENT)}getMaxResolution(){return this.get(l.MAX_RESOLUTION)}getMinResolution(){return this.get(l.MIN_RESOLUTION)}getMinZoom(){return this.get(l.MIN_ZOOM)}getMaxZoom(){return this.get(l.MAX_ZOOM)}getOpacity(){return this.get(l.OPACITY)}getSourceState(){return w()}getVisible(){return this.get(l.VISIBLE)}getZIndex(){return this.get(l.Z_INDEX)}setBackground(s){this.background_=s,this.changed()}setExtent(s){this.set(l.EXTENT,s)}setMaxResolution(s){this.set(l.MAX_RESOLUTION,s)}setMinResolution(s){this.set(l.MIN_RESOLUTION,s)}setMaxZoom(s){this.set(l.MAX_ZOOM,s)}setMinZoom(s){this.set(l.MIN_ZOOM,s)}setOpacity(s){C(typeof s=="number","Layer opacity must be a number"),this.set(l.OPACITY,s)}setVisible(s){this.set(l.VISIBLE,s)}setZIndex(s){this.set(l.Z_INDEX,s)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const E={ADDLAYER:"addlayer",REMOVELAYER:"removelayer"};class L extends M{constructor(s,e){super(s),this.layer=e}}const S={LAYERS:"layers"};class Q extends _s{constructor(s){s=s||{};const e=Object.assign({},s);delete e.layers;let i=s.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(S.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new G(i.slice(),{unique:!0}):C(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new G(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(R),this.layersListenerKeys_.length=0;const s=this.getLayers();this.layersListenerKeys_.push(p(s,v.ADD,this.handleLayersAdd_,this),p(s,v.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(R);Z(this.listenerKeys_);const e=s.getArray();for(let i=0,n=e.length;i<n;i++){const r=e[i];this.registerLayerListeners_(r),this.dispatchEvent(new L(E.ADDLAYER,r))}this.changed()}registerLayerListeners_(s){const e=[p(s,B.PROPERTYCHANGE,this.handleLayerChange_,this),p(s,q.CHANGE,this.handleLayerChange_,this)];s instanceof Q&&e.push(p(s,E.ADDLAYER,this.handleLayerGroupAdd_,this),p(s,E.REMOVELAYER,this.handleLayerGroupRemove_,this)),this.listenerKeys_[b(s)]=e}handleLayerGroupAdd_(s){this.dispatchEvent(new L(E.ADDLAYER,s.layer))}handleLayerGroupRemove_(s){this.dispatchEvent(new L(E.REMOVELAYER,s.layer))}handleLayersAdd_(s){const e=s.element;this.registerLayerListeners_(e),this.dispatchEvent(new L(E.ADDLAYER,e)),this.changed()}handleLayersRemove_(s){const e=s.element,i=b(e);this.listenerKeys_[i].forEach(R),delete this.listenerKeys_[i],this.dispatchEvent(new L(E.REMOVELAYER,e)),this.changed()}getLayers(){return this.get(S.LAYERS)}setLayers(s){const e=this.getLayers();if(e){const i=e.getArray();for(let n=0,r=i.length;n<r;++n)this.dispatchEvent(new L(E.REMOVELAYER,i[n]))}this.set(S.LAYERS,s)}getLayersArray(s){return s=s!==void 0?s:[],this.getLayers().forEach(function(e){e.getLayersArray(s)}),s}getLayerStatesArray(s){const e=s!==void 0?s:[],i=e.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(e)});const n=this.getLayerState();let r=n.zIndex;!s&&n.zIndex===void 0&&(r=0);for(let o=i,u=e.length;o<u;o++){const a=e[o];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),a.minZoom=Math.max(a.minZoom,n.minZoom),a.maxZoom=Math.min(a.maxZoom,n.maxZoom),n.extent!==void 0&&(a.extent!==void 0?a.extent=ds(a.extent,n.extent):a.extent=n.extent),a.zIndex===void 0&&(a.zIndex=r)}return e}getSourceState(){return"ready"}}export{v as $,as as A,M as B,Ks as C,F as D,q as E,us as F,gs as G,js as H,As as I,J,vs as K,Q as L,Fs as M,Ts as N,ss as O,G as P,Is as Q,Ms as R,x as S,es as T,_s as U,D as V,l as W,X,b as Y,ts as Z,B as _,C as a,L as a0,Vs as a1,Cs as a2,T as a3,ms as a4,Ps as a5,K as a6,c as a7,Rs as a8,bs as a9,os as aa,Ls as ab,N as ac,$ as ad,k as ae,z as af,j as ag,Ys as ah,ys as ai,Gs as aj,$s as ak,Ss as al,ds as am,Js as an,Bs as ao,cs as ap,nt as aq,et as ar,it as as,Os as at,qs as au,ws as av,Ws as aw,Us as ax,ps as b,Z as c,xs as d,Qs as e,zs as f,I as g,H as h,W as i,Ns as j,w as k,p as l,st as m,P as n,fs as o,Xs as p,ls as q,Hs as r,Es as s,Y as t,R as u,tt as v,rt as w,ks as x,Zs as y,Ds as z};
