import{p as ss,v as Zt,P as Wt,q as Ht,c as As,o as Bs,j as R,e as Ks,a4 as Js,a as Ds,a0 as us,aF as gs,t as Qs}from"./chunks/framework.BZlrR07V.js";import{_ as Ut}from"./chunks/openlayers-logo.Do21AuJc.js";import{W as st,M as Kt,g as Jt,w as Qt,a as si,b as ti,c as ii}from"./chunks/XYZ.DipmalTG.js";import{G as ni,O as ei}from"./chunks/ol.AnzxVW_C.js";import"./chunks/Group.BuEEX7y8.js";import"./chunks/index.jYV8uuws.js";const{min:ai,max:li}=Math,Q=(s,t=0,i=1)=>ai(li(t,s),i),Ts=s=>{s._clipped=!1,s._unclipped=s.slice(0);for(let t=0;t<=3;t++)t<3?((s[t]<0||s[t]>255)&&(s._clipped=!0),s[t]=Q(s[t],0,255)):t===3&&(s[t]=Q(s[t],0,1));return s},ft={};for(let s of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])ft[`[object ${s}]`]=s.toLowerCase();function A(s){return ft[Object.prototype.toString.call(s)]||"object"}const v=(s,t=null)=>s.length>=3?Array.prototype.slice.call(s):A(s[0])=="object"&&t?t.split("").filter(i=>s[0][i]!==void 0).map(i=>s[0][i]):s[0].slice(0),ls=s=>{if(s.length<2)return null;const t=s.length-1;return A(s[t])=="string"?s[t].toLowerCase():null},{PI:Cs,min:ut,max:gt}=Math,O=s=>Math.round(s*100)/100,Vs=s=>Math.round(s*100)/100,Z=Cs*2,Ms=Cs/3,ri=Cs/180,hi=180/Cs;function Et(s){return[...s.slice(0,3).reverse(),...s.slice(3)]}const C={format:{},autodetect:[]};class c{constructor(...t){const i=this;if(A(t[0])==="object"&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];let n=ls(t),e=!1;if(!n){e=!0,C.sorted||(C.autodetect=C.autodetect.sort((l,a)=>a.p-l.p),C.sorted=!0);for(let l of C.autodetect)if(n=l.test(...t),n)break}if(C.format[n]){const l=C.format[n].apply(null,e?t:t.slice(0,-1));i._rgb=Ts(l)}else throw new Error("unknown format: "+t);i._rgb.length===3&&i._rgb.push(1)}toString(){return A(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const oi="3.2.0",B=(...s)=>new c(...s);B.version=oi;const es={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},pi=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ci=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,bt=s=>{if(s.match(pi)){(s.length===4||s.length===7)&&(s=s.substr(1)),s.length===3&&(s=s.split(""),s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]);const t=parseInt(s,16),i=t>>16,n=t>>8&255,e=t&255;return[i,n,e,1]}if(s.match(ci)){(s.length===5||s.length===9)&&(s=s.substr(1)),s.length===4&&(s=s.split(""),s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]+s[3]+s[3]);const t=parseInt(s,16),i=t>>24&255,n=t>>16&255,e=t>>8&255,l=Math.round((t&255)/255*100)/100;return[i,n,e,l]}throw new Error(`unknown hex color: ${s}`)},{round:Es}=Math,yt=(...s)=>{let[t,i,n,e]=v(s,"rgba"),l=ls(s)||"auto";e===void 0&&(e=1),l==="auto"&&(l=e<1?"rgba":"rgb"),t=Es(t),i=Es(i),n=Es(n);let r="000000"+(t<<16|i<<8|n).toString(16);r=r.substr(r.length-6);let h="0"+Es(e*255).toString(16);switch(h=h.substr(h.length-2),l.toLowerCase()){case"rgba":return`#${r}${h}`;case"argb":return`#${h}${r}`;default:return`#${r}`}};c.prototype.name=function(){const s=yt(this._rgb,"rgb");for(let t of Object.keys(es))if(es[t]===s)return t.toLowerCase();return s};C.format.named=s=>{if(s=s.toLowerCase(),es[s])return bt(es[s]);throw new Error("unknown color name: "+s)};C.autodetect.push({p:5,test:(s,...t)=>{if(!t.length&&A(s)==="string"&&es[s.toLowerCase()])return"named"}});c.prototype.alpha=function(s,t=!1){return s!==void 0&&A(s)==="number"?t?(this._rgb[3]=s,this):new c([this._rgb[0],this._rgb[1],this._rgb[2],s],"rgb"):this._rgb[3]};c.prototype.clipped=function(){return this._rgb._clipped||!1};const Y={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},ki=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function W(s){const t=ki.get(String(s).toLowerCase());if(!t)throw new Error("unknown Lab illuminant "+s);Y.labWhitePoint=s,Y.Xn=t[0],Y.Zn=t[1]}function cs(){return Y.labWhitePoint}const Gs=(...s)=>{s=v(s,"lab");const[t,i,n]=s,[e,l,a]=di(t,i,n),[r,h,o]=mt(e,l,a);return[r,h,o,s.length>3?s[3]:1]},di=(s,t,i)=>{const{kE:n,kK:e,kKE:l,Xn:a,Yn:r,Zn:h}=Y,o=(s+16)/116,k=.002*t+o,f=o-.005*i,d=k*k*k,E=f*f*f,F=d>n?d:(116*k-16)/e,M=s>l?Math.pow((s+16)/116,3):s/e,b=E>n?E:(116*f-16)/e,u=F*a,g=M*r,x=b*h;return[u,g,x]},xs=s=>{const t=Math.sign(s);return s=Math.abs(s),(s<=.0031308?s*12.92:1.055*Math.pow(s,1/2.4)-.055)*t},mt=(s,t,i)=>{const{MtxAdaptMa:n,MtxAdaptMaI:e,MtxXYZ2RGB:l,RefWhiteRGB:a,Xn:r,Yn:h,Zn:o}=Y,k=r*n.m00+h*n.m10+o*n.m20,f=r*n.m01+h*n.m11+o*n.m21,d=r*n.m02+h*n.m12+o*n.m22,E=a.X*n.m00+a.Y*n.m10+a.Z*n.m20,F=a.X*n.m01+a.Y*n.m11+a.Z*n.m21,M=a.X*n.m02+a.Y*n.m12+a.Z*n.m22,b=(s*n.m00+t*n.m10+i*n.m20)*(E/k),u=(s*n.m01+t*n.m11+i*n.m21)*(F/f),g=(s*n.m02+t*n.m12+i*n.m22)*(M/d),x=b*e.m00+u*e.m10+g*e.m20,$=b*e.m01+u*e.m11+g*e.m21,N=b*e.m02+u*e.m12+g*e.m22,q=xs(x*l.m00+$*l.m10+N*l.m20),D=xs(x*l.m01+$*l.m11+N*l.m21),p=xs(x*l.m02+$*l.m12+N*l.m22);return[q*255,D*255,p*255]},zs=(...s)=>{const[t,i,n,...e]=v(s,"rgb"),[l,a,r]=Ft(t,i,n),[h,o,k]=fi(l,a,r);return[h,o,k,...e.length>0&&e[0]<1?[e[0]]:[]]};function fi(s,t,i){const{Xn:n,Yn:e,Zn:l,kE:a,kK:r}=Y,h=s/n,o=t/e,k=i/l,f=h>a?Math.pow(h,1/3):(r*h+16)/116,d=o>a?Math.pow(o,1/3):(r*o+16)/116,E=k>a?Math.pow(k,1/3):(r*k+16)/116;return[116*d-16,500*(f-d),200*(d-E)]}function $s(s){const t=Math.sign(s);return s=Math.abs(s),(s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4))*t}const Ft=(s,t,i)=>{s=$s(s/255),t=$s(t/255),i=$s(i/255);const{MtxRGB2XYZ:n,MtxAdaptMa:e,MtxAdaptMaI:l,Xn:a,Yn:r,Zn:h,As:o,Bs:k,Cs:f}=Y;let d=s*n.m00+t*n.m10+i*n.m20,E=s*n.m01+t*n.m11+i*n.m21,F=s*n.m02+t*n.m12+i*n.m22;const M=a*e.m00+r*e.m10+h*e.m20,b=a*e.m01+r*e.m11+h*e.m21,u=a*e.m02+r*e.m12+h*e.m22;let g=d*e.m00+E*e.m10+F*e.m20,x=d*e.m01+E*e.m11+F*e.m21,$=d*e.m02+E*e.m12+F*e.m22;return g*=M/o,x*=b/k,$*=u/f,d=g*l.m00+x*l.m10+$*l.m20,E=g*l.m01+x*l.m11+$*l.m21,F=g*l.m02+x*l.m12+$*l.m22,[d,E,F]};c.prototype.lab=function(){return zs(this._rgb)};const ui=(...s)=>new c(...s,"lab");Object.assign(B,{lab:ui,getLabWhitePoint:cs,setLabWhitePoint:W});C.format.lab=Gs;C.autodetect.push({p:2,test:(...s)=>{if(s=v(s,"lab"),A(s)==="array"&&s.length===3)return"lab"}});c.prototype.darken=function(s=1){const t=this,i=t.lab();return i[0]-=Y.Kn*s,new c(i,"lab").alpha(t.alpha(),!0)};c.prototype.brighten=function(s=1){return this.darken(-s)};c.prototype.darker=c.prototype.darken;c.prototype.brighter=c.prototype.brighten;c.prototype.get=function(s){const[t,i]=s.split("."),n=this[t]();if(i){const e=t.indexOf(i)-(t.substr(0,2)==="ok"?2:0);if(e>-1)return n[e];throw new Error(`unknown channel ${i} in mode ${t}`)}else return n};const{pow:gi}=Math,Ei=1e-7,bi=20;c.prototype.luminance=function(s,t="rgb"){if(s!==void 0&&A(s)==="number"){if(s===0)return new c([0,0,0,this._rgb[3]],"rgb");if(s===1)return new c([255,255,255,this._rgb[3]],"rgb");let i=this.luminance(),n=bi;const e=(a,r)=>{const h=a.interpolate(r,.5,t),o=h.luminance();return Math.abs(s-o)<Ei||!n--?h:o>s?e(a,h):e(h,r)},l=(i>s?e(new c([0,0,0]),this):e(this,new c([255,255,255]))).rgb();return new c([...l,this._rgb[3]])}return yi(...this._rgb.slice(0,3))};const yi=(s,t,i)=>(s=Ls(s),t=Ls(t),i=Ls(i),.2126*s+.7152*t+.0722*i),Ls=s=>(s/=255,s<=.03928?s/12.92:gi((s+.055)/1.055,2.4)),S={},as=(s,t,i=.5,...n)=>{let e=n[0]||"lrgb";if(!S[e]&&!n.length&&(e=Object.keys(S)[0]),!S[e])throw new Error(`interpolation mode ${e} is not defined`);return A(s)!=="object"&&(s=new c(s)),A(t)!=="object"&&(t=new c(t)),S[e](s,t,i).alpha(s.alpha()+i*(t.alpha()-s.alpha()))};c.prototype.mix=c.prototype.interpolate=function(s,t=.5,...i){return as(this,s,t,...i)};c.prototype.premultiply=function(s=!1){const t=this._rgb,i=t[3];return s?(this._rgb=[t[0]*i,t[1]*i,t[2]*i,i],this):new c([t[0]*i,t[1]*i,t[2]*i,i],"rgb")};const{sin:mi,cos:Fi}=Math,wt=(...s)=>{let[t,i,n]=v(s,"lch");return isNaN(n)&&(n=0),n=n*ri,[t,Fi(n)*i,mi(n)*i]},Ys=(...s)=>{s=v(s,"lch");const[t,i,n]=s,[e,l,a]=wt(t,i,n),[r,h,o]=Gs(e,l,a);return[r,h,o,s.length>3?s[3]:1]},wi=(...s)=>{const t=Et(v(s,"hcl"));return Ys(...t)},{sqrt:Ci,atan2:vi,round:_i}=Math,Ct=(...s)=>{const[t,i,n]=v(s,"lab"),e=Ci(i*i+n*n);let l=(vi(n,i)*hi+360)%360;return _i(e*1e4)===0&&(l=Number.NaN),[t,e,l]},Xs=(...s)=>{const[t,i,n,...e]=v(s,"rgb"),[l,a,r]=zs(t,i,n),[h,o,k]=Ct(l,a,r);return[h,o,k,...e.length>0&&e[0]<1?[e[0]]:[]]};c.prototype.lch=function(){return Xs(this._rgb)};c.prototype.hcl=function(){return Et(Xs(this._rgb))};const Ai=(...s)=>new c(...s,"lch"),Bi=(...s)=>new c(...s,"hcl");Object.assign(B,{lch:Ai,hcl:Bi});C.format.lch=Ys;C.format.hcl=wi;["lch","hcl"].forEach(s=>C.autodetect.push({p:2,test:(...t)=>{if(t=v(t,s),A(t)==="array"&&t.length===3)return s}}));c.prototype.saturate=function(s=1){const t=this,i=t.lch();return i[1]+=Y.Kn*s,i[1]<0&&(i[1]=0),new c(i,"lch").alpha(t.alpha(),!0)};c.prototype.desaturate=function(s=1){return this.saturate(-s)};c.prototype.set=function(s,t,i=!1){const[n,e]=s.split("."),l=this[n]();if(e){const a=n.indexOf(e)-(n.substr(0,2)==="ok"?2:0);if(a>-1){if(A(t)=="string")switch(t.charAt(0)){case"+":l[a]+=+t;break;case"-":l[a]+=+t;break;case"*":l[a]*=+t.substr(1);break;case"/":l[a]/=+t.substr(1);break;default:l[a]=+t}else if(A(t)==="number")l[a]=t;else throw new Error("unsupported value for Color.set");const r=new c(l,n);return i?(this._rgb=r._rgb,this):r}throw new Error(`unknown channel ${e} in mode ${n}`)}else return l};c.prototype.tint=function(s=.5,...t){return as(this,"white",s,...t)};c.prototype.shade=function(s=.5,...t){return as(this,"black",s,...t)};const Di=(s,t,i)=>{const n=s._rgb,e=t._rgb;return new c(n[0]+i*(e[0]-n[0]),n[1]+i*(e[1]-n[1]),n[2]+i*(e[2]-n[2]),"rgb")};S.rgb=Di;const{sqrt:Ns,pow:ts}=Math,Mi=(s,t,i)=>{const[n,e,l]=s._rgb,[a,r,h]=t._rgb;return new c(Ns(ts(n,2)*(1-i)+ts(a,2)*i),Ns(ts(e,2)*(1-i)+ts(r,2)*i),Ns(ts(l,2)*(1-i)+ts(h,2)*i),"rgb")};S.lrgb=Mi;const xi=(s,t,i)=>{const n=s.lab(),e=t.lab();return new c(n[0]+i*(e[0]-n[0]),n[1]+i*(e[1]-n[1]),n[2]+i*(e[2]-n[2]),"lab")};S.lab=xi;const rs=(s,t,i,n)=>{let e,l;n==="hsl"?(e=s.hsl(),l=t.hsl()):n==="hsv"?(e=s.hsv(),l=t.hsv()):n==="hcg"?(e=s.hcg(),l=t.hcg()):n==="hsi"?(e=s.hsi(),l=t.hsi()):n==="lch"||n==="hcl"?(n="hcl",e=s.hcl(),l=t.hcl()):n==="oklch"&&(e=s.oklch().reverse(),l=t.oklch().reverse());let a,r,h,o,k,f;(n.substr(0,1)==="h"||n==="oklch")&&([a,h,k]=e,[r,o,f]=l);let d,E,F,M;return!isNaN(a)&&!isNaN(r)?(r>a&&r-a>180?M=r-(a+360):r<a&&a-r>180?M=r+360-a:M=r-a,E=a+i*M):isNaN(a)?isNaN(r)?E=Number.NaN:(E=r,(k==1||k==0)&&n!="hsv"&&(d=o)):(E=a,(f==1||f==0)&&n!="hsv"&&(d=h)),d===void 0&&(d=h+i*(o-h)),F=k+i*(f-k),n==="oklch"?new c([F,d,E],n):new c([E,d,F],n)},vt=(s,t,i)=>rs(s,t,i,"lch");S.lch=vt;S.hcl=vt;const $i=s=>{if(A(s)=="number"&&s>=0&&s<=16777215){const t=s>>16,i=s>>8&255,n=s&255;return[t,i,n,1]}throw new Error("unknown num color: "+s)},Li=(...s)=>{const[t,i,n]=v(s,"rgb");return(t<<16)+(i<<8)+n};c.prototype.num=function(){return Li(this._rgb)};const Ni=(...s)=>new c(...s,"num");Object.assign(B,{num:Ni});C.format.num=$i;C.autodetect.push({p:5,test:(...s)=>{if(s.length===1&&A(s[0])==="number"&&s[0]>=0&&s[0]<=16777215)return"num"}});const Ri=(s,t,i)=>{const n=s.num(),e=t.num();return new c(n+i*(e-n),"num")};S.num=Ri;const{floor:ji}=Math,Pi=(...s)=>{s=v(s,"hcg");let[t,i,n]=s,e,l,a;n=n*255;const r=i*255;if(i===0)e=l=a=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const h=ji(t),o=t-h,k=n*(1-i),f=k+r*(1-o),d=k+r*o,E=k+r;switch(h){case 0:[e,l,a]=[E,d,k];break;case 1:[e,l,a]=[f,E,k];break;case 2:[e,l,a]=[k,E,d];break;case 3:[e,l,a]=[k,f,E];break;case 4:[e,l,a]=[d,k,E];break;case 5:[e,l,a]=[E,k,f];break}}return[e,l,a,s.length>3?s[3]:1]},Si=(...s)=>{const[t,i,n]=v(s,"rgb"),e=ut(t,i,n),l=gt(t,i,n),a=l-e,r=a*100/255,h=e/(255-a)*100;let o;return a===0?o=Number.NaN:(t===l&&(o=(i-n)/a),i===l&&(o=2+(n-t)/a),n===l&&(o=4+(t-i)/a),o*=60,o<0&&(o+=360)),[o,r,h]};c.prototype.hcg=function(){return Si(this._rgb)};const qi=(...s)=>new c(...s,"hcg");B.hcg=qi;C.format.hcg=Pi;C.autodetect.push({p:1,test:(...s)=>{if(s=v(s,"hcg"),A(s)==="array"&&s.length===3)return"hcg"}});const Vi=(s,t,i)=>rs(s,t,i,"hcg");S.hcg=Vi;const{cos:is}=Math,Ii=(...s)=>{s=v(s,"hsi");let[t,i,n]=s,e,l,a;return isNaN(t)&&(t=0),isNaN(i)&&(i=0),t>360&&(t-=360),t<0&&(t+=360),t/=360,t<1/3?(a=(1-i)/3,e=(1+i*is(Z*t)/is(Ms-Z*t))/3,l=1-(a+e)):t<2/3?(t-=1/3,e=(1-i)/3,l=(1+i*is(Z*t)/is(Ms-Z*t))/3,a=1-(e+l)):(t-=2/3,l=(1-i)/3,a=(1+i*is(Z*t)/is(Ms-Z*t))/3,e=1-(l+a)),e=Q(n*e*3),l=Q(n*l*3),a=Q(n*a*3),[e*255,l*255,a*255,s.length>3?s[3]:1]},{min:Oi,sqrt:Ti,acos:Gi}=Math,zi=(...s)=>{let[t,i,n]=v(s,"rgb");t/=255,i/=255,n/=255;let e;const l=Oi(t,i,n),a=(t+i+n)/3,r=a>0?1-l/a:0;return r===0?e=NaN:(e=(t-i+(t-n))/2,e/=Ti((t-i)*(t-i)+(t-n)*(i-n)),e=Gi(e),n>i&&(e=Z-e),e/=Z),[e*360,r,a]};c.prototype.hsi=function(){return zi(this._rgb)};const Yi=(...s)=>new c(...s,"hsi");B.hsi=Yi;C.format.hsi=Ii;C.autodetect.push({p:2,test:(...s)=>{if(s=v(s,"hsi"),A(s)==="array"&&s.length===3)return"hsi"}});const Xi=(s,t,i)=>rs(s,t,i,"hsi");S.hsi=Xi;const Is=(...s)=>{s=v(s,"hsl");const[t,i,n]=s;let e,l,a;if(i===0)e=l=a=n*255;else{const r=[0,0,0],h=[0,0,0],o=n<.5?n*(1+i):n+i-n*i,k=2*n-o,f=t/360;r[0]=f+1/3,r[1]=f,r[2]=f-1/3;for(let d=0;d<3;d++)r[d]<0&&(r[d]+=1),r[d]>1&&(r[d]-=1),6*r[d]<1?h[d]=k+(o-k)*6*r[d]:2*r[d]<1?h[d]=o:3*r[d]<2?h[d]=k+(o-k)*(2/3-r[d])*6:h[d]=k;[e,l,a]=[h[0]*255,h[1]*255,h[2]*255]}return s.length>3?[e,l,a,s[3]]:[e,l,a,1]},_t=(...s)=>{s=v(s,"rgba");let[t,i,n]=s;t/=255,i/=255,n/=255;const e=ut(t,i,n),l=gt(t,i,n),a=(l+e)/2;let r,h;return l===e?(r=0,h=Number.NaN):r=a<.5?(l-e)/(l+e):(l-e)/(2-l-e),t==l?h=(i-n)/(l-e):i==l?h=2+(n-t)/(l-e):n==l&&(h=4+(t-i)/(l-e)),h*=60,h<0&&(h+=360),s.length>3&&s[3]!==void 0?[h,r,a,s[3]]:[h,r,a]};c.prototype.hsl=function(){return _t(this._rgb)};const Zi=(...s)=>new c(...s,"hsl");B.hsl=Zi;C.format.hsl=Is;C.autodetect.push({p:2,test:(...s)=>{if(s=v(s,"hsl"),A(s)==="array"&&s.length===3)return"hsl"}});const Wi=(s,t,i)=>rs(s,t,i,"hsl");S.hsl=Wi;const{floor:Hi}=Math,Ui=(...s)=>{s=v(s,"hsv");let[t,i,n]=s,e,l,a;if(n*=255,i===0)e=l=a=n;else{t===360&&(t=0),t>360&&(t-=360),t<0&&(t+=360),t/=60;const r=Hi(t),h=t-r,o=n*(1-i),k=n*(1-i*h),f=n*(1-i*(1-h));switch(r){case 0:[e,l,a]=[n,f,o];break;case 1:[e,l,a]=[k,n,o];break;case 2:[e,l,a]=[o,n,f];break;case 3:[e,l,a]=[o,k,n];break;case 4:[e,l,a]=[f,o,n];break;case 5:[e,l,a]=[n,o,k];break}}return[e,l,a,s.length>3?s[3]:1]},{min:Ki,max:Ji}=Math,Qi=(...s)=>{s=v(s,"rgb");let[t,i,n]=s;const e=Ki(t,i,n),l=Ji(t,i,n),a=l-e;let r,h,o;return o=l/255,l===0?(r=Number.NaN,h=0):(h=a/l,t===l&&(r=(i-n)/a),i===l&&(r=2+(n-t)/a),n===l&&(r=4+(t-i)/a),r*=60,r<0&&(r+=360)),[r,h,o]};c.prototype.hsv=function(){return Qi(this._rgb)};const sn=(...s)=>new c(...s,"hsv");B.hsv=sn;C.format.hsv=Ui;C.autodetect.push({p:2,test:(...s)=>{if(s=v(s,"hsv"),A(s)==="array"&&s.length===3)return"hsv"}});const tn=(s,t,i)=>rs(s,t,i,"hsv");S.hsv=tn;function Fs(s,t){let i=s.length;Array.isArray(s[0])||(s=[s]),Array.isArray(t[0])||(t=t.map(a=>[a]));let n=t[0].length,e=t[0].map((a,r)=>t.map(h=>h[r])),l=s.map(a=>e.map(r=>Array.isArray(a)?a.reduce((h,o,k)=>h+o*(r[k]||0),0):r.reduce((h,o)=>h+o*a,0)));return i===1&&(l=l[0]),n===1?l.map(a=>a[0]):l}const Zs=(...s)=>{s=v(s,"lab");const[t,i,n,...e]=s,[l,a,r]=nn([t,i,n]),[h,o,k]=mt(l,a,r);return[h,o,k,...e.length>0&&e[0]<1?[e[0]]:[]]};function nn(s){var t=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],i=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=Fs(i,s);return Fs(t,n.map(e=>e**3))}const Ws=(...s)=>{const[t,i,n,...e]=v(s,"rgb"),l=Ft(t,i,n);return[...en(l),...e.length>0&&e[0]<1?[e[0]]:[]]};function en(s){const t=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],i=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Fs(t,s);return Fs(i,n.map(e=>Math.cbrt(e)))}c.prototype.oklab=function(){return Ws(this._rgb)};const an=(...s)=>new c(...s,"oklab");Object.assign(B,{oklab:an});C.format.oklab=Zs;C.autodetect.push({p:2,test:(...s)=>{if(s=v(s,"oklab"),A(s)==="array"&&s.length===3)return"oklab"}});const ln=(s,t,i)=>{const n=s.oklab(),e=t.oklab();return new c(n[0]+i*(e[0]-n[0]),n[1]+i*(e[1]-n[1]),n[2]+i*(e[2]-n[2]),"oklab")};S.oklab=ln;const rn=(s,t,i)=>rs(s,t,i,"oklch");S.oklch=rn;const{pow:Rs,sqrt:js,PI:Ps,cos:tt,sin:it,atan2:hn}=Math,on=(s,t="lrgb",i=null)=>{const n=s.length;i||(i=Array.from(new Array(n)).map(()=>1));const e=n/i.reduce(function(f,d){return f+d});if(i.forEach((f,d)=>{i[d]*=e}),s=s.map(f=>new c(f)),t==="lrgb")return pn(s,i);const l=s.shift(),a=l.get(t),r=[];let h=0,o=0;for(let f=0;f<a.length;f++)if(a[f]=(a[f]||0)*i[0],r.push(isNaN(a[f])?0:i[0]),t.charAt(f)==="h"&&!isNaN(a[f])){const d=a[f]/180*Ps;h+=tt(d)*i[0],o+=it(d)*i[0]}let k=l.alpha()*i[0];s.forEach((f,d)=>{const E=f.get(t);k+=f.alpha()*i[d+1];for(let F=0;F<a.length;F++)if(!isNaN(E[F]))if(r[F]+=i[d+1],t.charAt(F)==="h"){const M=E[F]/180*Ps;h+=tt(M)*i[d+1],o+=it(M)*i[d+1]}else a[F]+=E[F]*i[d+1]});for(let f=0;f<a.length;f++)if(t.charAt(f)==="h"){let d=hn(o/r[f],h/r[f])/Ps*180;for(;d<0;)d+=360;for(;d>=360;)d-=360;a[f]=d}else a[f]=a[f]/r[f];return k/=n,new c(a,t).alpha(k>.99999?1:k,!0)},pn=(s,t)=>{const i=s.length,n=[0,0,0,0];for(let e=0;e<s.length;e++){const l=s[e],a=t[e]/i,r=l._rgb;n[0]+=Rs(r[0],2)*a,n[1]+=Rs(r[1],2)*a,n[2]+=Rs(r[2],2)*a,n[3]+=r[3]*a}return n[0]=js(n[0]),n[1]=js(n[1]),n[2]=js(n[2]),n[3]>.9999999&&(n[3]=1),new c(Ts(n))},{pow:cn}=Math;function ks(s){let t="rgb",i=B("#ccc"),n=0,e=[0,1],l=[0,1],a=[],r=[0,0],h=!1,o=[],k=!1,f=0,d=1,E=!1,F={},M=!0,b=1;const u=function(p){if(p=p||["#fff","#000"],p&&A(p)==="string"&&B.brewer&&B.brewer[p.toLowerCase()]&&(p=B.brewer[p.toLowerCase()]),A(p)==="array"){p.length===1&&(p=[p[0],p[0]]),p=p.slice(0);for(let y=0;y<p.length;y++)p[y]=B(p[y]);a.length=0;for(let y=0;y<p.length;y++)a.push(y/(p.length-1))}return q(),o=p},g=function(p){if(h!=null){const y=h.length-1;let _=0;for(;_<y&&p>=h[_];)_++;return _-1}return 0};let x=p=>p,$=p=>p;const N=function(p,y){let _,m;if(y==null&&(y=!1),isNaN(p)||p===null)return i;y?m=p:h&&h.length>2?m=g(p)/(h.length-2):d!==f?m=(p-f)/(d-f):m=1,m=$(m),y||(m=x(m)),b!==1&&(m=cn(m,b)),m=r[0]+m*(1-r[0]-r[1]),m=Q(m,0,1);const L=Math.floor(m*1e4);if(M&&F[L])_=F[L];else{if(A(o)==="array")for(let w=0;w<a.length;w++){const V=a[w];if(m<=V){_=o[w];break}if(m>=V&&w===a.length-1){_=o[w];break}if(m>V&&m<a[w+1]){m=(m-V)/(a[w+1]-V),_=B.interpolate(o[w],o[w+1],m,t);break}}else A(o)==="function"&&(_=o(m));M&&(F[L]=_)}return _};var q=()=>F={};u(s);const D=function(p){const y=B(N(p));return k&&y[k]?y[k]():y};return D.classes=function(p){if(p!=null){if(A(p)==="array")h=p,e=[p[0],p[p.length-1]];else{const y=B.analyze(e);p===0?h=[y.min,y.max]:h=B.limits(y,"e",p)}return D}return h},D.domain=function(p){if(!arguments.length)return l;l=p.slice(0),f=p[0],d=p[p.length-1],a=[];const y=o.length;if(p.length===y&&f!==d)for(let _ of Array.from(p))a.push((_-f)/(d-f));else{for(let _=0;_<y;_++)a.push(_/(y-1));if(p.length>2){const _=p.map((L,w)=>w/(p.length-1)),m=p.map(L=>(L-f)/(d-f));m.every((L,w)=>_[w]===L)||($=L=>{if(L<=0||L>=1)return L;let w=0;for(;L>=m[w+1];)w++;const V=(L-m[w])/(m[w+1]-m[w]);return _[w]+V*(_[w+1]-_[w])})}}return e=[f,d],D},D.mode=function(p){return arguments.length?(t=p,q(),D):t},D.range=function(p,y){return u(p),D},D.out=function(p){return k=p,D},D.spread=function(p){return arguments.length?(n=p,D):n},D.correctLightness=function(p){return p==null&&(p=!0),E=p,q(),E?x=function(y){const _=N(0,!0).lab()[0],m=N(1,!0).lab()[0],L=_>m;let w=N(y,!0).lab()[0];const V=_+(m-_)*y;let U=w-V,ds=0,ps=1,fs=20;for(;Math.abs(U)>.01&&fs-- >0;)(function(){return L&&(U*=-1),U<0?(ds=y,y+=(ps-y)*.5):(ps=y,y+=(ds-y)*.5),w=N(y,!0).lab()[0],U=w-V})();return y}:x=y=>y,D},D.padding=function(p){return p!=null?(A(p)==="number"&&(p=[p,p]),r=p,D):r},D.colors=function(p,y){arguments.length<2&&(y="hex");let _=[];if(arguments.length===0)_=o.slice(0);else if(p===1)_=[D(.5)];else if(p>1){const m=e[0],L=e[1]-m;_=kn(0,p).map(w=>D(m+w/(p-1)*L))}else{s=[];let m=[];if(h&&h.length>2)for(let L=1,w=h.length,V=1<=w;V?L<w:L>w;V?L++:L--)m.push((h[L-1]+h[L])*.5);else m=e;_=m.map(L=>D(L))}return B[y]&&(_=_.map(m=>m[y]())),_},D.cache=function(p){return p!=null?(M=p,D):M},D.gamma=function(p){return p!=null?(b=p,D):b},D.nodata=function(p){return p!=null?(i=B(p),D):i},D}function kn(s,t,i){let n=[],e=s<t,l=t;for(let a=s;e?a<l:a>l;e?a++:a--)n.push(a);return n}const dn=function(s){let t=[1,1];for(let i=1;i<s;i++){let n=[1];for(let e=1;e<=t.length;e++)n[e]=(t[e]||0)+t[e-1];t=n}return t},fn=function(s){let t,i,n,e;if(s=s.map(l=>new c(l)),s.length===2)[i,n]=s.map(l=>l.lab()),t=function(l){const a=[0,1,2].map(r=>i[r]+l*(n[r]-i[r]));return new c(a,"lab")};else if(s.length===3)[i,n,e]=s.map(l=>l.lab()),t=function(l){const a=[0,1,2].map(r=>(1-l)*(1-l)*i[r]+2*(1-l)*l*n[r]+l*l*e[r]);return new c(a,"lab")};else if(s.length===4){let l;[i,n,e,l]=s.map(a=>a.lab()),t=function(a){const r=[0,1,2].map(h=>(1-a)*(1-a)*(1-a)*i[h]+3*(1-a)*(1-a)*a*n[h]+3*(1-a)*a*a*e[h]+a*a*a*l[h]);return new c(r,"lab")}}else if(s.length>=5){let l,a,r;l=s.map(h=>h.lab()),r=s.length-1,a=dn(r),t=function(h){const o=1-h,k=[0,1,2].map(f=>l.reduce((d,E,F)=>d+a[F]*o**(r-F)*h**F*E[f],0));return new c(k,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return t},un=s=>{const t=fn(s);return t.scale=()=>ks(t),t},{round:At}=Math;c.prototype.rgb=function(s=!0){return s===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(At)};c.prototype.rgba=function(s=!0){return this._rgb.slice(0,4).map((t,i)=>i<3?s===!1?t:At(t):t)};const gn=(...s)=>new c(...s,"rgb");Object.assign(B,{rgb:gn});C.format.rgb=(...s)=>{const t=v(s,"rgba");return t[3]===void 0&&(t[3]=1),t};C.autodetect.push({p:3,test:(...s)=>{if(s=v(s,"rgba"),A(s)==="array"&&(s.length===3||s.length===4&&A(s[3])=="number"&&s[3]>=0&&s[3]<=1))return"rgb"}});const z=(s,t,i)=>{if(!z[i])throw new Error("unknown blend mode "+i);return z[i](s,t)},K=s=>(t,i)=>{const n=B(i).rgb(),e=B(t).rgb();return B.rgb(s(n,e))},J=s=>(t,i)=>{const n=[];return n[0]=s(t[0],i[0]),n[1]=s(t[1],i[1]),n[2]=s(t[2],i[2]),n},En=s=>s,bn=(s,t)=>s*t/255,yn=(s,t)=>s>t?t:s,mn=(s,t)=>s>t?s:t,Fn=(s,t)=>255*(1-(1-s/255)*(1-t/255)),wn=(s,t)=>t<128?2*s*t/255:255*(1-2*(1-s/255)*(1-t/255)),Cn=(s,t)=>255*(1-(1-t/255)/(s/255)),vn=(s,t)=>s===255?255:(s=255*(t/255)/(1-s/255),s>255?255:s);z.normal=K(J(En));z.multiply=K(J(bn));z.screen=K(J(Fn));z.overlay=K(J(wn));z.darken=K(J(yn));z.lighten=K(J(mn));z.dodge=K(J(vn));z.burn=K(J(Cn));const{pow:_n,sin:An,cos:Bn}=Math;function Dn(s=300,t=-1.5,i=1,n=1,e=[0,1]){let l=0,a;A(e)==="array"?a=e[1]-e[0]:(a=0,e=[e,e]);const r=function(h){const o=Z*((s+120)/360+t*h),k=_n(e[0]+a*h,n),d=(l!==0?i[0]+h*l:i)*k*(1-k)/2,E=Bn(o),F=An(o),M=k+d*(-.14861*E+1.78277*F),b=k+d*(-.29227*E-.90649*F),u=k+d*(1.97294*E);return B(Ts([M*255,b*255,u*255,1]))};return r.start=function(h){return h==null?s:(s=h,r)},r.rotations=function(h){return h==null?t:(t=h,r)},r.gamma=function(h){return h==null?n:(n=h,r)},r.hue=function(h){return h==null?i:(i=h,A(i)==="array"?(l=i[1]-i[0],l===0&&(i=i[1])):l=0,r)},r.lightness=function(h){return h==null?e:(A(h)==="array"?(e=h,a=h[1]-h[0]):(e=[h,h],a=0),r)},r.scale=()=>B.scale(r),r.hue(i),r}const Mn="0123456789abcdef",{floor:xn,random:$n}=Math,Ln=(s=$n)=>{let t="#";for(let i=0;i<6;i++)t+=Mn.charAt(xn(s()*16));return new c(t,"hex")},{log:nt,pow:Nn,floor:Rn,abs:jn}=Math;function Bt(s,t=null){const i={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return A(s)==="object"&&(s=Object.values(s)),s.forEach(n=>{t&&A(n)==="object"&&(n=n[t]),n!=null&&!isNaN(n)&&(i.values.push(n),i.sum+=n,n<i.min&&(i.min=n),n>i.max&&(i.max=n),i.count+=1)}),i.domain=[i.min,i.max],i.limits=(n,e)=>Dt(i,n,e),i}function Dt(s,t="equal",i=7){A(s)=="array"&&(s=Bt(s));const{min:n,max:e}=s,l=s.values.sort((r,h)=>r-h);if(i===1)return[n,e];const a=[];if(t.substr(0,1)==="c"&&(a.push(n),a.push(e)),t.substr(0,1)==="e"){a.push(n);for(let r=1;r<i;r++)a.push(n+r/i*(e-n));a.push(e)}else if(t.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const r=Math.LOG10E*nt(n),h=Math.LOG10E*nt(e);a.push(n);for(let o=1;o<i;o++)a.push(Nn(10,r+o/i*(h-r)));a.push(e)}else if(t.substr(0,1)==="q"){a.push(n);for(let r=1;r<i;r++){const h=(l.length-1)*r/i,o=Rn(h);if(o===h)a.push(l[o]);else{const k=h-o;a.push(l[o]*(1-k)+l[o+1]*k)}}a.push(e)}else if(t.substr(0,1)==="k"){let r;const h=l.length,o=new Array(h),k=new Array(i);let f=!0,d=0,E=null;E=[],E.push(n);for(let b=1;b<i;b++)E.push(n+b/i*(e-n));for(E.push(e);f;){for(let u=0;u<i;u++)k[u]=0;for(let u=0;u<h;u++){const g=l[u];let x=Number.MAX_VALUE,$;for(let N=0;N<i;N++){const q=jn(E[N]-g);q<x&&(x=q,$=N),k[$]++,o[u]=$}}const b=new Array(i);for(let u=0;u<i;u++)b[u]=null;for(let u=0;u<h;u++)r=o[u],b[r]===null?b[r]=l[u]:b[r]+=l[u];for(let u=0;u<i;u++)b[u]*=1/k[u];f=!1;for(let u=0;u<i;u++)if(b[u]!==E[u]){f=!0;break}E=b,d++,d>200&&(f=!1)}const F={};for(let b=0;b<i;b++)F[b]=[];for(let b=0;b<h;b++)r=o[b],F[r].push(l[b]);let M=[];for(let b=0;b<i;b++)M.push(F[b][0]),M.push(F[b][F[b].length-1]);M=M.sort((b,u)=>b-u),a.push(M[0]);for(let b=1;b<M.length;b+=2){const u=M[b];!isNaN(u)&&a.indexOf(u)===-1&&a.push(u)}}return a}const Pn=(s,t)=>{s=new c(s),t=new c(t);const i=s.luminance(),n=t.luminance();return i>n?(i+.05)/(n+.05):(n+.05)/(i+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const et=.027,Sn=5e-4,qn=.1,at=1.14,bs=.022,lt=1.414,Vn=(s,t)=>{s=new c(s),t=new c(t),s.alpha()<1&&(s=as(t,s,s.alpha(),"rgb"));const i=rt(...s.rgb()),n=rt(...t.rgb()),e=i>=bs?i:i+Math.pow(bs-i,lt),l=n>=bs?n:n+Math.pow(bs-n,lt),a=Math.pow(l,.56)-Math.pow(e,.57),r=Math.pow(l,.65)-Math.pow(e,.62),h=Math.abs(l-e)<Sn?0:e<l?a*at:r*at;return(Math.abs(h)<qn?0:h>0?h-et:h+et)*100};function rt(s,t,i){return .2126729*Math.pow(s/255,2.4)+.7151522*Math.pow(t/255,2.4)+.072175*Math.pow(i/255,2.4)}const{sqrt:X,pow:j,min:In,max:On,atan2:ht,abs:ot,cos:ys,sin:pt,exp:Tn,PI:ct}=Math;function Gn(s,t,i=1,n=1,e=1){var l=function(_s){return 360*_s/(2*ct)},a=function(_s){return 2*ct*_s/360};s=new c(s),t=new c(t);const[r,h,o]=Array.from(s.lab()),[k,f,d]=Array.from(t.lab()),E=(r+k)/2,F=X(j(h,2)+j(o,2)),M=X(j(f,2)+j(d,2)),b=(F+M)/2,u=.5*(1-X(j(b,7)/(j(b,7)+j(25,7)))),g=h*(1+u),x=f*(1+u),$=X(j(g,2)+j(o,2)),N=X(j(x,2)+j(d,2)),q=($+N)/2,D=l(ht(o,g)),p=l(ht(d,x)),y=D>=0?D:D+360,_=p>=0?p:p+360,m=ot(y-_)>180?(y+_+360)/2:(y+_)/2,L=1-.17*ys(a(m-30))+.24*ys(a(2*m))+.32*ys(a(3*m+6))-.2*ys(a(4*m-63));let w=_-y;w=ot(w)<=180?w:_<=y?w+360:w-360,w=2*X($*N)*pt(a(w)/2);const V=k-r,U=N-$,ds=1+.015*j(E-50,2)/X(20+j(E-50,2)),ps=1+.045*q,fs=1+.015*q*L,zt=30*Tn(-j((m-275)/25,2)),Yt=-(2*X(j(q,7)/(j(q,7)+j(25,7))))*pt(2*a(zt)),Xt=X(j(V/(i*ds),2)+j(U/(n*ps),2)+j(w/(e*fs),2)+Yt*(U/(n*ps))*(w/(e*fs)));return On(0,In(100,Xt))}function zn(s,t,i="lab"){s=new c(s),t=new c(t);const n=s.get(i),e=t.get(i);let l=0;for(let a in n){const r=(n[a]||0)-(e[a]||0);l+=r*r}return Math.sqrt(l)}const Yn=(...s)=>{try{return new c(...s),!0}catch{return!1}},Xn={cool(){return ks([B.hsl(180,1,.9),B.hsl(250,.7,.4)])},hot(){return ks(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Os={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Mt=Object.keys(Os),kt=new Map(Mt.map(s=>[s.toLowerCase(),s])),Zn=typeof Proxy=="function"?new Proxy(Os,{get(s,t){const i=t.toLowerCase();if(kt.has(i))return s[kt.get(i)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(Mt)}}):Os,Wn=(...s)=>{s=v(s,"cmyk");const[t,i,n,e]=s,l=s.length>4?s[4]:1;return e===1?[0,0,0,l]:[t>=1?0:255*(1-t)*(1-e),i>=1?0:255*(1-i)*(1-e),n>=1?0:255*(1-n)*(1-e),l]},{max:dt}=Math,Hn=(...s)=>{let[t,i,n]=v(s,"rgb");t=t/255,i=i/255,n=n/255;const e=1-dt(t,dt(i,n)),l=e<1?1/(1-e):0,a=(1-t-e)*l,r=(1-i-e)*l,h=(1-n-e)*l;return[a,r,h,e]};c.prototype.cmyk=function(){return Hn(this._rgb)};const Un=(...s)=>new c(...s,"cmyk");Object.assign(B,{cmyk:Un});C.format.cmyk=Wn;C.autodetect.push({p:2,test:(...s)=>{if(s=v(s,"cmyk"),A(s)==="array"&&s.length===4)return"cmyk"}});const Kn=(...s)=>{const t=v(s,"hsla");let i=ls(s)||"lsa";return t[0]=O(t[0]||0)+"deg",t[1]=O(t[1]*100)+"%",t[2]=O(t[2]*100)+"%",i==="hsla"||t.length>3&&t[3]<1?(t[3]="/ "+(t.length>3?t[3]:1),i="hsla"):t.length=3,`${i.substr(0,3)}(${t.join(" ")})`},Jn=(...s)=>{const t=v(s,"lab");let i=ls(s)||"lab";return t[0]=O(t[0])+"%",t[1]=O(t[1]),t[2]=O(t[2]),i==="laba"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lab(${t.join(" ")})`},Qn=(...s)=>{const t=v(s,"lch");let i=ls(s)||"lab";return t[0]=O(t[0])+"%",t[1]=O(t[1]),t[2]=isNaN(t[2])?"none":O(t[2])+"deg",i==="lcha"||t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`lch(${t.join(" ")})`},se=(...s)=>{const t=v(s,"lab");return t[0]=O(t[0]*100)+"%",t[1]=Vs(t[1]),t[2]=Vs(t[2]),t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklab(${t.join(" ")})`},xt=(...s)=>{const[t,i,n,...e]=v(s,"rgb"),[l,a,r]=Ws(t,i,n),[h,o,k]=Ct(l,a,r);return[h,o,k,...e.length>0&&e[0]<1?[e[0]]:[]]},te=(...s)=>{const t=v(s,"lch");return t[0]=O(t[0]*100)+"%",t[1]=Vs(t[1]),t[2]=isNaN(t[2])?"none":O(t[2])+"deg",t.length>3&&t[3]<1?t[3]="/ "+(t.length>3?t[3]:1):t.length=3,`oklch(${t.join(" ")})`},{round:Ss}=Math,ie=(...s)=>{const t=v(s,"rgba");let i=ls(s)||"rgb";if(i.substr(0,3)==="hsl")return Kn(_t(t),i);if(i.substr(0,3)==="lab"){const n=cs();W("d50");const e=Jn(zs(t),i);return W(n),e}if(i.substr(0,3)==="lch"){const n=cs();W("d50");const e=Qn(Xs(t),i);return W(n),e}return i.substr(0,5)==="oklab"?se(Ws(t)):i.substr(0,5)==="oklch"?te(xt(t)):(t[0]=Ss(t[0]),t[1]=Ss(t[1]),t[2]=Ss(t[2]),(i==="rgba"||t.length>3&&t[3]<1)&&(t[3]="/ "+(t.length>3?t[3]:1),i="rgba"),`${i.substr(0,3)}(${t.slice(0,i==="rgb"?3:4).join(" ")})`)},$t=(...s)=>{s=v(s,"lch");const[t,i,n,...e]=s,[l,a,r]=wt(t,i,n),[h,o,k]=Zs(l,a,r);return[h,o,k,...e.length>0&&e[0]<1?[e[0]]:[]]},H=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,G=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,ws=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,T=/\s*/.source,hs=/\s+/.source,Hs=/\s*,\s*/.source,vs=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,os=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Lt=new RegExp("^rgba?\\("+T+[H,H,H].join(hs)+os+"\\)$"),Nt=new RegExp("^rgb\\("+T+[H,H,H].join(Hs)+T+"\\)$"),Rt=new RegExp("^rgba\\("+T+[H,H,H,G].join(Hs)+T+"\\)$"),jt=new RegExp("^hsla?\\("+T+[vs,ws,ws].join(hs)+os+"\\)$"),Pt=new RegExp("^hsl?\\("+T+[vs,ws,ws].join(Hs)+T+"\\)$"),St=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,qt=new RegExp("^lab\\("+T+[G,G,G].join(hs)+os+"\\)$"),Vt=new RegExp("^lch\\("+T+[G,G,vs].join(hs)+os+"\\)$"),It=new RegExp("^oklab\\("+T+[G,G,G].join(hs)+os+"\\)$"),Ot=new RegExp("^oklch\\("+T+[G,G,vs].join(hs)+os+"\\)$"),{round:Tt}=Math,ns=s=>s.map((t,i)=>i<=2?Q(Tt(t),0,255):t),P=(s,t=0,i=100,n=!1)=>(typeof s=="string"&&s.endsWith("%")&&(s=parseFloat(s.substring(0,s.length-1))/100,n?s=t+(s+1)*.5*(i-t):s=t+s*(i-t)),+s),I=(s,t)=>s==="none"?t:s,Us=s=>{if(s=s.toLowerCase().trim(),s==="transparent")return[0,0,0,0];let t;if(C.format.named)try{return C.format.named(s)}catch{}if((t=s.match(Lt))||(t=s.match(Nt))){let i=t.slice(1,4);for(let e=0;e<3;e++)i[e]=+P(I(i[e],0),0,255);i=ns(i);const n=t[4]!==void 0?+P(t[4],0,1):1;return i[3]=n,i}if(t=s.match(Rt)){const i=t.slice(1,5);for(let n=0;n<4;n++)i[n]=+P(i[n],0,255);return i}if((t=s.match(jt))||(t=s.match(Pt))){const i=t.slice(1,4);i[0]=+I(i[0].replace("deg",""),0),i[1]=+P(I(i[1],0),0,100)*.01,i[2]=+P(I(i[2],0),0,100)*.01;const n=ns(Is(i)),e=t[4]!==void 0?+P(t[4],0,1):1;return n[3]=e,n}if(t=s.match(St)){const i=t.slice(1,4);i[1]*=.01,i[2]*=.01;const n=Is(i);for(let e=0;e<3;e++)n[e]=Tt(n[e]);return n[3]=+t[4],n}if(t=s.match(qt)){const i=t.slice(1,4);i[0]=P(I(i[0],0),0,100),i[1]=P(I(i[1],0),-125,125,!0),i[2]=P(I(i[2],0),-125,125,!0);const n=cs();W("d50");const e=ns(Gs(i));W(n);const l=t[4]!==void 0?+P(t[4],0,1):1;return e[3]=l,e}if(t=s.match(Vt)){const i=t.slice(1,4);i[0]=P(i[0],0,100),i[1]=P(I(i[1],0),0,150,!1),i[2]=+I(i[2].replace("deg",""),0);const n=cs();W("d50");const e=ns(Ys(i));W(n);const l=t[4]!==void 0?+P(t[4],0,1):1;return e[3]=l,e}if(t=s.match(It)){const i=t.slice(1,4);i[0]=P(I(i[0],0),0,1),i[1]=P(I(i[1],0),-.4,.4,!0),i[2]=P(I(i[2],0),-.4,.4,!0);const n=ns(Zs(i)),e=t[4]!==void 0?+P(t[4],0,1):1;return n[3]=e,n}if(t=s.match(Ot)){const i=t.slice(1,4);i[0]=P(I(i[0],0),0,1),i[1]=P(I(i[1],0),0,.4,!1),i[2]=+I(i[2].replace("deg",""),0);const n=ns($t(i)),e=t[4]!==void 0?+P(t[4],0,1):1;return n[3]=e,n}};Us.test=s=>Lt.test(s)||jt.test(s)||qt.test(s)||Vt.test(s)||It.test(s)||Ot.test(s)||Nt.test(s)||Rt.test(s)||Pt.test(s)||St.test(s)||s==="transparent";c.prototype.css=function(s){return ie(this._rgb,s)};const ne=(...s)=>new c(...s,"css");B.css=ne;C.format.css=Us;C.autodetect.push({p:5,test:(s,...t)=>{if(!t.length&&A(s)==="string"&&Us.test(s))return"css"}});C.format.gl=(...s)=>{const t=v(s,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t};const ee=(...s)=>new c(...s,"gl");B.gl=ee;c.prototype.gl=function(){const s=this._rgb;return[s[0]/255,s[1]/255,s[2]/255,s[3]]};c.prototype.hex=function(s){return yt(this._rgb,s)};const ae=(...s)=>new c(...s,"hex");B.hex=ae;C.format.hex=bt;C.autodetect.push({p:4,test:(s,...t)=>{if(!t.length&&A(s)==="string"&&[3,4,5,6,7,8,9].indexOf(s.length)>=0)return"hex"}});const{log:ms}=Math,Gt=s=>{const t=s/100;let i,n,e;return t<66?(i=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*ms(n),e=t<20?0:-254.76935184120902+.8274096064007395*(e=t-10)+115.67994401066147*ms(e)):(i=351.97690566805693+.114206453784165*(i=t-55)-40.25366309332127*ms(i),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*ms(n),e=255),[i,n,e,1]},{round:le}=Math,re=(...s)=>{const t=v(s,"rgb"),i=t[0],n=t[2];let e=1e3,l=4e4;const a=.4;let r;for(;l-e>a;){r=(l+e)*.5;const h=Gt(r);h[2]/h[0]>=n/i?l=r:e=r}return le(r)};c.prototype.temp=c.prototype.kelvin=c.prototype.temperature=function(){return re(this._rgb)};const qs=(...s)=>new c(...s,"temp");Object.assign(B,{temp:qs,kelvin:qs,temperature:qs});C.format.temp=C.format.kelvin=C.format.temperature=Gt;c.prototype.oklch=function(){return xt(this._rgb)};const he=(...s)=>new c(...s,"oklch");Object.assign(B,{oklch:he});C.format.oklch=$t;C.autodetect.push({p:2,test:(...s)=>{if(s=v(s,"oklch"),A(s)==="array"&&s.length===3)return"oklch"}});Object.assign(B,{analyze:Bt,average:on,bezier:un,blend:z,brewer:Zn,Color:c,colors:es,contrast:Pn,contrastAPCA:Vn,cubehelix:Dn,deltaE:Gn,distance:zn,input:C,interpolate:as,limits:Dt,mix:as,random:Ln,scale:ks,scales:Xn,valid:Yn});const oe={key:0,class:"warning"},pe={key:1,class:"demo-section"},ce={class:"controls"},ke={class:"data"},de={class:"data"},we=JSON.parse('{"title":"OpenLayers - NDVI Calculation","description":"","frontmatter":{"title":"OpenLayers - NDVI Calculation","layout":"page"},"headers":[],"relativePath":"integrations/ol/ndvi.md","filePath":"integrations/ol/ndvi.md"}'),fe={name:"integrations/ol/ndvi.md"},Ce=Object.assign(fe,{setup(s){const t=ss(null),i=ss();let n=null,e=null;const l=ss("#8B4513"),a=ss("#00FF00"),r=ss(-.5),h=ss(.7),o="https://s3.explorer.eopf.copernicus.eu/esa-zarr-sentinel-explorer-fra/tests-output/sentinel-2-l2a/S2B_MSIL2A_20251218T110359_N0511_R094_T30SUF_20251218T115223.zarr",k=10;function f(){const u={},g=ks([l.value,a.value]).mode("lab"),x=(h.value-r.value)/k;for(let $=0;$<=k;++$){const N=g($/k).rgb(),q=r.value+$*x;u[`value${$}`]=q,u[`red${$}`]=N[0],u[`green${$}`]=N[1],u[`blue${$}`]=N[2]}return u}function d(){const u=[];for(let g=0;g<=k;++g){u[g*2]=["var",`value${g}`];const x=["var",`red${g}`],$=["var",`green${g}`],N=["var",`blue${g}`];u[g*2+1]=["color",x,$,N]}return u}const E=["/",["-",["band",2],["band",1]],["+",["band",2],["band",1]]];function F(){e&&e.updateStyleVariables(f())}Zt(async()=>{if(typeof window<"u"){const u=document.createElement("script");u.src="../common.js",document.head.appendChild(u)}await M(),t.value=window.checkWebGLSupport(),t.value&&Wt(()=>{b()})});function M(){return new Promise(u=>{const g=()=>{window.checkWebGLSupport&&window.waitForOpenLayers?u():setTimeout(g,50)};g()})}Ht([l,a,r,h],F);function b(){if(i.value)try{const u=new ni({url:o,group:"measurements/reflectance",bands:["b04","b8a"]});e=new st({source:u,style:{variables:f(),color:["interpolate",["linear"],E,...d()]}}),n=new Kt({layers:[new st({source:new ei}),e],target:i.value,view:Jt(u,Qt(1),si(2),ti(),ii(2))})}catch(u){console.error("Failed to initialize map:",u)}}return(u,g)=>(Bs(),As("div",null,[g[8]||(g[8]=R("h1",{id:"openlayers-ndvi-calculation",tabindex:"-1"},[Ds("OpenLayers - NDVI Calculation "),R("img",{src:Ut,alt:"OpenLayers Logo",style:{height:"100px","vertical-align":"middle","margin-left":"8px",float:"right"}}),Ds(),R("a",{class:"header-anchor",href:"#openlayers-ndvi-calculation","aria-label":'Permalink to "OpenLayers - NDVI Calculation <img src="/assets/openlayers-logo.png" alt="OpenLayers Logo" style="height:100px; vertical-align:middle; margin-left:8px; float:right;" />"'},"​")],-1)),g[9]||(g[9]=R("p",null,"This example demonstrates real-time calculation of the Normalized Difference Vegetation Index (NDVI) directly in the browser using WebGL expressions.",-1)),t.value===!1?(Bs(),As("div",oe," ⚠️ **WebGL Not Supported**: Your browser doesn't support WebGL, which is required for GeoZarr visualization and NDVI calculation. ")):Ks("",!0),g[10]||(g[10]=R("h2",{id:"live-demo",tabindex:"-1"},[Ds("Live Demo "),R("a",{class:"header-anchor",href:"#live-demo","aria-label":'Permalink to "Live Demo"'},"​")],-1)),t.value?(Bs(),As("div",pe,[R("div",{ref_key:"mapRef",ref:i,class:"map-container"},null,512),g[4]||(g[4]=Js('<div class="code-section"><p>This example demonstrates NDVI calculation with:</p><ul><li><strong>NIR Band</strong> - Near-infrared (b8a, 842nm)</li><li><strong>Red Band</strong> - Red light (B04, 665nm)</li><li><strong>Real-time Calculation</strong> - NDVI = (NIR - Red) / (NIR + Red)</li><li><strong>Linear Color Scale</strong> - Yellow to green for NDVI range -0.6 to 0.8</li></ul></div>',1))])):Ks("",!0),R("div",ce,[g[7]||(g[7]=R("h3",null,"NDVI Visualization Controls",-1)),R("table",null,[R("tr",null,[g[5]||(g[5]=R("td",null,"Min NDVI",-1)),R("td",null,[us(R("input",{type:"range","onUpdate:modelValue":g[0]||(g[0]=x=>r.value=x),min:"-1.0",max:"-0.1",step:"0.01"},null,512),[[gs,r.value,void 0,{number:!0}]])]),R("td",ke,Qs(r.value.toFixed(1)),1),R("td",null,[us(R("input",{type:"color","onUpdate:modelValue":g[1]||(g[1]=x=>l.value=x)},null,512),[[gs,l.value]])])]),R("tr",null,[g[6]||(g[6]=R("td",null,"Max NDVI",-1)),R("td",null,[us(R("input",{type:"range","onUpdate:modelValue":g[2]||(g[2]=x=>h.value=x),min:"0.1",max:"1.0",step:"0.01"},null,512),[[gs,h.value,void 0,{number:!0}]])]),R("td",de,Qs(h.value.toFixed(1)),1),R("td",null,[us(R("input",{type:"color","onUpdate:modelValue":g[3]||(g[3]=x=>a.value=x)},null,512),[[gs,a.value]])])])])]),g[11]||(g[11]=Js(`<div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-lHoko" id="tab-DTBnmko" checked><label data-title="HTML" for="tab-DTBnmko">HTML</label><input type="radio" name="group-lHoko" id="tab-NJVy2ut"><label data-title="JavaScript" for="tab-NJVy2ut">JavaScript</label><input type="radio" name="group-lHoko" id="tab-jgXLxmk"><label data-title="package.json" for="tab-jgXLxmk">package.json</label></div><div class="blocks"><div class="language-html vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;map&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;width: 100%; height: 500px;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { scale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chromaScale } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;chroma-js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Map </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ol/Map.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TileLayer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ol/layer/WebGLTile.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> View </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ol/View.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { fromLonLat } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ol/proj.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { GeoZarr } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ol-zarr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> segments</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> defaultMinColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;#8B4513&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Brown</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> defaultMaxColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;#00FF00&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Green</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> defaultMinValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> defaultMaxValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> variables</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> scale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> chromaScale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([defaultMinColor, defaultMaxColor]).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;lab&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> delta</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (defaultMaxValue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> defaultMinValue) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> segments;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> segments; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> color</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> segments).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rgb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> defaultMinValue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> delta;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    variables[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`value\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    variables[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`red\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> color[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    variables[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`green\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> color[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    variables[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`blue\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> color[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> variables;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> colors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stops</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> segments; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    stops[i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;var&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`value\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> red</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;var&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`red\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> green</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;var&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`green\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> blue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;var&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`blue\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    stops[i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;color&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, red, green, blue];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stops;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ndvi</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;-&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;band&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;band&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// NIR - Red</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;+&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;band&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;band&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// NIR + Red</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> source</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GeoZarr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  url: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://sentinel2-data.s3.amazonaws.com/tiles/32/S/KJ/2023/8/7/0/zarr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  group: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;measurements/reflectance&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  bands: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;b04&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;b8a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Red, NIR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> layer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TileLayer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  style: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    variables: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;interpolate&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;linear&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], ndvi, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">colors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  source: source,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> map</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  target: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;map&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  layers: [layer],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  view: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> View</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    center: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fromLonLat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.35</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">48.85</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    zoom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ol&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;zarrita&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^0.5.4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;chroma-js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^3.2.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><h2 id="interpretation" tabindex="-1">Interpretation <a class="header-anchor" href="#interpretation" aria-label="Permalink to &quot;Interpretation&quot;">​</a></h2><div class="ndvi-legend"><h3>NDVI Value Legend</h3><div class="legend-item"><div class="legend-color" style="background:linear-gradient(to right, yellow, lime);"></div><span><strong>Yellow to Green</strong> - Linear scale from NDVI -0.6 (yellow) to 0.8 (green)</span></div></div><h3 id="ndvi-ranges" tabindex="-1">NDVI Ranges <a class="header-anchor" href="#ndvi-ranges" aria-label="Permalink to &quot;NDVI Ranges&quot;">​</a></h3><ul><li><strong>0.8 to 1.0</strong> - Dense healthy vegetation</li><li><strong>0.5 to 0.8</strong> - Moderate vegetation</li><li><strong>0.2 to 0.5</strong> - Sparse vegetation</li><li><strong>0.0 to 0.2</strong> - Rock, sand, or snow</li><li><strong>-1.0 to 0.0</strong> - Water, clouds, or snow</li></ul><h2 id="applications" tabindex="-1">Applications <a class="header-anchor" href="#applications" aria-label="Permalink to &quot;Applications&quot;">​</a></h2><h3 id="agriculture" tabindex="-1">Agriculture <a class="header-anchor" href="#agriculture" aria-label="Permalink to &quot;Agriculture&quot;">​</a></h3><ul><li><strong>Crop health monitoring</strong> - Identify stressed areas</li><li><strong>Yield prediction</strong> - Correlate NDVI with crop productivity</li><li><strong>Irrigation planning</strong> - Target water application</li></ul><h3 id="environmental-monitoring" tabindex="-1">Environmental Monitoring <a class="header-anchor" href="#environmental-monitoring" aria-label="Permalink to &quot;Environmental Monitoring&quot;">​</a></h3><ul><li><strong>Deforestation detection</strong> - Monitor forest cover changes</li><li><strong>Drought assessment</strong> - Track vegetation stress</li><li><strong>Phenology studies</strong> - Seasonal vegetation cycles</li></ul><h3 id="urban-planning" tabindex="-1">Urban Planning <a class="header-anchor" href="#urban-planning" aria-label="Permalink to &quot;Urban Planning&quot;">​</a></h3><ul><li><strong>Green space assessment</strong> - Quantify urban vegetation</li><li><strong>Heat island mapping</strong> - Identify cooling vegetation</li><li><strong>Development impact</strong> - Monitor vegetation loss</li></ul><div class="navigation"><a href="/integrations/ol/basic" class="nav-button">← Previous: Basic Map Setup and band combination</a><span><strong>2 of 3</strong> - NDVI Calculation</span><a href="/integrations/ol/stac" class="nav-button">Next: STAC Integration →</a></div>`,13))]))}});export{we as __pageData,Ce as default};
