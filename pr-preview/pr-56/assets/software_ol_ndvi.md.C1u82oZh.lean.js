import{an as N,aq as T,ar as l,az as L,aL as M,aA as S,aH as u,aB as R,aC as q,aD as $,aE as j,aF as G,aG as z,aI as P,aa as o,ab as y,ad as s,ak as C,ac as D,al as F,aJ as E,aK as v,aj as m,aM as O}from"./app.F8sUN9yU.js";import{_ as H}from"./chunks/openlayers-logo.mV03A5FU.js";import{c as W}from"./chunks/index.KPY1M44e.js";const Z={key:0,class:"warning"},U={key:1,class:"demo-section"},J={class:"controls"},Y={class:"control-row"},K={class:"value-display"},Q={class:"control-row"},X={class:"value-display"},la=JSON.parse('{"title":"OpenLayers - NDVI Calculation","description":"","frontmatter":{"title":"OpenLayers - NDVI Calculation","layout":"page"},"headers":[],"relativePath":"software/ol/ndvi.md","filePath":"software/ol/ndvi.md"}'),aa={name:"software/ol/ndvi.md"},sa=Object.assign(aa,{setup(ia){const f=l(null),g=l();let B=null,k=null;const p=l("#8B4513"),e=l("#00FF00"),n=l(-.5),b=l(.7),A="https://s3.explorer.eopf.copernicus.eu/esa-zarr-sentinel-explorer-fra/tests-output/sentinel-2-l2a-staging/S2A_MSIL2A_20251227T100441_N0511_R122_T33TVF_20251227T121715.zarr",r=10;function c(){const i={},a=O([p.value,e.value]).mode("lab"),t=(b.value-n.value)/r;for(let d=0;d<=r;++d){const h=a(d/r).rgb(),I=n.value+d*t;i[`value${d}`]=I,i[`red${d}`]=h[0],i[`green${d}`]=h[1],i[`blue${d}`]=h[2]}return i}function _(){const i=[];for(let a=0;a<=r;++a){i[a*2]=["var",`value${a}`];const t=["var",`red${a}`],d=["var",`green${a}`],h=["var",`blue${a}`];i[a*2+1]=["color",t,d,h]}return i}const V=["/",["-",["band",2],["band",1]],["+",["band",2],["band",1]]];function w(){k&&k.updateStyleVariables(c())}T(()=>{f.value=W(),f.value&&L(()=>{x()})}),M([p,e,n,b],w);function x(){if(g.value)try{const i=new S({url:A,group:"measurements/reflectance",bands:["b04","b8a"]});k=new u({source:i,style:{variables:c(),color:["interpolate",["linear"],V,..._()]}}),B=new R({layers:[new u({source:new P}),k],target:g.value,view:q(i,$(1),j(2),G(),z(2))})}catch(i){console.error("Failed to initialize map:",i)}}return(i,a)=>(y(),o("div",null,[a[7]||(a[7]=s("h2",{id:"openlayers-ndvi-calculation",tabindex:"-1"},[F("OpenLayers - NDVI Calculation "),s("img",{src:H,alt:"OpenLayers Logo",style:{height:"100px","vertical-align":"middle","margin-left":"8px",float:"right"}}),F(),s("a",{class:"header-anchor link",href:"#openlayers-ndvi-calculation","aria-label":'Permalink to "OpenLayers - NDVI Calculation <img src="/assets/openlayers-logo.png" alt="OpenLayers Logo" style="height:100px; vertical-align:middle; margin-left:8px; float:right;" />"'},"​")],-1)),a[8]||(a[8]=s("p",null,"This example demonstrates real-time calculation of the Normalized Difference Vegetation Index (NDVI) directly in the browser using WebGL expressions.",-1)),f.value===!1?(y(),o("div",Z," ⚠️ **WebGL Not Supported**: Your browser doesn't support WebGL, which is required for GeoZarr visualization and NDVI calculation. ")):C("",!0),a[9]||(a[9]=s("h3",{id:"live-demo",tabindex:"-1"},[F("Live Demo "),s("a",{class:"header-anchor link",href:"#live-demo","aria-label":'Permalink to "Live Demo"'},"​")],-1)),f.value?(y(),o("div",U,[s("div",{ref_key:"mapRef",ref:g,class:"map-container"},null,512),a[4]||(a[4]=D("",1))])):C("",!0),s("div",J,[s("div",Y,[a[5]||(a[5]=s("label",null,"Min NDVI",-1)),E(s("input",{type:"range","onUpdate:modelValue":a[0]||(a[0]=t=>n.value=t),min:"-1.0",max:"-0.1",step:"0.01"},null,512),[[v,n.value,void 0,{number:!0}]]),s("span",K,m(n.value.toFixed(1)),1),E(s("input",{type:"color","onUpdate:modelValue":a[1]||(a[1]=t=>p.value=t)},null,512),[[v,p.value]])]),s("div",Q,[a[6]||(a[6]=s("label",null,"Max NDVI",-1)),E(s("input",{type:"range","onUpdate:modelValue":a[2]||(a[2]=t=>b.value=t),min:"0.1",max:"1.0",step:"0.01"},null,512),[[v,b.value,void 0,{number:!0}]]),s("span",X,m(b.value.toFixed(1)),1),E(s("input",{type:"color","onUpdate:modelValue":a[3]||(a[3]=t=>e.value=t)},null,512),[[v,e.value]])])]),a[10]||(a[10]=D("",8))]))}}),ba=N(sa,[["__scopeId","data-v-65fbfbad"]]);export{la as __pageData,ba as default};
