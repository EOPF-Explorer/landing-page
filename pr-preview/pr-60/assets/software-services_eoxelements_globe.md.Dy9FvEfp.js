import{a2 as C,v as x,a5 as _,P as D,C as B,o as c,c as y,j as i,a as s,E as u,w as r,t as m,F as T,B as O,a4 as A,p as b}from"./chunks/framework.HlWtjq3W.js";import{_ as S}from"./chunks/EOX-logo.TH1pG5oy.js";import{T as G}from"./chunks/Tutorial.zSpG-VTn.js";import{i as w}from"./chunks/easing.vFiYzKl6.js";import{t as L}from"./chunks/proj.DNHHD1fb.js";const j={class:"grid small-space"},P={class:"s12"},z={class:"row scroll"},R=["onClick","disabled"],Y=JSON.parse('{"title":"3D Globe","description":"","frontmatter":{"title":"3D Globe","layout":"page"},"headers":[],"relativePath":"software-services/eoxelements/globe.md","filePath":"software-services/eoxelements/globe.md"}'),V={name:"software-services/eoxelements/globe.md"},W=Object.assign(V,{setup(Z){const a=C("mapRef"),n=b(!1),o=b("globe");let k,E;const d=[{name:"Brussels",coords:[4.35,50.85],bbox:[4.25,50.75,4.45,50.95],alt:2e4},{name:"Milano Cortina Winter Olympics",coords:[12.12,46.54],bbox:[12.02,46.44,12.22,46.64],alt:2e4},{name:"Lyon",coords:[4.83,45.76],bbox:[4.73,45.66,4.93,45.86],alt:2e4},{name:"Lisbon",coords:[-9.14,38.73],bbox:[-9.24,38.63,-9.04,38.83],alt:2e4}],F=[{type:"Tile",properties:{id:"basemap",title:"OpenStreetMap"},source:{type:"XYZ",url:"https://tiles.maps.eox.at/wmts/1.0.0/osm_3857/default/g/{z}/{y}/{x}.jpg",crossOrigin:"anonymous"}},{type:"Tile",properties:{id:"mosaic",title:"Sentinel-2 Mosaic"},source:{type:"XYZ",url:'https://api.explorer.eopf.copernicus.eu/openeo/services/xyz/456c1e23-47f2-4567-98cf-dcde378a05f7/tiles/{z}/{x}/{y}?time=["2025-12-31","2026-01-23"]&cloud_cover=30',crossOrigin:"anonymous"}}];function g(l=500){setTimeout(()=>{if(a.value.globe){const e=a.value.globe,h=new E(null,{heightFactor:5});e.planet.setTerrain(h)}},500)}x(async()=>{const l=await _(()=>import("./chunks/og.es.BUTD8K8h.js"),[]);k=l.LonLat,E=l.GlobusRgbTerrain,D(()=>{a.value&&(a.value.layers=F,a.value.center=d[1].coords,a.value.zoom=10,a.value.projection="globe",g())})});function f(l){var t,p;const e=(t=a.value)==null?void 0:t.globe;if(((p=a.value)==null?void 0:p.projection)!=="globe"){a.value.animationOptions={duration:2e3,easing:w},a.value.zoomExtent=L(l.bbox,"EPSG:4326","EPSG:3857");return}if(!e||n.value){console.warn("Globe not ready or currently touring",e,n.value);return}n.value=!0,e.planet.flyLonLat(new k(l.coords[0],l.coords[1],l.alt),new k(l.coords[0],l.coords[1],0),4e3),setTimeout(()=>{n.value=!1},4e3)}function v(){o.value=o.value==="globe"?"EPSG:3857":"globe",a.value&&(a.value.projection=o.value),g()}return(l,e)=>{const h=B("ClientOnly");return c(),y("div",null,[e[3]||(e[3]=i("h2",{id:"_3d-globe-visualization",tabindex:"-1"},[s("3D Globe Visualization "),i("img",{src:S,alt:"EOxElements Logo",style:{height:"50px","vertical-align":"middle","margin-left":"0.5rem",float:"right"}}),s(),i("a",{class:"header-anchor link",href:"#_3d-globe-visualization","aria-label":'Permalink to "3D Globe Visualization  <img src="/media/EOX-logo.svg" alt="EOxElements Logo" style="height:50px;vertical-align:middle;margin-left:0.5rem;float:right;" />"'},"‚Äã")],-1)),e[4]||(e[4]=i("p",null,[s("Switching from a 2D map to a 3D globe in "),i("strong",null,"EOxElements"),s(" is as simple as changing the projection. By importing the globe extension, "),i("code",null,"eox-map"),s(" gains the ability to render OpenLayers layers on a 3D Earth using the "),i("strong",null,"OpenGlobus"),s(" engine.")],-1)),u(G,{height:"600px"},{description:r(()=>[...e[0]||(e[0]=[i("h4",{id:"globe-integration",tabindex:"-1"},[s("Globe Integration "),i("a",{class:"header-anchor link",href:"#globe-integration","aria-label":'Permalink to "Globe Integration"'},"‚Äã")],-1),i("ul",null,[i("li",null,[i("strong",null,"Seamless Switching"),s(": Use the "),i("code",null,"projection"),s(" attribute to toggle modes.")]),i("li",null,[i("strong",null,"Layer Sync"),s(": OpenLayers tile layers are automatically projected onto the globe.")]),i("li",null,[i("strong",null,"Zero Config"),s(": No complex 3D engine initialization required.")])],-1),i("div",{class:"tip custom-block"},[i("p",{class:"custom-block-title"},"üí° TIP"),i("p",null,"Right click and drag to tilt the globe")],-1)])]),controls:r(()=>[i("div",j,[i("div",P,[i("button",{onClick:v,class:"button border round small",style:{"margin-bottom":"1rem",width:"100%"}},[i("span",null,"Switch to "+m(o.value==="globe"?"2D":"3D"),1)]),e[1]||(e[1]=i("h6",{class:"no-margin"},"3D Locations",-1)),i("div",z,[(c(),y(T,null,O(d,t=>i("button",{key:t.name,onClick:p=>f(t),disabled:n.value,class:"chip fill surface-variant"},[i("span",null,m(t.name),1)],8,R)),64))])])])]),demo:r(()=>[u(h,null,{default:r(()=>[i("eox-map",{id:"globe",ref_key:"mapRef",ref:a,style:{width:"100%",height:"100%"}},null,512)]),_:1})]),code:r(()=>[...e[2]||(e[2]=[i("div",{class:"vp-code-group vp-adaptive-theme"},[i("div",{class:"tabs"},[i("input",{type:"radio",name:"group-Pz3Gc",id:"tab-fmkZ1Sy",checked:""}),i("label",{"data-title":"index.html",for:"tab-fmkZ1Sy"},"index.html"),i("input",{type:"radio",name:"group-Pz3Gc",id:"tab-iCkq7op"}),i("label",{"data-title":"config.js",for:"tab-iCkq7op"},"config.js")]),i("div",{class:"blocks"},[i("div",{class:"language-html vp-adaptive-theme active"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"html"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"<!-- Set projection to 'globe' -->")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"eox-map"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  projection"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"globe"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"  style"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"="),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"width: 100%; height: 600px;"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"></"),i("span",{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"}},"eox-map"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")])])])]),i("div",{class:"language-javascript vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"javascript"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "@eox/map"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "@eox/map/src/plugins/globe"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { GlobusTerrain } "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "@openglobus/og"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," map"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," document."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"querySelector"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"eox-map"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},");")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// Define standard OpenLayers layers")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"map.layers "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    type: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Tile"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    properties: { ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      id: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"basemap"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      title: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"OpenStreetMap"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    source: { ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      type: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"XYZ"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      url: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"https://tiles.maps.eox.at/wmts/1.0.0/osm_3857/default/g/{z}/{y}/{x}.jpg"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      crossOrigin: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"anonymous"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    type: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Tile"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    properties: {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      id: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"mosaic"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      title: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Sentinel-2 Mosaic"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    source: {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      type: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"XYZ"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      url: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},`'https://api.explorer.eopf.copernicus.eu/openeo/services/xyz/456c1e23-47f2-4567-98cf-dcde378a05f7/tiles/{z}/{x}/{y}?time=["2025-12-31","2026-01-23"]&cloud_cover=30'`),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      crossOrigin: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"anonymous"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"];")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," terrain"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new"),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," GlobusTerrain"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"terrain"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   name: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Earth Terrain"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   url: "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"https://terrain.openglobus.org/public/eu10"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"   maxZoom: "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"15")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"});")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"map.globe.planet."),i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"setTerrain"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(terrain);")])])])])])],-1)])]),_:1}),e[5]||(e[5]=A('<h3 id="key-concepts-hybrid-architecture" tabindex="-1">Key Concepts: Hybrid Architecture <a class="header-anchor link" href="#key-concepts-hybrid-architecture" aria-label="Permalink to &quot;Key Concepts: Hybrid Architecture&quot;">‚Äã</a></h3><p>The 3D visualization in <strong>EOxElements</strong> employs a powerful hybrid architecture combining <strong>OpenLayers</strong> and <strong>OpenGlobus</strong>:</p><ol><li><strong>Dual Engines</strong>: The component maintains an OpenLayers map instance for layer state and logic, while using OpenGlobus for 3D rendering.</li><li><strong>Adaptive Rendering</strong>: <ul><li><strong>Native Rendering</strong>: Where possible (e.g., standard XYZ, WMS), layers are rendered directly by OpenGlobus for maximum performance and quality.</li><li><strong>Fallback Rendering</strong>: Complex OpenLayers layers (like GeoZarr or VectorTile) that OpenGlobus doesn&#39;t support natively are rendered to a texture (canvas) by OpenLayers and then projected onto the 3D globe.</li></ul></li></ol><nav class="surface-variant large-padding center-align"><a href="./advanced" class="button border">‚Üê Layer Config</a><span class="padding"><strong>3 of 4</strong> - 3D Globe</span><a href="./story" class="button border">Next: Storytelling ‚Üí</a></nav>',4))])}}});export{Y as __pageData,W as default};
