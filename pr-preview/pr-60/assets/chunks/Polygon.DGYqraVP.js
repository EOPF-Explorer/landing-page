const On={PROPERTYCHANGE:"propertychange"},jn={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Dn{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function ai(n,t,e){let i,s;e=e||yt;let r=0,o=n.length,a=!1;for(;r<o;)i=r+(o-r>>1),s=+e(n[i],t),s<0?r=i+1:(o=i,a=!s);return a?r:~r}function yt(n,t){return n>t?1:n<t?-1:0}function li(n,t){return n<t?1:n>t?-1:0}function ci(n,t,e){if(n[0]<=t)return 0;const i=n.length;if(t<=n[i-1])return i-1;if(typeof e=="function"){for(let s=1;s<i;++s){const r=n[s];if(r===t)return s;if(r<t)return e(t,n[s-1],r)>0?s-1:s}return i-1}if(e>0){for(let s=1;s<i;++s)if(n[s]<t)return s-1;return i-1}if(e<0){for(let s=1;s<i;++s)if(n[s]<=t)return s;return i-1}for(let s=1;s<i;++s){if(n[s]==t)return s;if(n[s]<t)return n[s-1]-t<t-n[s]?s-1:s}return i-1}function ui(n,t,e){for(;t<e;){const i=n[t];n[t]=n[e],n[e]=i,++t,--e}}function xt(n,t){const e=Array.isArray(t)?t:[t],i=e.length;for(let s=0;s<i;s++)n[n.length]=e[s]}function $n(n,t){const e=n.length;if(e!==t.length)return!1;for(let i=0;i<e;i++)if(n[i]!==t[i])return!1;return!0}function hi(n,t,e){const i=t||yt;return n.every(function(s,r){if(r===0)return!0;const o=i(n[r-1],s);return!(o>0||o===0)})}function fi(){return!0}function gi(){return!1}function Xt(){}function Wn(n){let t,e,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!$n(s,e))&&(i=this,e=s,t=n.apply(this,arguments)),t}}function di(n){function t(){let e;try{e=n()}catch(i){return Promise.reject(i)}return e instanceof Promise?e:Promise.resolve(e)}return t()}function tn(n){for(const t in n)delete n[t]}function qn(n){let t;for(t in n)return!1;return!t}class nn{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function Ei(n){n.stopPropagation()}class kn extends Dn{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const i=this.listeners_||(this.listeners_={}),s=i[t]||(i[t]=[]);s.includes(e)||s.push(e)}dispatchEvent(t){const e=typeof t=="string",i=e?t:t.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const r=e?new nn(t):t;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let c=0,u=s.length;c<u;++c)if("handleEvent"in s[c]?l=s[c].handleEvent(r):l=s[c].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--o[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,Xt);delete o[i]}return l}disposeInternal(){this.listeners_&&tn(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,e){if(!this.listeners_)return;const i=this.listeners_[t];if(!i)return;const s=i.indexOf(e);s!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[s]=Xt,++this.pendingRemovals_[t]):(i.splice(s,1),i.length===0&&delete this.listeners_[t]))}}function at(n,t,e,i,s){if(s){const o=e;e=function(a){return n.removeEventListener(t,e),o.call(i??this,a)}}else i&&i!==n&&(e=e.bind(i));const r={target:n,type:t,listener:e};return n.addEventListener(t,e),r}function Ft(n,t,e,i){return at(n,t,e,i,!0)}function Yt(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),tn(n))}class K extends kn{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(jn.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const i=t.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=at(this,t[r],e);return s}return at(this,t,e)}onceInternal(t,e){let i;if(Array.isArray(t)){const s=t.length;i=new Array(s);for(let r=0;r<s;++r)i[r]=Ft(this,t[r],e)}else i=Ft(this,t,e);return e.ol_key=i,i}unInternal(t,e){const i=e.ol_key;if(i)Bn(i);else if(Array.isArray(t))for(let s=0,r=t.length;s<r;++s)this.removeEventListener(t[s],e);else this.removeEventListener(t,e)}}K.prototype.on;K.prototype.once;K.prototype.un;function Bn(n){if(Array.isArray(n))for(let t=0,e=n.length;t<e;++t)Yt(n[t]);else Yt(n)}function C(){throw new Error("Unimplemented abstract method.")}let Hn=0;function Vn(n){return n.ol_uid||(n.ol_uid=String(++Hn))}class Ut extends nn{constructor(t,e,i){super(t),this.key=e,this.oldValue=i}}class Kn extends K{constructor(t){super(),this.on,this.once,this.un,Vn(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new Ut(i,t,e)),i=On.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Ut(i,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,i){const s=this.values_||(this.values_={});if(i)s[t]=e;else{const r=s[t];s[t]=e,r!==e&&this.notify(t,r)}}setProperties(t,e){for(const i in t)this.set(i,t[i],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],qn(this.values_)&&(this.values_=null),e||this.notify(t,i)}}}function zn(n,t){if(!n)throw new Error(t)}function lt(n,t,e){return Math.min(Math.max(n,t),e)}function Zn(n,t,e,i,s,r){const o=s-e,a=r-i;if(o!==0||a!==0){const l=((n-e)*o+(t-i)*a)/(o*o+a*a);l>1?(e=s,i=r):l>0&&(e+=o*l,i+=a*l)}return F(n,t,e,i)}function F(n,t,e,i){const s=e-n,r=i-t;return s*s+r*r}function Mi(n){const t=n.length;for(let i=0;i<t;i++){let s=i,r=Math.abs(n[i][i]);for(let a=i+1;a<t;a++){const l=Math.abs(n[a][i]);l>r&&(r=l,s=a)}if(r===0)return null;const o=n[s];n[s]=n[i],n[i]=o;for(let a=i+1;a<t;a++){const l=-n[a][i]/n[i][i];for(let c=i;c<t+1;c++)i==c?n[a][c]=0:n[a][c]+=l*n[i][c]}}const e=new Array(t);for(let i=t-1;i>=0;i--){e[i]=n[i][t]/n[i][i];for(let s=i-1;s>=0;s--)n[s][t]-=n[s][i]*e[i]}return e}function k(n){return n*180/Math.PI}function R(n){return n*Math.PI/180}function en(n,t){const e=n%t;return e*t<0?e+t:e}function Jn(n,t,e){return n+e*(t-n)}function z(n,t){const e=Math.pow(10,t);return Math.round(n*e)/e}function yi(n,t){return Math.round(z(n,t))}function _i(n,t){return Math.floor(z(n,t))}function wi(n,t){return Math.ceil(z(n,t))}function ct(n,t,e){if(n>=t&&n<e)return n;const i=e-t;return((n-t)%i+i)%i+t}const _={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Ci(n){const t=Z();for(let e=0,i=n.length;e<i;++e)ne(t,n[e]);return t}function Qn(n,t,e){const i=Math.min.apply(null,n),s=Math.min.apply(null,t),r=Math.max.apply(null,n),o=Math.max.apply(null,t);return J(i,s,r,o,e)}function Ri(n,t,e){return e?(e[0]=n[0]-t,e[1]=n[1]-t,e[2]=n[2]+t,e[3]=n[3]+t,e):[n[0]-t,n[1]-t,n[2]+t,n[3]+t]}function bi(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n.slice()}function sn(n,t,e){let i,s;return t<n[0]?i=n[0]-t:n[2]<t?i=t-n[2]:i=0,e<n[1]?s=n[1]-e:n[3]<e?s=e-n[3]:s=0,i*i+s*s}function Pi(n,t){return rn(n,t[0],t[1])}function vi(n,t){return n[0]<=t[0]&&t[2]<=n[2]&&n[1]<=t[1]&&t[3]<=n[3]}function rn(n,t,e){return n[0]<=t&&t<=n[2]&&n[1]<=e&&e<=n[3]}function Ot(n,t){const e=n[0],i=n[1],s=n[2],r=n[3],o=t[0],a=t[1];let l=_.UNKNOWN;return o<e?l=l|_.LEFT:o>s&&(l=l|_.RIGHT),a<i?l=l|_.BELOW:a>r&&(l=l|_.ABOVE),l===_.UNKNOWN&&(l=_.INTERSECTING),l}function Z(){return[1/0,1/0,-1/0,-1/0]}function J(n,t,e,i,s){return s?(s[0]=n,s[1]=t,s[2]=e,s[3]=i,s):[n,t,e,i]}function Q(n){return J(1/0,1/0,-1/0,-1/0,n)}function xn(n,t){const e=n[0],i=n[1];return J(e,i,e,i,t)}function te(n,t,e,i,s){const r=Q(s);return on(r,n,t,e,i)}function mi(n,t){return n[0]==t[0]&&n[2]==t[2]&&n[1]==t[1]&&n[3]==t[3]}function pi(n,t,e){return Math.abs(n[0]-t[0])<e&&Math.abs(n[2]-t[2])<e&&Math.abs(n[1]-t[1])<e&&Math.abs(n[3]-t[3])<e}function Ti(n,t){return t[0]<n[0]&&(n[0]=t[0]),t[2]>n[2]&&(n[2]=t[2]),t[1]<n[1]&&(n[1]=t[1]),t[3]>n[3]&&(n[3]=t[3]),n}function ne(n,t){t[0]<n[0]&&(n[0]=t[0]),t[0]>n[2]&&(n[2]=t[0]),t[1]<n[1]&&(n[1]=t[1]),t[1]>n[3]&&(n[3]=t[1])}function on(n,t,e,i,s){for(;e<i;e+=s)ee(n,t[e],t[e+1]);return n}function ee(n,t,e){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}function ie(n,t){let e;return e=t(an(n)),e||(e=t(ln(n)),e)||(e=t(un(n)),e)||(e=t(cn(n)),e)?e:!1}function Si(n){let t=0;return wt(n)||(t=p(n)*ut(n)),t}function an(n){return[n[0],n[1]]}function ln(n){return[n[2],n[1]]}function _t(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Ii(n,t){let e;if(t==="bottom-left")e=an(n);else if(t==="bottom-right")e=ln(n);else if(t==="top-left")e=cn(n);else if(t==="top-right")e=un(n);else throw new Error("Invalid corner");return e}function Li(n,t,e,i,s){const[r,o,a,l,c,u,h,f]=se(n,t,e,i);return J(Math.min(r,a,c,h),Math.min(o,l,u,f),Math.max(r,a,c,h),Math.max(o,l,u,f),s)}function se(n,t,e,i){const s=t*i[0]/2,r=t*i[1]/2,o=Math.cos(e),a=Math.sin(e),l=s*o,c=s*a,u=r*o,h=r*a,f=n[0],g=n[1];return[f-l+h,g-c-u,f-l-h,g-c+u,f+l-h,g+c+u,f+l+h,g+c-u,f-l+h,g-c-u]}function ut(n){return n[3]-n[1]}function Ai(n,t,e){const i=e||Z();return hn(n,t)?(n[0]>t[0]?i[0]=n[0]:i[0]=t[0],n[1]>t[1]?i[1]=n[1]:i[1]=t[1],n[2]<t[2]?i[2]=n[2]:i[2]=t[2],n[3]<t[3]?i[3]=n[3]:i[3]=t[3]):Q(i),i}function cn(n){return[n[0],n[3]]}function un(n){return[n[2],n[3]]}function p(n){return n[2]-n[0]}function hn(n,t){return n[0]<=t[2]&&n[2]>=t[0]&&n[1]<=t[3]&&n[3]>=t[1]}function wt(n){return n[2]<n[0]||n[3]<n[1]}function re(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n}function Gi(n,t){const e=(n[2]-n[0])/2*(t-1),i=(n[3]-n[1])/2*(t-1);n[0]-=e,n[2]+=e,n[1]-=i,n[3]+=i}function oe(n,t,e){let i=!1;const s=Ot(n,t),r=Ot(n,e);if(s===_.INTERSECTING||r===_.INTERSECTING)i=!0;else{const o=n[0],a=n[1],l=n[2],c=n[3],u=t[0],h=t[1],f=e[0],g=e[1],d=(g-h)/(f-u);let E,M;r&_.ABOVE&&!(s&_.ABOVE)&&(E=f-(g-c)/d,i=E>=o&&E<=l),!i&&r&_.RIGHT&&!(s&_.RIGHT)&&(M=g-(f-l)*d,i=M>=a&&M<=c),!i&&r&_.BELOW&&!(s&_.BELOW)&&(E=f-(g-a)/d,i=E>=o&&E<=l),!i&&r&_.LEFT&&!(s&_.LEFT)&&(M=g-(f-o)*d,i=M>=a&&M<=c)}return i}function ae(n,t,e,i){if(wt(n))return Q(e);let s=[];if(i>1){const a=n[2]-n[0],l=n[3]-n[1];for(let c=0;c<i;++c)s.push(n[0]+a*c/i,n[1],n[2],n[1]+l*c/i,n[2]-a*c/i,n[3],n[0],n[3]-l*c/i)}else s=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];t(s,s,2);const r=[],o=[];for(let a=0,l=s.length;a<l;a+=2)r.push(s[a]),o.push(s[a+1]);return Qn(r,o,e)}function le(n,t){const e=t.getExtent(),i=_t(n);if(t.canWrapX()&&(i[0]<e[0]||i[0]>=e[2])){const s=p(e),o=Math.floor((i[0]-e[0])/s)*s;n[0]-=o,n[2]-=o}return n}function Ni(n,t,e){if(t.canWrapX()){const i=t.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];le(n,t);const s=p(i);if(p(n)>s&&!e)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+s,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-s,n[3]]]}return[n]}function jt(n,t,e){const i=e!==void 0?n.toFixed(e):""+n;let s=i.indexOf(".");return s=s===-1?i.length:s,s>t?i:new Array(1+t-s).join("0")+i}function Xi(n,t){const e=(""+n).split("."),i=(""+t).split(".");for(let s=0;s<Math.max(e.length,i.length);s++){const r=parseInt(e[s]||"0",10),o=parseInt(i[s]||"0",10);if(r>o)return 1;if(o>r)return-1}return 0}function Fi(n,t){return n[0]+=+t[0],n[1]+=+t[1],n}function ce(n,t){const e=n[0],i=n[1],s=t[0],r=t[1],o=s[0],a=s[1],l=r[0],c=r[1],u=l-o,h=c-a,f=u===0&&h===0?0:(u*(e-o)+h*(i-a))/(u*u+h*h||0);let g,d;return f<=0?(g=o,d=a):f>=1?(g=l,d=c):(g=o+f*u,d=a+f*h),[g,d]}function Yi(n,t,e){const i=en(t+180,360)-180,s=Math.abs(3600*i),r=e||0;let o=Math.floor(s/3600),a=Math.floor((s-o*3600)/60),l=z(s-o*3600-a*60,r);l>=60&&(l=0,a+=1),a>=60&&(a=0,o+=1);let c=o+"°";return(a!==0||l!==0)&&(c+=" "+jt(a,2)+"′"),l!==0&&(c+=" "+jt(l,2,r)+"″"),i!==0&&(c+=" "+n.charAt(i<0?1:0)),c}function ue(n,t){let e=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=t[i]){e=!1;break}return e}function Ui(n,t){const e=Math.cos(t),i=Math.sin(t),s=n[0]*e-n[1]*i,r=n[1]*e+n[0]*i;return n[0]=s,n[1]=r,n}function Oi(n,t){return n[0]*=t,n[1]*=t,n}function fn(n,t){const e=n[0]-t[0],i=n[1]-t[1];return e*e+i*i}function ji(n,t){return Math.sqrt(fn(n,t))}function Di(n,t){return fn(n,ce(n,t))}function $i(n,t){if(t.canWrapX()){const e=p(t.getExtent()),i=gn(n,t,e);i&&(n[0]-=i*e)}return n}function gn(n,t,e){const i=t.getExtent();let s=0;return t.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(e=e||p(i),s=Math.floor((n[0]-i[0])/e)),s}function Wi(n,t,e){const i=Math.sqrt((t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1])),s=[(t[0]-n[0])/i,(t[1]-n[1])/i],r=[-s[1],s[0]],o=Math.sqrt((e[0]-n[0])*(e[0]-n[0])+(e[1]-n[1])*(e[1]-n[1])),a=[(e[0]-n[0])/o,(e[1]-n[1])/o];let l=i===0||o===0?0:Math.acos(lt(a[0]*s[0]+a[1]*s[1],-1,1));return l=Math.max(l,1e-5),a[0]*r[0]+a[1]*r[1]>0?l:Math.PI*2-l}const x=63710088e-1;function ht(n,t,e){e=e||x;const i=R(n[1]),s=R(t[1]),r=(s-i)/2,o=R(t[0]-n[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*e*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function st(n,t){let e=0;for(let i=0,s=n.length;i<s-1;++i)e+=ht(n[i],n[i+1],t);return e}function he(n,t){t=t||{};const e=t.radius||x,i=t.projection||"EPSG:3857",s=n.getType();s!=="GeometryCollection"&&(n=n.clone().transform(i,"EPSG:4326"));let r=0,o,a,l,c,u,h;switch(s){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":{o=n.getCoordinates(),r=st(o,e);break}case"MultiLineString":case"Polygon":{for(o=n.getCoordinates(),l=0,c=o.length;l<c;++l)r+=st(o[l],e);break}case"MultiPolygon":{for(o=n.getCoordinates(),l=0,c=o.length;l<c;++l)for(a=o[l],u=0,h=a.length;u<h;++u)r+=st(a[u],e);break}case"GeometryCollection":{const f=n.getGeometries();for(l=0,c=f.length;l<c;++l)r+=he(f[l],t);break}default:throw new Error("Unsupported geometry type: "+s)}return r}function W(n,t){let e=0;const i=n.length;let s=n[i-1][0],r=n[i-1][1];for(let o=0;o<i;o++){const a=n[o][0],l=n[o][1];e+=R(a-s)*(2+Math.sin(R(r))+Math.sin(R(l))),s=a,r=l}return e*t*t/2}function fe(n,t){t=t||{};const e=t.radius||x,i=t.projection||"EPSG:3857",s=n.getType();s!=="GeometryCollection"&&(n=n.clone().transform(i,"EPSG:4326"));let r=0,o,a,l,c,u,h;switch(s){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(o=n.getCoordinates(),r=Math.abs(W(o[0],e)),l=1,c=o.length;l<c;++l)r-=Math.abs(W(o[l],e));break}case"MultiPolygon":{for(o=n.getCoordinates(),l=0,c=o.length;l<c;++l)for(a=o[l],r+=Math.abs(W(a[0],e)),u=1,h=a.length;u<h;++u)r-=Math.abs(W(a[u],e));break}case"GeometryCollection":{const f=n.getGeometries();for(l=0,c=f.length;l<c;++l)r+=fe(f[l],t);break}default:throw new Error("Unsupported geometry type: "+s)}return r}function ge(n,t,e,i){i=i||x;const s=R(n[1]),r=R(n[0]),o=t/i,a=Math.asin(Math.sin(s)*Math.cos(o)+Math.cos(s)*Math.sin(o)*Math.cos(e)),l=r+Math.atan2(Math.sin(e)*Math.sin(o)*Math.cos(s),Math.cos(o)-Math.sin(s)*Math.sin(a));return[k(l),k(a)]}function de(...n){console.warn(...n)}function qi(...n){console.error(...n)}const Ee={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};function ki(n){return Ee[n]}const ft={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Ct{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ft[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const $=6378137,X=Math.PI*$,Me=[-X,-X,X,X],ye=[-180,-85,180,85],q=$*Math.log(Math.tan(Math.PI/2));class G extends Ct{constructor(t){super({code:t,units:"m",extent:Me,global:!0,worldExtent:ye,getPointResolution:function(e,i){return e/Math.cosh(i[1]/$)}})}}const Dt=[new G("EPSG:3857"),new G("EPSG:102100"),new G("EPSG:102113"),new G("EPSG:900913"),new G("http://www.opengis.net/def/crs/EPSG/0/3857"),new G("http://www.opengis.net/gml/srs/epsg.xml#3857")];function _e(n,t,e,i){const s=n.length;e=e>1?e:2,i=i??e,t===void 0&&(e>2?t=n.slice():t=new Array(s));for(let r=0;r<s;r+=i){t[r]=X*n[r]/180;let o=$*Math.log(Math.tan(Math.PI*(+n[r+1]+90)/360));o>q?o=q:o<-q&&(o=-q),t[r+1]=o}return t}function we(n,t,e,i){const s=n.length;e=e>1?e:2,i=i??e,t===void 0&&(e>2?t=n.slice():t=new Array(s));for(let r=0;r<s;r+=i)t[r]=180*n[r]/X,t[r+1]=360*Math.atan(Math.exp(n[r+1]/$))/Math.PI-90;return t}const Ce=6378137,$t=[-180,-90,180,90],Re=Math.PI*Ce/180;class S extends Ct{constructor(t,e){super({code:t,units:"degrees",extent:$t,axisOrientation:e,global:!0,metersPerUnit:Re,worldExtent:$t})}}const Wt=[new S("CRS:84"),new S("EPSG:4326","neu"),new S("urn:ogc:def:crs:OGC:1.3:CRS84"),new S("urn:ogc:def:crs:OGC:2:84"),new S("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new S("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new S("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let gt={};function be(n){return gt[n]||gt[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Pe(n,t){gt[n]=t}let Y={};function A(n,t,e){const i=n.getCode(),s=t.getCode();i in Y||(Y[i]={}),Y[i][s]=e}function rt(n,t){return n in Y&&t in Y[n]?Y[n][t]:null}const B=.9996,b=.00669438,tt=b*b,nt=tt*b,I=b/(1-b),qt=Math.sqrt(1-b),U=(1-qt)/(1+qt),dn=U*U,Rt=dn*U,bt=Rt*U,En=bt*U,Mn=1-b/4-3*tt/64-5*nt/256,ve=3*b/8+3*tt/32+45*nt/1024,me=15*tt/256+45*nt/1024,pe=35*nt/3072,Te=3/2*U-27/32*Rt+269/512*En,Se=21/16*dn-55/32*bt,Ie=151/96*Rt-417/128*En,Le=1097/512*bt,H=6378137;function Ae(n,t,e){const i=n-5e5,o=(e.north?t:t-1e7)/B/(H*Mn),a=o+Te*Math.sin(2*o)+Se*Math.sin(4*o)+Ie*Math.sin(6*o)+Le*Math.sin(8*o),l=Math.sin(a),c=l*l,u=Math.cos(a),h=l/u,f=h*h,g=f*f,d=1-b*c,E=Math.sqrt(1-b*c),M=H/E,P=(1-b)/d,y=I*u**2,m=y*y,w=i/(M*B),T=w*w,O=T*w,Gt=O*w,Nt=Gt*w,Yn=Nt*w,Un=a-h/P*(T/2-Gt/24*(5+3*f+10*y-4*m-9*I))+Yn/720*(61+90*f+298*y+45*g-252*I-3*m);let it=(w-O/6*(1+2*f+y)+Nt/120*(5-2*y+28*f-3*m+8*I+24*g))/u;return it=ct(it+R(yn(e.number)),-Math.PI,Math.PI),[k(it),k(Un)]}const kt=-80,Bt=84,Ge=-180,Ne=180;function Xe(n,t,e){n=ct(n,Ge,Ne),t<kt?t=kt:t>Bt&&(t=Bt);const i=R(t),s=Math.sin(i),r=Math.cos(i),o=s/r,a=o*o,l=a*a,c=R(n),u=yn(e.number),h=R(u),f=H/Math.sqrt(1-b*s**2),g=I*r**2,d=r*ct(c-h,-Math.PI,Math.PI),E=d*d,M=E*d,P=M*d,y=P*d,m=y*d,w=H*(Mn*i-ve*Math.sin(2*i)+me*Math.sin(4*i)-pe*Math.sin(6*i)),T=B*f*(d+M/6*(1-a+g)+y/120*(5-18*a+l+72*g-58*I))+5e5;let O=B*(w+f*o*(E/2+P/24*(5-a+9*g+4*g**2)+m/720*(61-58*a+l+600*g-330*I)));return e.north||(O+=1e7),[T,O]}function yn(n){return(n-1)*6-180+3}const Fe=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function _n(n){let t=0;for(const s of Fe){const r=n.match(s);if(r){t=parseInt(r[1]);break}}if(!t)return null;let e=0,i=!1;return t>32700&&t<32761?e=t-32700:t>32600&&t<32661&&(i=!0,e=t-32600),e?{number:e,north:i}:null}function Ht(n,t){return function(e,i,s,r){const o=e.length;s=s>1?s:2,r=r??s,i||(s>2?i=e.slice():i=new Array(o));for(let a=0;a<o;a+=r){const l=e[a],c=e[a+1],u=n(l,c,t);i[a]=u[0],i[a+1]=u[1]}return i}}function Ye(n){return _n(n)?new Ct({code:n,units:"m"}):null}function Ue(n){const t=_n(n.getCode());return t?{forward:Ht(Xe,t),inverse:Ht(Ae,t)}:null}const Oe=[Ue],je=[Ye];let dt=!0;function De(n){dt=!1}function Pt(n,t){if(t!==void 0){for(let e=0,i=n.length;e<i;++e)t[e]=n[e];t=t}else t=n.slice();return t}function Bi(n,t){if(t!==void 0&&n!==t){for(let e=0,i=n.length;e<i;++e)t[e]=n[e];n=t}return n}function Et(n){Pe(n.getCode(),n),A(n,n,Pt)}function $e(n){n.forEach(Et)}function v(n){if(typeof n!="string")return n;const t=be(n);if(t)return t;for(const e of je){const i=e(n);if(i)return i}return null}function Hi(n,t,e,i){n=v(n);let s;const r=n.getPointResolutionFunc();if(r){if(s=r(t,e),i&&i!==n.getUnits()){const o=n.getMetersPerUnit();o&&(s=s*o/ft[i])}}else{const o=n.getUnits();if(o=="degrees"&&!i||i=="degrees")s=t;else{const a=vt(n,v("EPSG:4326"));if(!a&&o!=="degrees")s=t*n.getMetersPerUnit();else{let c=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];c=a(c,c,2);const u=ht(c.slice(0,2),c.slice(2,4)),h=ht(c.slice(4,6),c.slice(6,8));s=(u+h)/2}const l=i?ft[i]:n.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function Vt(n){$e(n),n.forEach(function(t){n.forEach(function(e){t!==e&&A(t,e,Pt)})})}function We(n,t,e,i){n.forEach(function(s){t.forEach(function(r){A(s,r,e),A(r,s,i)})})}function Vi(n,t){return n?typeof n=="string"?v(n):n:v(t)}function Kt(n){return function(t,e,i,s){const r=t.length;i=i!==void 0?i:2,s=s??i,e=e!==void 0?e:new Array(r);for(let o=0;o<r;o+=s){const a=n(t.slice(o,o+i)),l=a.length;for(let c=0,u=s;c<u;++c)e[o+c]=c>=l?t[o+c]:a[c]}return e}}function Ki(n,t,e,i){const s=v(n),r=v(t);A(s,r,Kt(e)),A(r,s,Kt(i))}function zi(n,t){return De(),wn(n,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function Zi(n,t){const e=wn(n,t!==void 0?t:"EPSG:3857","EPSG:4326"),i=e[0];return(i<-180||i>180)&&(e[0]=en(i+180,360)-180),e}function Ji(n,t){if(n===t)return!0;const e=n.getUnits()===t.getUnits();return(n.getCode()===t.getCode()||vt(n,t)===Pt)&&e}function vt(n,t){const e=n.getCode(),i=t.getCode();let s=rt(e,i);if(s)return s;let r=null,o=null;for(const l of Oe)r||(r=l(n)),o||(o=l(t));if(!r&&!o)return null;const a="EPSG:4326";if(o)if(r)s=ot(r.inverse,o.forward);else{const l=rt(e,a);l&&(s=ot(l,o.forward))}else{const l=rt(a,i);l&&(s=ot(r.inverse,l))}return s&&(Et(n),Et(t),A(n,t,s)),s}function ot(n,t){return function(e,i,s,r){return i=n(e,i,s,r),t(i,i,s,r)}}function V(n,t){const e=v(n),i=v(t);return vt(e,i)}function wn(n,t,e){const i=V(t,e);if(!i){const s=v(t).getCode(),r=v(e).getCode();throw new Error(`No transform available between ${s} and ${r}`)}return i(n,void 0,n.length)}function Qi(n,t,e,i){const s=V(t,e);return ae(n,s,void 0,i)}let qe=null;function xi(){return qe}function ts(n,t){return n}function ns(n,t){return dt&&!ue(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(dt=!1,de("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function es(n,t){return n}function is(n,t){return n}function ss(n,t,e){return function(i){let s,r;if(n.canWrapX()){const o=n.getExtent(),a=p(o);i=i.slice(0),r=gn(i,n,a),r&&(i[0]=i[0]-r*a),i[0]=lt(i[0],o[0],o[2]),i[1]=lt(i[1],o[1],o[3]),s=e(i)}else s=e(i);return r&&t.canWrapX()&&(s[0]+=r*p(t.getExtent())),s}}function ke(){Vt(Dt),Vt(Wt),We(Wt,Dt,_e,we)}ke();const mt=new Array(6);function Be(){return[1,0,0,1,0,0]}function rs(n){return et(n,1,0,0,1,0,0)}function pt(n,t){const e=n[0],i=n[1],s=n[2],r=n[3],o=n[4],a=n[5],l=t[0],c=t[1],u=t[2],h=t[3],f=t[4],g=t[5];return n[0]=e*l+s*c,n[1]=i*l+r*c,n[2]=e*u+s*h,n[3]=i*u+r*h,n[4]=e*f+s*g+o,n[5]=i*f+r*g+a,n}function et(n,t,e,i,s,r,o){return n[0]=t,n[1]=e,n[2]=i,n[3]=s,n[4]=r,n[5]=o,n}function os(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function as(n,t){const e=t[0],i=t[1];return t[0]=n[0]*e+n[2]*i+n[4],t[1]=n[1]*e+n[3]*i+n[5],t}function ls(n,t){const e=Math.cos(t),i=Math.sin(t);return pt(n,et(mt,e,i,-i,e,0,0))}function cs(n,t,e){return pt(n,et(mt,t,0,0,e,0,0))}function us(n,t,e){return pt(n,et(mt,1,0,0,1,t,e))}function He(n,t,e,i,s,r,o,a){const l=Math.sin(r),c=Math.cos(r);return n[0]=i*c,n[1]=s*l,n[2]=-i*l,n[3]=s*c,n[4]=o*i*c-a*i*l+t,n[5]=o*s*l+a*s*c+e,n}function hs(n,t){const e=Ve(t);zn(e!==0,"Transformation matrix cannot be inverted");const i=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5];return n[0]=o/e,n[1]=-s/e,n[2]=-r/e,n[3]=i/e,n[4]=(r*l-o*a)/e,n[5]=-(i*l-s*a)/e,n}function Ve(n){return n[0]*n[3]-n[1]*n[2]}const Ke=[1e5,1e5,1e5,1e5,2,2];function fs(n){return"matrix("+n.join(", ")+")"}function zt(n){return n.substring(7,n.length-1).split(",").map(parseFloat)}function gs(n,t){const e=zt(n),i=zt(t);for(let s=0;s<6;++s)if(Math.round((e[s]-i[s])*Ke[s])!==0)return!1;return!0}function Cn(n,t,e,i,s,r,o){r=r||[],o=o||2;let a=0;for(let l=t;l<e;l+=i){const c=n[l],u=n[l+1];r[a++]=s[0]*c+s[2]*u+s[4],r[a++]=s[1]*c+s[3]*u+s[5];for(let h=2;h<o;h++)r[a++]=n[l+h]}return r&&r.length!=a&&(r.length=a),r}function ze(n,t,e,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),c=r[0],u=r[1];let h=0;for(let f=t;f<e;f+=i){const g=n[f]-c,d=n[f+1]-u;o[h++]=c+g*a-d*l,o[h++]=u+g*l+d*a;for(let E=f+2;E<f+i;++E)o[h++]=n[E]}return o&&o.length!=h&&(o.length=h),o}function Ze(n,t,e,i,s,r,o,a){a=a||[];const l=o[0],c=o[1];let u=0;for(let h=t;h<e;h+=i){const f=n[h]-l,g=n[h+1]-c;a[u++]=l+s*f,a[u++]=c+r*g;for(let d=h+2;d<h+i;++d)a[u++]=n[d]}return a&&a.length!=u&&(a.length=u),a}function Je(n,t,e,i,s,r,o){o=o||[];let a=0;for(let l=t;l<e;l+=i){o[a++]=n[l]+s,o[a++]=n[l+1]+r;for(let c=l+2;c<l+i;++c)o[a++]=n[c]}return o&&o.length!=a&&(o.length=a),o}const Zt=Be(),Qe=[NaN,NaN];class xe extends Kn{constructor(){super(),this.extent_=Z(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Wn((t,e,i)=>{if(!i)return this.getSimplifiedGeometry(e);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return C()}closestPointXY(t,e,i,s){return C()}containsXY(t,e){return this.closestPointXY(t,e,Qe,Number.MIN_VALUE)===0}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return C()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Q(e),this.extentRevision_=this.getRevision()}return re(this.extent_,t)}rotate(t,e){C()}scale(t,e,i){C()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return C()}getType(){return C()}applyTransform(t){C()}intersectsExtent(t){return C()}translate(t,e){C()}transform(t,e){const i=v(t),s=i.getUnits()=="tile-pixels"?function(r,o,a){const l=i.getExtent(),c=i.getWorldExtent(),u=ut(c)/ut(l);He(Zt,c[0],c[3],u,-u,0,0,0);const h=Cn(r,0,r.length,a,Zt,o),f=V(i,e);return f?f(h,h,a):h}:V(i,e);return this.applyTransform(s),this}}class Tt extends xe{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return te(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return C()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=Jt(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){C()}setLayout(t,e,i){let s;if(t)s=Jt(t);else{for(let r=0;r<i;++r){if(e.length===0){this.layout="XY",this.stride=2;return}e=e[0]}s=e.length,t=ti(s)}this.layout=t,this.stride=s}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,e){const i=this.getFlatCoordinates();if(i){const s=this.getStride();ze(i,0,i.length,s,t,e,i),this.changed()}}scale(t,e,i){e===void 0&&(e=t),i||(i=_t(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();Ze(s,0,s.length,r,t,e,i,s),this.changed()}}translate(t,e){const i=this.getFlatCoordinates();if(i){const s=this.getStride();Je(i,0,i.length,s,t,e,i),this.changed()}}}function ti(n){let t;return n==2?t="XY":n==3?t="XYZ":n==4&&(t="XYZM"),t}function Jt(n){let t;return n=="XY"?t=2:n=="XYZ"||n=="XYM"?t=3:n=="XYZM"&&(t=4),t}function ds(n,t,e){const i=n.getFlatCoordinates();if(!i)return null;const s=n.getStride();return Cn(i,0,i.length,s,t,e)}function Rn(n,t,e,i){let s=0;const r=n[e-i],o=n[e-i+1];let a=0,l=0;for(;t<e;t+=i){const c=n[t]-r,u=n[t+1]-o;s+=l*c-a*u,a=c,l=u}return s/2}function bn(n,t,e,i){let s=0;for(let r=0,o=e.length;r<o;++r){const a=e[r];s+=Rn(n,t,a,i),t=a}return s}function Es(n,t,e,i){let s=0;for(let r=0,o=e.length;r<o;++r){const a=e[r];s+=bn(n,t,a,i),t=a[a.length-1]}return s}function Qt(n,t,e,i,s,r,o){const a=n[t],l=n[t+1],c=n[e]-a,u=n[e+1]-l;let h;if(c===0&&u===0)h=t;else{const f=((s-a)*c+(r-l)*u)/(c*c+u*u);if(f>1)h=e;else if(f>0){for(let g=0;g<i;++g)o[g]=Jn(n[t+g],n[e+g],f);o.length=i;return}else h=t}for(let f=0;f<i;++f)o[f]=n[h+f];o.length=i}function Pn(n,t,e,i,s){let r=n[t],o=n[t+1];for(t+=i;t<e;t+=i){const a=n[t],l=n[t+1],c=F(r,o,a,l);c>s&&(s=c),r=a,o=l}return s}function vn(n,t,e,i,s){for(let r=0,o=e.length;r<o;++r){const a=e[r];s=Pn(n,t,a,i,s),t=a}return s}function Ms(n,t,e,i,s){for(let r=0,o=e.length;r<o;++r){const a=e[r];s=vn(n,t,a,i,s),t=a[a.length-1]}return s}function mn(n,t,e,i,s,r,o,a,l,c,u){if(t==e)return c;let h,f;if(s===0){if(f=F(o,a,n[t],n[t+1]),f<c){for(h=0;h<i;++h)l[h]=n[t+h];return l.length=i,f}return c}u=u||[NaN,NaN];let g=t+i;for(;g<e;)if(Qt(n,g-i,g,i,o,a,u),f=F(o,a,u[0],u[1]),f<c){for(c=f,h=0;h<i;++h)l[h]=u[h];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(f)-Math.sqrt(c))/s|0,1);if(r&&(Qt(n,e-i,t,i,o,a,u),f=F(o,a,u[0],u[1]),f<c)){for(c=f,h=0;h<i;++h)l[h]=u[h];l.length=i}return c}function pn(n,t,e,i,s,r,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,f=e.length;h<f;++h){const g=e[h];c=mn(n,t,g,i,s,r,o,a,l,c,u),t=g}return c}function ys(n,t,e,i,s,r,o,a,l,c,u){u=u||[NaN,NaN];for(let h=0,f=e.length;h<f;++h){const g=e[h];c=pn(n,t,g,i,s,r,o,a,l,c,u),t=g[g.length-1]}return c}function ni(n,t,e,i){for(let s=0,r=e.length;s<r;++s)n[t++]=e[s];return t}function Tn(n,t,e,i){for(let s=0,r=e.length;s<r;++s){const o=e[s];for(let a=0;a<i;++a)n[t++]=o[a]}return t}function Sn(n,t,e,i,s){s=s||[];let r=0;for(let o=0,a=e.length;o<a;++o){const l=Tn(n,t,e[o],i);s[r++]=l,t=l}return s.length=r,s}function _s(n,t,e,i,s){s=s||[];let r=0;for(let o=0,a=e.length;o<a;++o){const l=Sn(n,t,e[o],i,s[r]);l.length===0&&(l[0]=t),s[r++]=l,t=l[l.length-1]}return s.length=r,s}function In(n,t,e,i,s){s=s!==void 0?s:[];let r=0;for(let o=t;o<e;o+=i)s[r++]=n.slice(o,o+i);return s.length=r,s}function Ln(n,t,e,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];s[r++]=In(n,t,l,i,s[r]),t=l}return s.length=r,s}function ws(n,t,e,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=e.length;o<a;++o){const l=e[o];s[r++]=l.length===1&&l[0]===t?[]:Ln(n,t,l,i,s[r]),t=l[l.length-1]}return s.length=r,s}function An(n,t,e,i,s,r,o){const a=(e-t)/i;if(a<3){for(;t<e;t+=i)r[o++]=n[t],r[o++]=n[t+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const c=[t,e-i];let u=0;for(;c.length>0;){const h=c.pop(),f=c.pop();let g=0;const d=n[f],E=n[f+1],M=n[h],P=n[h+1];for(let y=f+i;y<h;y+=i){const m=n[y],w=n[y+1],T=Zn(m,w,d,E,M,P);T>g&&(u=y,g=T)}g>s&&(l[(u-t)/i]=1,f+i<u&&c.push(f,u),u+i<h&&c.push(u,h))}for(let h=0;h<a;++h)l[h]&&(r[o++]=n[t+h*i],r[o++]=n[t+h*i+1]);return o}function Cs(n,t,e,i,s,r,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l];o=An(n,t,u,i,s,r,o),a.push(o),t=u}return o}function N(n,t){return t*Math.round(n/t)}function ei(n,t,e,i,s,r,o){if(t==e)return o;let a=N(n[t],s),l=N(n[t+1],s);t+=i,r[o++]=a,r[o++]=l;let c,u;do if(c=N(n[t],s),u=N(n[t+1],s),t+=i,t==e)return r[o++]=c,r[o++]=u,o;while(c==a&&u==l);for(;t<e;){const h=N(n[t],s),f=N(n[t+1],s);if(t+=i,h==c&&f==u)continue;const g=c-a,d=u-l,E=h-a,M=f-l;if(g*M==d*E&&(g<0&&E<g||g==E||g>0&&E>g)&&(d<0&&M<d||d==M||d>0&&M>d)){c=h,u=f;continue}r[o++]=c,r[o++]=u,a=c,l=u,c=h,u=f}return r[o++]=c,r[o++]=u,o}function Gn(n,t,e,i,s,r,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l];o=ei(n,t,u,i,s,r,o),a.push(o),t=u}return o}function Rs(n,t,e,i,s,r,o,a){for(let l=0,c=e.length;l<c;++l){const u=e[l],h=[];o=Gn(n,t,u,i,s,r,o,h),a.push(h),t=u[u.length-1]}return o}class j extends Tt{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}clone(){return new j(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,i,s){return s<sn(this.getExtent(),t,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Pn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),mn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,s))}getArea(){return Rn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return In(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=An(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new j(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Tn(this.flatCoordinates,0,t,this.stride),this.changed()}}class St extends Tt{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new St(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,s){const r=this.flatCoordinates,o=F(t,e,r[0],r[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)i[l]=r[l];return i.length=a,o}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return xn(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return rn(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ni(this.flatCoordinates,0,t,this.stride),this.changed()}}function ii(n,t,e,i,s){return!ie(s,function(o){return!L(n,t,e,i,o[0],o[1])})}function L(n,t,e,i,s,r){let o=0,a=n[e-i],l=n[e-i+1];for(;t<e;t+=i){const c=n[t],u=n[t+1];l<=r?u>r&&(c-a)*(r-l)-(s-a)*(u-l)>0&&o++:u<=r&&(c-a)*(r-l)-(s-a)*(u-l)<0&&o--,a=c,l=u}return o!==0}function It(n,t,e,i,s,r){if(e.length===0||!L(n,t,e[0],i,s,r))return!1;for(let o=1,a=e.length;o<a;++o)if(L(n,e[o-1],e[o],i,s,r))return!1;return!0}function bs(n,t,e,i,s,r){if(e.length===0)return!1;for(let o=0,a=e.length;o<a;++o){const l=e[o];if(It(n,t,l,i,s,r))return!0;t=l[l.length-1]}return!1}function Nn(n,t,e,i,s,r,o){let a,l,c,u,h,f,g;const d=s[r+1],E=[];for(let y=0,m=e.length;y<m;++y){const w=e[y];for(u=n[w-i],f=n[w-i+1],a=t;a<w;a+=i)h=n[a],g=n[a+1],(d<=f&&g<=d||f<=d&&d<=g)&&(c=(d-f)/(g-f)*(h-u)+u,E.push(c)),u=h,f=g}let M=NaN,P=-1/0;for(E.sort(yt),u=E[0],a=1,l=E.length;a<l;++a){h=E[a];const y=Math.abs(h-u);y>P&&(c=(u+h)/2,It(n,t,e,i,c,d)&&(M=c,P=y)),u=h}return isNaN(M)&&(M=s[r]),o?(o.push(M,d,P),o):[M,d,P]}function Ps(n,t,e,i,s){let r=[];for(let o=0,a=e.length;o<a;++o){const l=e[o];r=Nn(n,t,l,i,s,2*o,r),t=l[l.length-1]}return r}function si(n,t,e,i,s){let r;for(t+=i;t<e;t+=i)if(r=s(n.slice(t-i,t),n.slice(t,t+i)),r)return r;return!1}function Lt(n,t,e,i,s,r){return r=r??on(Z(),n,t,e,i),hn(s,r)?r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:si(n,t,e,i,function(o,a){return oe(s,o,a)}):!1}function vs(n,t,e,i,s){for(let r=0,o=e.length;r<o;++r){if(Lt(n,t,e[r],i,s))return!0;t=e[r]}return!1}function ri(n,t,e,i,s){return!!(Lt(n,t,e,i,s)||L(n,t,e,i,s[0],s[1])||L(n,t,e,i,s[0],s[3])||L(n,t,e,i,s[2],s[1])||L(n,t,e,i,s[2],s[3]))}function Xn(n,t,e,i,s){if(!ri(n,t,e[0],i,s))return!1;if(e.length===1)return!0;for(let r=1,o=e.length;r<o;++r)if(ii(n,e[r-1],e[r],i,s)&&!Lt(n,e[r-1],e[r],i,s))return!1;return!0}function ms(n,t,e,i,s){for(let r=0,o=e.length;r<o;++r){const a=e[r];if(Xn(n,t,a,i,s))return!0;t=a[a.length-1]}return!1}function oi(n,t,e,i){for(;t<e-i;){for(let s=0;s<i;++s){const r=n[t+s];n[t+s]=n[e-i+s],n[e-i+s]=r}t+=i,e-=i}}function At(n,t,e,i){let s=0,r=n[e-i],o=n[e-i+1];for(;t<e;t+=i){const a=n[t],l=n[t+1];s+=(a-r)*(l+o),r=a,o=l}return s===0?void 0:s>0}function Fn(n,t,e,i,s){s=s!==void 0?s:!1;for(let r=0,o=e.length;r<o;++r){const a=e[r],l=At(n,t,a,i);if(r===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;t=a}return!0}function ps(n,t,e,i,s){for(let r=0,o=e.length;r<o;++r){const a=e[r];if(!Fn(n,t,a,i,s))return!1;a.length&&(t=a[a.length-1])}return!0}function Mt(n,t,e,i,s){s=s!==void 0?s:!1;for(let r=0,o=e.length;r<o;++r){const a=e[r],l=At(n,t,a,i);(r===0?s&&l||!s&&!l:s&&!l||!s&&l)&&oi(n,t,a,i),t=a}return t}function Ts(n,t,e,i,s){for(let r=0,o=e.length;r<o;++r)t=Mt(n,t,e[r],i,s);return t}function Ss(n,t){const e=[];let i=0,s=0,r;for(let o=0,a=t.length;o<a;++o){const l=t[o],c=At(n,i,l,2);if(r===void 0&&(r=c),c===r)e.push(t.slice(s,o+1));else{if(e.length===0)continue;e[e.length-1].push(t[s])}s=o+1,i=l}return e}class D extends Tt{constructor(t,e,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,e!==void 0&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?xt(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new D(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,s){return s<sn(this.getExtent(),t,e)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vn(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),pn(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,s))}containsXY(t,e){return It(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return bn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),Mt(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Ln(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=_t(this.getExtent());this.flatInteriorPoint_=Nn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new St(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new j(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,i=this.ends_,s=[];let r=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],c=new j(e.slice(r,l),t);s.push(c),r=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Fn(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Mt(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=Gn(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new D(e,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return Xn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Sn(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function Is(n,t,e,i){e=e||32;const s=[];for(let r=0;r<e;++r)xt(s,ge(n,t,2*Math.PI*r/e,i));return s.push(s[0],s[1]),new D(s,"XY",[s.length])}function Ls(n){if(wt(n))throw new Error("Cannot create polygon from empty extent");const t=n[0],e=n[1],i=n[2],s=n[3],r=[t,e,t,s,i,s,i,e,t,e];return new D(r,"XY",[r.length])}export{vi as $,cn as A,fn as B,Jt as C,nn as D,jn as E,gi as F,xe as G,Ji as H,V as I,ps as J,Ts as K,Fn as L,Mt as M,qn as N,_s as O,D as P,ti as Q,Sn as R,Tt as S,fi as T,Vn as U,mi as V,Xt as W,zn as X,On as Y,xt as Z,Ni as _,Zi as a,rs as a$,wn as a0,Ai as a1,wt as a2,p as a3,ut as a4,ci as a5,wi as a6,Li as a7,yi as a8,_i as a9,Ps as aA,Rs as aB,ms as aC,xn as aD,Nn as aE,Ss as aF,He as aG,Cn as aH,Wn as aI,Be as aJ,Gn as aK,is as aL,as as aM,Pi as aN,jt as aO,R as aP,be as aQ,Et as aR,Ct as aS,rt as aT,Vt as aU,Ki as aV,ss as aW,$i as aX,yt as aY,pt as aZ,cs as a_,Xi as aa,Z as ab,Ri as ac,en as ad,Kn as ae,te as af,Jn as ag,ai as ah,Pn as ai,mn as aj,si as ak,In as al,An as am,Lt as an,Tn as ao,vn as ap,pn as aq,Ln as ar,Cs as as,vs as at,rn as au,Ms as av,ys as aw,bs as ax,Es as ay,ws as az,Q as b,us as b0,Ot as b1,_ as b2,ui as b3,$n as b4,bi as b5,N as b6,Wi as b7,os as b8,ne as b9,hi as bA,ri as bB,Ii as bC,Dn as bD,se as bE,ls as bF,qi as bG,Vi as bH,Ui as bI,Fi as bJ,De as bK,Oi as bL,hs as bM,zt as bN,de as bO,K as bP,gs as bQ,fs as bR,ae as bS,ki as bT,At as bU,j as bV,Zn as bW,Yi as bX,pi as bY,li as ba,ds as bb,vt as bc,xi as bd,es as be,le as bf,fe as bg,he as bh,ue as bi,ce as bj,ts as bk,Di as bl,Si as bm,Hi as bn,ft as bo,Ei as bp,Gi as bq,Ls as br,Ft as bs,Bi as bt,Is as bu,tn as bv,kn as bw,di as bx,Mi as by,Kt as bz,sn as c,_t as d,Ti as e,zi as f,v as g,C as h,St as i,J as j,hn as k,at as l,ie as m,ni as n,ji as o,z as p,lt as q,ze as r,F as s,Qi as t,Yt as u,Ci as v,ns as w,an as x,ln as y,un as z};
