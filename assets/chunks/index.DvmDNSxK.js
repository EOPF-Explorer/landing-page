import{f as Ot,a as z,p as Kt,m as Ls,l as kt,i as Ps,d as Lt,r as Is,b as Kn}from"./index.2GfG_t-c.js";import{o as Os}from"./orient2d.DArCjZZA.js";import{g as hr,c as dt}from"./commonjsHelpers.BosuxZz1.js";function ct(t){return Array.isArray?Array.isArray(t):gr(t)==="[object Array]"}function Ds(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ts(t){return t==null?"":Ds(t)}function q(t){return typeof t=="string"}function dr(t){return typeof t=="number"}function Rs(t){return t===!0||t===!1||Ns(t)&&gr(t)=="[object Boolean]"}function pr(t){return typeof t=="object"}function Ns(t){return pr(t)&&t!==null}function G(t){return t!=null}function ke(t){return!t.trim().length}function gr(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const $s="Incorrect 'index' type",Ys=t=>`Invalid value for key ${t}`,Xs=t=>`Pattern length exceeds max of ${t}.`,Gs=t=>`Missing ${t} property in key`,Hs=t=>`Property 'weight' in key '${t}' must be a positive integer`,zn=Object.prototype.hasOwnProperty;class Ws{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=yr(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function yr(t){let e=null,n=null,r=null,i=1,o=null;if(q(t)||ct(t))r=t,e=Un(t),n=rn(t);else{if(!zn.call(t,"name"))throw new Error(Gs("name"));const a=t.name;if(r=a,zn.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Hs(a));e=Un(a),n=rn(a),o=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:o}}function Un(t){return ct(t)?t:t.split(".")}function rn(t){return ct(t)?t.join("."):t}function Ks(t,e){let n=[],r=!1;const i=(o,a,c)=>{if(G(o))if(!a[c])n.push(o);else{let l=a[c];const f=o[l];if(!G(f))return;if(c===a.length-1&&(q(f)||dr(f)||Rs(f)))n.push(Ts(f));else if(ct(f)){r=!0;for(let h=0,p=f.length;h<p;h+=1)i(f[h],a,c+1)}else a.length&&i(f,a,c+1)}};return i(t,q(e)?e.split("."):e,0),r?n:n[0]}const zs={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Us={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},ks={location:0,threshold:.6,distance:100},Vs={useExtendedSearch:!1,getFn:Ks,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var E={...Us,...zs,...ks,...Vs};const Js=/[^ ]+/g;function qs(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const o=i.match(Js).length;if(n.has(o))return n.get(o);const a=1/Math.pow(o,.5*t),c=parseFloat(Math.round(a*r)/r);return n.set(o,c),c},clear(){n.clear()}}}class pn{constructor({getFn:e=E.getFn,fieldNormWeight:n=E.fieldNormWeight}={}){this.norm=qs(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,q(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();q(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!G(e)||ke(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,o)=>{let a=i.getFn?i.getFn(e):this.getFn(e,i.path);if(G(a)){if(ct(a)){let c=[];const l=[{nestedArrIndex:-1,value:a}];for(;l.length;){const{nestedArrIndex:f,value:h}=l.pop();if(G(h))if(q(h)&&!ke(h)){let p={v:h,i:f,n:this.norm.get(h)};c.push(p)}else ct(h)&&h.forEach((p,y)=>{l.push({nestedArrIndex:y,value:p})})}r.$[o]=c}else if(q(a)&&!ke(a)){let c={v:a,n:this.norm.get(a)};r.$[o]=c}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function mr(t,e,{getFn:n=E.getFn,fieldNormWeight:r=E.fieldNormWeight}={}){const i=new pn({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(yr)),i.setSources(e),i.create(),i}function Qs(t,{getFn:e=E.getFn,fieldNormWeight:n=E.fieldNormWeight}={}){const{keys:r,records:i}=t,o=new pn({getFn:e,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o}function pe(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=E.distance,ignoreLocation:o=E.ignoreLocation}={}){const a=e/t.length;if(o)return a;const c=Math.abs(r-n);return i?a+c/i:c?1:a}function Zs(t=[],e=E.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let a=t.length;o<a;o+=1){let c=t[o];c&&r===-1?r=o:!c&&r!==-1&&(i=o-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}const vt=32;function js(t,e,n,{location:r=E.location,distance:i=E.distance,threshold:o=E.threshold,findAllMatches:a=E.findAllMatches,minMatchCharLength:c=E.minMatchCharLength,includeMatches:l=E.includeMatches,ignoreLocation:f=E.ignoreLocation}={}){if(e.length>vt)throw new Error(Xs(vt));const h=e.length,p=t.length,y=Math.max(0,Math.min(r,p));let g=o,w=y;const v=c>1||l,M=v?Array(p):[];let A;for(;(A=t.indexOf(e,w))>-1;){let O=pe(e,{currentLocation:A,expectedLocation:y,distance:i,ignoreLocation:f});if(g=Math.min(O,g),w=A+h,v){let k=0;for(;k<h;)M[A+k]=1,k+=1}}w=-1;let S=[],C=1,B=h+p;const F=1<<h-1;for(let O=0;O<h;O+=1){let k=0,Y=B;for(;k<Y;)pe(e,{errors:O,currentLocation:y+Y,expectedLocation:y,distance:i,ignoreLocation:f})<=g?k=Y:B=Y,Y=Math.floor((B-k)/2+k);B=Y;let Zt=Math.max(1,y-Y+1),Yt=a?p:Math.min(y+Y,p)+h,ut=Array(Yt+2);ut[Yt+1]=(1<<O)-1;for(let X=Yt;X>=Zt;X-=1){let Mt=X-1,jt=n[t.charAt(Mt)];if(v&&(M[Mt]=+!!jt),ut[X]=(ut[X+1]<<1|1)&jt,O&&(ut[X]|=(S[X+1]|S[X])<<1|1|S[X+1]),ut[X]&F&&(C=pe(e,{errors:O,currentLocation:Mt,expectedLocation:y,distance:i,ignoreLocation:f}),C<=g)){if(g=C,w=Mt,w<=y)break;Zt=Math.max(1,2*y-w)}}if(pe(e,{errors:O+1,currentLocation:y,expectedLocation:y,distance:i,ignoreLocation:f})>g)break;S=ut}const $={isMatch:w>=0,score:Math.max(.001,C)};if(v){const O=Zs(M,c);O.length?l&&($.indices=O):$.isMatch=!1}return $}function to(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}const xe=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class wr{constructor(e,{location:n=E.location,threshold:r=E.threshold,distance:i=E.distance,includeMatches:o=E.includeMatches,findAllMatches:a=E.findAllMatches,minMatchCharLength:c=E.minMatchCharLength,isCaseSensitive:l=E.isCaseSensitive,ignoreDiacritics:f=E.ignoreDiacritics,ignoreLocation:h=E.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:l,ignoreDiacritics:f,ignoreLocation:h},e=l?e:e.toLowerCase(),e=f?xe(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const p=(g,w)=>{this.chunks.push({pattern:g,alphabet:to(g),startIndex:w})},y=this.pattern.length;if(y>vt){let g=0;const w=y%vt,v=y-w;for(;g<v;)p(this.pattern.substr(g,vt),g),g+=vt;if(w){const M=y-vt;p(this.pattern.substr(M),M)}}else p(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i}=this.options;if(e=n?e:e.toLowerCase(),e=r?xe(e):e,this.pattern===e){let v={isMatch:!0,score:0};return i&&(v.indices=[[0,e.length-1]]),v}const{location:o,distance:a,threshold:c,findAllMatches:l,minMatchCharLength:f,ignoreLocation:h}=this.options;let p=[],y=0,g=!1;this.chunks.forEach(({pattern:v,alphabet:M,startIndex:A})=>{const{isMatch:S,score:C,indices:B}=js(e,v,M,{location:o+A,distance:a,threshold:c,findAllMatches:l,minMatchCharLength:f,includeMatches:i,ignoreLocation:h});S&&(g=!0),y+=C,S&&B&&(p=[...p,...B])});let w={isMatch:g,score:g?y/this.chunks.length:1};return g&&i&&(w.indices=p),w}}class gt{constructor(e){this.pattern=e}static isMultiMatch(e){return kn(e,this.multiRegex)}static isSingleMatch(e){return kn(e,this.singleRegex)}search(){}}function kn(t,e){const n=t.match(e);return n?n[1]:null}class eo extends gt{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class no extends gt{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class ro extends gt{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class io extends gt{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class so extends gt{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class oo extends gt{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class _r extends gt{constructor(e,{location:n=E.location,threshold:r=E.threshold,distance:i=E.distance,includeMatches:o=E.includeMatches,findAllMatches:a=E.findAllMatches,minMatchCharLength:c=E.minMatchCharLength,isCaseSensitive:l=E.isCaseSensitive,ignoreDiacritics:f=E.ignoreDiacritics,ignoreLocation:h=E.ignoreLocation}={}){super(e),this._bitapSearch=new wr(e,{location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:l,ignoreDiacritics:f,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class vr extends gt{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],o=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+o,i.push([r,n-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const sn=[eo,vr,ro,io,oo,so,no,_r],Vn=sn.length,ao=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,co="|";function uo(t,e={}){return t.split(co).map(n=>{let r=n.trim().split(ao).filter(o=>o&&!!o.trim()),i=[];for(let o=0,a=r.length;o<a;o+=1){const c=r[o];let l=!1,f=-1;for(;!l&&++f<Vn;){const h=sn[f];let p=h.isMultiMatch(c);p&&(i.push(new h(p,e)),l=!0)}if(!l)for(f=-1;++f<Vn;){const h=sn[f];let p=h.isSingleMatch(c);if(p){i.push(new h(p,e));break}}}return i})}const lo=new Set([_r.type,vr.type]);class fo{constructor(e,{isCaseSensitive:n=E.isCaseSensitive,ignoreDiacritics:r=E.ignoreDiacritics,includeMatches:i=E.includeMatches,minMatchCharLength:o=E.minMatchCharLength,ignoreLocation:a=E.ignoreLocation,findAllMatches:c=E.findAllMatches,location:l=E.location,threshold:f=E.threshold,distance:h=E.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:o,findAllMatches:c,ignoreLocation:a,location:l,threshold:f,distance:h},e=n?e:e.toLowerCase(),e=r?xe(e):e,this.pattern=e,this.query=uo(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:o}=this.options;e=i?e:e.toLowerCase(),e=o?xe(e):e;let a=0,c=[],l=0;for(let f=0,h=n.length;f<h;f+=1){const p=n[f];c.length=0,a=0;for(let y=0,g=p.length;y<g;y+=1){const w=p[y],{isMatch:v,indices:M,score:A}=w.search(e);if(v){if(a+=1,l+=A,r){const S=w.constructor.type;lo.has(S)?c=[...c,...M]:c.push(M)}}else{l=0,a=0,c.length=0;break}}if(a){let y={isMatch:!0,score:l/a};return r&&(y.indices=c),y}}return{isMatch:!1,score:1}}}const on=[];function ho(...t){on.push(...t)}function an(t,e){for(let n=0,r=on.length;n<r;n+=1){let i=on[n];if(i.condition(t,e))return new i(t,e)}return new wr(t,e)}const Ee={AND:"$and",OR:"$or"},cn={PATH:"$path",PATTERN:"$val"},un=t=>!!(t[Ee.AND]||t[Ee.OR]),po=t=>!!t[cn.PATH],go=t=>!ct(t)&&pr(t)&&!un(t),Jn=t=>({[Ee.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function xr(t,e,{auto:n=!0}={}){const r=i=>{let o=Object.keys(i);const a=po(i);if(!a&&o.length>1&&!un(i))return r(Jn(i));if(go(i)){const l=a?i[cn.PATH]:o[0],f=a?i[cn.PATTERN]:i[l];if(!q(f))throw new Error(Ys(l));const h={keyId:rn(l),pattern:f};return n&&(h.searcher=an(f,e)),h}let c={children:[],operator:o[0]};return o.forEach(l=>{const f=i[l];ct(f)&&f.forEach(h=>{c.children.push(r(h))})}),c};return un(t)||(t=Jn(t)),r(t)}function yo(t,{ignoreFieldNorm:e=E.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:o,score:a})=>{const c=i?i.weight:null;r*=Math.pow(a===0&&c?Number.EPSILON:a,(c||1)*(e?1:o))}),n.score=r})}function mo(t,e){const n=t.matches;e.matches=[],G(n)&&n.forEach(r=>{if(!G(r.indices)||!r.indices.length)return;const{indices:i,value:o}=r;let a={indices:i,value:o};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}function wo(t,e){e.score=t.score}function _o(t,e,{includeMatches:n=E.includeMatches,includeScore:r=E.includeScore}={}){const i=[];return n&&i.push(mo),r&&i.push(wo),t.map(o=>{const{idx:a}=o,c={item:e[a],refIndex:a};return i.length&&i.forEach(l=>{l(o,c)}),c})}class qt{constructor(e,n={},r){this.options={...E,...n},this.options.useExtendedSearch,this._keyStore=new Ws(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof pn))throw new Error($s);this._myIndex=n||mr(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){G(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const o=this._docs[r];e(o,r)&&(this.removeAt(r),r-=1,i-=1,n.push(o))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:o,sortFn:a,ignoreFieldNorm:c}=this.options;let l=q(e)?q(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return yo(l,{ignoreFieldNorm:c}),o&&l.sort(a),dr(n)&&n>-1&&(l=l.slice(0,n)),_o(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=an(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:o,i:a,n:c})=>{if(!G(o))return;const{isMatch:l,score:f,indices:h}=n.searchIn(o);l&&i.push({item:o,idx:a,matches:[{score:f,value:o,norm:c,indices:h}]})}),i}_searchLogical(e){const n=xr(e,this.options),r=(c,l,f)=>{if(!c.children){const{keyId:p,searcher:y}=c,g=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(l,p),searcher:y});return g&&g.length?[{idx:f,item:l,matches:g}]:[]}const h=[];for(let p=0,y=c.children.length;p<y;p+=1){const g=c.children[p],w=r(g,l,f);if(w.length)h.push(...w);else if(c.operator===Ee.AND)return[]}return h},i=this._myIndex.records,o={},a=[];return i.forEach(({$:c,i:l})=>{if(G(c)){let f=r(n,c,l);f.length&&(o[l]||(o[l]={idx:l,item:c,matches:[]},a.push(o[l])),f.forEach(({matches:h})=>{o[l].matches.push(...h)}))}}),a}_searchObjectList(e){const n=an(e,this.options),{keys:r,records:i}=this._myIndex,o=[];return i.forEach(({$:a,i:c})=>{if(!G(a))return;let l=[];r.forEach((f,h)=>{l.push(...this._findMatches({key:f,value:a[h],searcher:n}))}),l.length&&o.push({idx:c,item:a,matches:l})}),o}_findMatches({key:e,value:n,searcher:r}){if(!G(n))return[];let i=[];if(ct(n))n.forEach(({v:o,i:a,n:c})=>{if(!G(o))return;const{isMatch:l,score:f,indices:h}=r.searchIn(o);l&&i.push({score:f,key:e,value:o,idx:a,norm:c,indices:h})});else{const{v:o,n:a}=n,{isMatch:c,score:l,indices:f}=r.searchIn(o);c&&i.push({score:l,key:e,value:o,norm:a,indices:f})}return i}}qt.version="7.1.0";qt.createIndex=mr;qt.parseIndex=Qs;qt.config=E;qt.parseQuery=xr;ho(fo);const ln=Math.min,Pt=Math.max,Ae=Math.round,ge=Math.floor,Z=t=>({x:t,y:t});function Er(t){return t.split("-")[0]}function vo(t){return t.split("-")[1]}function xo(t){return t==="x"?"y":"x"}function Eo(t){return t==="y"?"height":"width"}const Ao=new Set(["top","bottom"]);function Ar(t){return Ao.has(Er(t))?"y":"x"}function bo(t){return xo(Ar(t))}function br(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function qn(t,e,n){let{reference:r,floating:i}=t;const o=Ar(e),a=bo(e),c=Eo(a),l=Er(e),f=o==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,y=r[c]/2-i[c]/2;let g;switch(l){case"top":g={x:h,y:r.y-i.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-i.width,y:p};break;default:g={x:r.x,y:r.y}}switch(vo(e)){case"start":g[a]-=y*(n&&f?-1:1);break;case"end":g[a]+=y*(n&&f?-1:1);break}return g}const Mo=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,c=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:p}=qn(f,r,l),y=r,g={},w=0;for(let v=0;v<c.length;v++){const{name:M,fn:A}=c[v],{x:S,y:C,data:B,reset:F}=await A({x:h,y:p,initialPlacement:r,placement:y,strategy:i,middlewareData:g,rects:f,platform:a,elements:{reference:t,floating:e}});h=S??h,p=C??p,g={...g,[M]:{...g[M],...B}},F&&w<=50&&(w++,typeof F=="object"&&(F.placement&&(y=F.placement),F.rects&&(f=F.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:h,y:p}=qn(f,y,l)),v=-1)}return{x:h,y:p,placement:y,strategy:i,middlewareData:g}};function Se(){return typeof window<"u"}function Rt(t){return Mr(t)?(t.nodeName||"").toLowerCase():"#document"}function H(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function et(t){var e;return(e=(Mr(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Mr(t){return Se()?t instanceof Node||t instanceof H(t).Node:!1}function V(t){return Se()?t instanceof Element||t instanceof H(t).Element:!1}function tt(t){return Se()?t instanceof HTMLElement||t instanceof H(t).HTMLElement:!1}function Qn(t){return!Se()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof H(t).ShadowRoot}const Co=new Set(["inline","contents"]);function Qt(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=J(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Co.has(i)}const So=new Set(["table","td","th"]);function Bo(t){return So.has(Rt(t))}const Fo=[":popover-open",":modal"];function Be(t){return Fo.some(e=>{try{return t.matches(e)}catch{return!1}})}const Lo=["transform","translate","scale","rotate","perspective"],Po=["transform","translate","scale","rotate","perspective","filter"],Io=["paint","layout","strict","content"];function gn(t){const e=yn(),n=V(t)?J(t):t;return Lo.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Po.some(r=>(n.willChange||"").includes(r))||Io.some(r=>(n.contain||"").includes(r))}function Oo(t){let e=pt(t);for(;tt(e)&&!Dt(e);){if(gn(e))return e;if(Be(e))return null;e=pt(e)}return null}function yn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Do=new Set(["html","body","#document"]);function Dt(t){return Do.has(Rt(t))}function J(t){return H(t).getComputedStyle(t)}function Fe(t){return V(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pt(t){if(Rt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Qn(t)&&t.host||et(t);return Qn(e)?e.host:e}function Cr(t){const e=pt(t);return Dt(e)?t.ownerDocument?t.ownerDocument.body:t.body:tt(e)&&Qt(e)?e:Cr(e)}function Vt(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Cr(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=H(i);if(o){const c=fn(a);return e.concat(a,a.visualViewport||[],Qt(i)?i:[],c&&n?Vt(c):[])}return e.concat(i,Vt(i,[],n))}function fn(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Sr(t){const e=J(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=tt(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,c=Ae(n)!==o||Ae(r)!==a;return c&&(n=o,r=a),{width:n,height:r,$:c}}function mn(t){return V(t)?t:t.contextElement}function It(t){const e=mn(t);if(!tt(e))return Z(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=Sr(e);let a=(o?Ae(n.width):n.width)/r,c=(o?Ae(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const To=Z(0);function Br(t){const e=H(t);return!yn()||!e.visualViewport?To:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ro(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==H(t)?!1:e}function Et(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=mn(t);let a=Z(1);e&&(r?V(r)&&(a=It(r)):a=It(t));const c=Ro(o,n,r)?Br(o):Z(0);let l=(i.left+c.x)/a.x,f=(i.top+c.y)/a.y,h=i.width/a.x,p=i.height/a.y;if(o){const y=H(o),g=r&&V(r)?H(r):r;let w=y,v=fn(w);for(;v&&r&&g!==w;){const M=It(v),A=v.getBoundingClientRect(),S=J(v),C=A.left+(v.clientLeft+parseFloat(S.paddingLeft))*M.x,B=A.top+(v.clientTop+parseFloat(S.paddingTop))*M.y;l*=M.x,f*=M.y,h*=M.x,p*=M.y,l+=C,f+=B,w=H(v),v=fn(w)}}return br({width:h,height:p,x:l,y:f})}function Le(t,e){const n=Fe(t).scrollLeft;return e?e.left+n:Et(et(t)).left+n}function Fr(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Le(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function No(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=et(r),c=e?Be(e.floating):!1;if(r===a||c&&o)return n;let l={scrollLeft:0,scrollTop:0},f=Z(1);const h=Z(0),p=tt(r);if((p||!p&&!o)&&((Rt(r)!=="body"||Qt(a))&&(l=Fe(r)),tt(r))){const g=Et(r);f=It(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const y=a&&!p&&!o?Fr(a,l):Z(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-l.scrollLeft*f.x+h.x+y.x,y:n.y*f.y-l.scrollTop*f.y+h.y+y.y}}function $o(t){return Array.from(t.getClientRects())}function Yo(t){const e=et(t),n=Fe(t),r=t.ownerDocument.body,i=Pt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Pt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Le(t);const c=-n.scrollTop;return J(r).direction==="rtl"&&(a+=Pt(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:c}}const Zn=25;function Xo(t,e){const n=H(t),r=et(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,c=0,l=0;if(i){o=i.width,a=i.height;const h=yn();(!h||h&&e==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}const f=Le(r);if(f<=0){const h=r.ownerDocument,p=h.body,y=getComputedStyle(p),g=h.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,w=Math.abs(r.clientWidth-p.clientWidth-g);w<=Zn&&(o-=w)}else f<=Zn&&(o+=f);return{width:o,height:a,x:c,y:l}}const Go=new Set(["absolute","fixed"]);function Ho(t,e){const n=Et(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=tt(t)?It(t):Z(1),a=t.clientWidth*o.x,c=t.clientHeight*o.y,l=i*o.x,f=r*o.y;return{width:a,height:c,x:l,y:f}}function jn(t,e,n){let r;if(e==="viewport")r=Xo(t,n);else if(e==="document")r=Yo(et(t));else if(V(e))r=Ho(e,n);else{const i=Br(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return br(r)}function Lr(t,e){const n=pt(t);return n===e||!V(n)||Dt(n)?!1:J(n).position==="fixed"||Lr(n,e)}function Wo(t,e){const n=e.get(t);if(n)return n;let r=Vt(t,[],!1).filter(c=>V(c)&&Rt(c)!=="body"),i=null;const o=J(t).position==="fixed";let a=o?pt(t):t;for(;V(a)&&!Dt(a);){const c=J(a),l=gn(a);!l&&c.position==="fixed"&&(i=null),(o?!l&&!i:!l&&c.position==="static"&&!!i&&Go.has(i.position)||Qt(a)&&!l&&Lr(t,a))?r=r.filter(h=>h!==a):i=c,a=pt(a)}return e.set(t,r),r}function Ko(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Be(e)?[]:Wo(e,this._c):[].concat(n),r],c=a[0],l=a.reduce((f,h)=>{const p=jn(e,h,i);return f.top=Pt(p.top,f.top),f.right=ln(p.right,f.right),f.bottom=ln(p.bottom,f.bottom),f.left=Pt(p.left,f.left),f},jn(e,c,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zo(t){const{width:e,height:n}=Sr(t);return{width:e,height:n}}function Uo(t,e,n){const r=tt(e),i=et(e),o=n==="fixed",a=Et(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const l=Z(0);function f(){l.x=Le(i)}if(r||!r&&!o)if((Rt(e)!=="body"||Qt(i))&&(c=Fe(e)),r){const g=Et(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&f();o&&!r&&i&&f();const h=i&&!r&&!o?Fr(i,c):Z(0),p=a.left+c.scrollLeft-l.x-h.x,y=a.top+c.scrollTop-l.y-h.y;return{x:p,y,width:a.width,height:a.height}}function Ve(t){return J(t).position==="static"}function tr(t,e){if(!tt(t)||J(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return et(t)===n&&(n=n.ownerDocument.body),n}function Pr(t,e){const n=H(t);if(Be(t))return n;if(!tt(t)){let i=pt(t);for(;i&&!Dt(i);){if(V(i)&&!Ve(i))return i;i=pt(i)}return n}let r=tr(t,e);for(;r&&Bo(r)&&Ve(r);)r=tr(r,e);return r&&Dt(r)&&Ve(r)&&!gn(r)?n:r||Oo(t)||n}const ko=async function(t){const e=this.getOffsetParent||Pr,n=this.getDimensions,r=await n(t.floating);return{reference:Uo(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Vo(t){return J(t).direction==="rtl"}const Jo={convertOffsetParentRelativeRectToViewportRelativeRect:No,getDocumentElement:et,getClippingRect:Ko,getOffsetParent:Pr,getElementRects:ko,getClientRects:$o,getDimensions:zo,getScale:It,isElement:V,isRTL:Vo};function Ir(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qo(t,e){let n=null,r;const i=et(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),o();const f=t.getBoundingClientRect(),{left:h,top:p,width:y,height:g}=f;if(c||e(),!y||!g)return;const w=ge(p),v=ge(i.clientWidth-(h+y)),M=ge(i.clientHeight-(p+g)),A=ge(h),C={rootMargin:-w+"px "+-v+"px "+-M+"px "+-A+"px",threshold:Pt(0,ln(1,l))||1};let B=!0;function F($){const O=$[0].intersectionRatio;if(O!==l){if(!B)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!Ir(f,t.getBoundingClientRect())&&a(),B=!1}try{n=new IntersectionObserver(F,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(F,C)}n.observe(t)}return a(!0),o}function eu(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,f=mn(t),h=i||o?[...f?Vt(f):[],...Vt(e)]:[];h.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),o&&A.addEventListener("resize",n)});const p=f&&c?qo(f,n):null;let y=-1,g=null;a&&(g=new ResizeObserver(A=>{let[S]=A;S&&S.target===f&&g&&(g.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(e)})),n()}),f&&!l&&g.observe(f),g.observe(e));let w,v=l?Et(t):null;l&&M();function M(){const A=Et(t);v&&!Ir(v,A)&&n(),v=A,w=requestAnimationFrame(M)}return n(),()=>{var A;h.forEach(S=>{i&&S.removeEventListener("scroll",n),o&&S.removeEventListener("resize",n)}),p==null||p(),(A=g)==null||A.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const nu=(t,e,n)=>{const r=new Map,i={platform:Jo,...n},o={...i.platform,_c:r};return Mo(t,e,{...i,platform:o})};function Qo(t,e){var n,r,i=0,o,a,c,l,f,h,p,y=t[0],g=t[1],w=e.length;for(n=0;n<w;n++){r=0;var v=e[n],M=v.length-1;if(h=v[0],h[0]!==v[M][0]&&h[1]!==v[M][1])throw new Error("First and last coordinates in a ring must be the same");for(a=h[0]-y,c=h[1]-g,r;r<M;r++){if(p=v[r+1],l=p[0]-y,f=p[1]-g,c===0&&f===0){if(l<=0&&a>=0||a<=0&&l>=0)return 0}else if(f>=0&&c<=0||f<=0&&c>=0){if(o=Os(a,l,c,f,0,0),o===0)return 0;(o>0&&f>0&&c<=0||o<0&&f<=0&&c>0)&&i++}h=p,c=f,a=l}}return i%2!==0}function j(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function xt(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Tt(t){return t.type==="Feature"?t.geometry:t}function er(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}function U(t,e,n={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const r=j(t),i=Tt(e),o=i.type,a=e.bbox;let c=i.coordinates;if(a&&Zo(r,a)===!1)return!1;o==="Polygon"&&(c=[c]);let l=!1;for(var f=0;f<c.length;++f){const h=Qo(r,c[f]);if(h===0)return!n.ignoreBoundary;h&&(l=!0)}return l}function Zo(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}class Or{constructor(e=[],n=jo){if(this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:n,compare:r}=this,i=n[e];for(;e>0;){const o=e-1>>1,a=n[o];if(r(i,a)>=0)break;n[e]=a,e=o}n[e]=i}_down(e){const{data:n,compare:r}=this,i=this.length>>1,o=n[e];for(;e<i;){let a=(e<<1)+1,c=n[a];const l=a+1;if(l<this.length&&r(n[l],c)<0&&(a=l,c=n[l]),r(c,o)>=0)break;n[e]=c,e=a}n[e]=o}}function jo(t,e){return t<e?-1:t>e?1:0}function Dr(t,e){return t.p.x>e.p.x?1:t.p.x<e.p.x?-1:t.p.y!==e.p.y?t.p.y>e.p.y?1:-1:1}function ta(t,e){return t.rightSweepEvent.p.x>e.rightSweepEvent.p.x?1:t.rightSweepEvent.p.x<e.rightSweepEvent.p.x?-1:t.rightSweepEvent.p.y!==e.rightSweepEvent.p.y?t.rightSweepEvent.p.y<e.rightSweepEvent.p.y?1:-1:1}class nr{constructor(e,n,r,i){this.p={x:e[0],y:e[1]},this.featureId=n,this.ringId=r,this.eventId=i,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}}function ea(t,e){if(t.type==="FeatureCollection"){const n=t.features;for(let r=0;r<n.length;r++)rr(n[r],e)}else rr(t,e)}let ye=0,me=0,we=0;function rr(t,e){const n=t.type==="Feature"?t.geometry:t;let r=n.coordinates;(n.type==="Polygon"||n.type==="MultiLineString")&&(r=[r]),n.type==="LineString"&&(r=[[r]]);for(let i=0;i<r.length;i++)for(let o=0;o<r[i].length;o++){let a=r[i][o][0],c=null;me=me+1;for(let l=0;l<r[i][o].length-1;l++){c=r[i][o][l+1];const f=new nr(a,ye,me,we),h=new nr(c,ye,me,we+1);f.otherEvent=h,h.otherEvent=f,Dr(f,h)>0?(h.isLeftEndpoint=!0,f.isLeftEndpoint=!1):(f.isLeftEndpoint=!0,h.isLeftEndpoint=!1),e.push(f),e.push(h),a=c,we=we+1}}ye=ye+1}class na{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}}function ra(t,e){if(t===null||e===null||t.leftSweepEvent.ringId===e.leftSweepEvent.ringId&&(t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.rightSweepEvent)||t.leftSweepEvent.isSamePoint(e.leftSweepEvent)||t.leftSweepEvent.isSamePoint(e.rightSweepEvent)))return!1;const n=t.leftSweepEvent.p.x,r=t.leftSweepEvent.p.y,i=t.rightSweepEvent.p.x,o=t.rightSweepEvent.p.y,a=e.leftSweepEvent.p.x,c=e.leftSweepEvent.p.y,l=e.rightSweepEvent.p.x,f=e.rightSweepEvent.p.y,h=(f-c)*(i-n)-(l-a)*(o-r),p=(l-a)*(r-c)-(f-c)*(n-a),y=(i-n)*(r-c)-(o-r)*(n-a);if(h===0)return!1;const g=p/h,w=y/h;if(g>=0&&g<=1&&w>=0&&w<=1){const v=n+g*(i-n),M=r+g*(o-r);return[v,M]}return!1}function ia(t,e){e=e||!1;const n=[],r=new Or([],ta);for(;t.length;){const i=t.pop();if(i.isLeftEndpoint){const o=new na(i);for(let a=0;a<r.data.length;a++){const c=r.data[a];if(e&&c.leftSweepEvent.featureId===i.featureId)continue;const l=ra(o,c);l!==!1&&n.push(l)}r.push(o)}else i.isLeftEndpoint===!1&&r.pop()}return n}function sa(t,e){const n=new Or([],Dr);return ea(t,n),ia(n,e)}var oa=sa;function Pe(t,e,n={}){const{removeDuplicates:r=!0,ignoreSelfIntersections:i=!0}=n;let o=[];t.type==="FeatureCollection"?o=o.concat(t.features):t.type==="Feature"?o.push(t):(t.type==="LineString"||t.type==="Polygon"||t.type==="MultiLineString"||t.type==="MultiPolygon")&&o.push(Ot(t)),e.type==="FeatureCollection"?o=o.concat(e.features):e.type==="Feature"?o.push(e):(e.type==="LineString"||e.type==="Polygon"||e.type==="MultiLineString"||e.type==="MultiPolygon")&&o.push(Ot(e));const a=oa(z(o),i);let c=[];if(r){const l={};a.forEach(f=>{const h=f.join(",");l[h]||(l[h]=!0,c.push(f))})}else c=a;return z(c.map(l=>Kt(l)))}function wn(t,e,n){if(t!==null)for(var r,i,o,a,c,l,f,h=0,p=0,y,g=t.type,w=g==="FeatureCollection",v=g==="Feature",M=w?t.features.length:1,A=0;A<M;A++){f=w?t.features[A].geometry:v?t.geometry:t,y=f?f.type==="GeometryCollection":!1,c=y?f.geometries.length:1;for(var S=0;S<c;S++){var C=0,B=0;if(a=y?f.geometries[S]:f,a!==null){l=a.coordinates;var F=a.type;switch(h=0,F){case null:break;case"Point":if(e(l,p,A,C,B)===!1)return!1;p++,C++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(e(l[r],p,A,C,B)===!1)return!1;p++,F==="MultiPoint"&&C++}F==="LineString"&&C++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-h;i++){if(e(l[r][i],p,A,C,B)===!1)return!1;p++}F==="MultiLineString"&&C++,F==="Polygon"&&B++}F==="Polygon"&&C++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(B=0,i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-h;o++){if(e(l[r][i][o],p,A,C,B)===!1)return!1;p++}B++}C++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(wn(a.geometries[r],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ie(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function aa(t,e,n){var r=n;return Ie(t,function(i,o){o===0&&n===void 0?r=i:r=e(r,i,o)}),r}function ca(t,e){var n,r,i,o,a,c,l,f,h,p,y=0,g=t.type==="FeatureCollection",w=t.type==="Feature",v=g?t.features.length:1;for(n=0;n<v;n++){for(c=g?t.features[n].geometry:w?t.geometry:t,f=g?t.features[n].properties:w?t.properties:{},h=g?t.features[n].bbox:w?t.bbox:void 0,p=g?t.features[n].id:w?t.id:void 0,l=c?c.type==="GeometryCollection":!1,a=l?c.geometries.length:1,i=0;i<a;i++){if(o=l?c.geometries[i]:c,o===null){if(e(null,y,f,h,p)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,y,f,h,p)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(e(o.geometries[r],y,f,h,p)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}y++}}function At(t,e){ca(t,function(n,r,i,o,a){var c=n===null?null:n.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return e(Ot(n,i,{bbox:o,id:a}),r,0)===!1?!1:void 0}var l;switch(c){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var f=0;f<n.coordinates.length;f++){var h=n.coordinates[f],p={type:l,coordinates:h};if(e(Ot(p,i),r,f)===!1)return!1}})}function hn(t,e={}){const n=Tt(t);switch(!e.properties&&t.type==="Feature"&&(e.properties=t.properties),n.type){case"Polygon":return ua(n,e);case"MultiPolygon":return la(n,e);default:throw new Error("invalid poly")}}function ua(t,e={}){const r=Tt(t).coordinates,i=e.properties?e.properties:t.type==="Feature"?t.properties:{};return Tr(r,i)}function la(t,e={}){const r=Tt(t).coordinates,i=e.properties?e.properties:t.type==="Feature"?t.properties:{},o=[];return r.forEach(a=>{o.push(Tr(a,i))}),z(o)}function Tr(t,e){return t.length>1?Ls(t,e):kt(t[0],e)}function fa(t,e,{ignoreSelfIntersections:n=!0}={ignoreSelfIntersections:!0}){let r=!0;return At(t,i=>{At(e,o=>{if(r===!1)return!1;r=ha(i.geometry,o.geometry,n)})}),r}function ha(t,e,n){switch(t.type){case"Point":switch(e.type){case"Point":return!ya(t.coordinates,e.coordinates);case"LineString":return!ir(e,t);case"Polygon":return!U(t,e)}break;case"LineString":switch(e.type){case"Point":return!ir(t,e);case"LineString":return!da(t,e,n);case"Polygon":return!sr(e,t,n)}break;case"Polygon":switch(e.type){case"Point":return!U(e,t);case"LineString":return!sr(t,e,n);case"Polygon":return!pa(e,t,n)}}return!1}function ir(t,e){for(let n=0;n<t.coordinates.length-1;n++)if(ga(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function da(t,e,n){return Pe(t,e,{ignoreSelfIntersections:n}).features.length>0}function sr(t,e,n){for(const i of e.coordinates)if(U(i,t))return!0;return Pe(e,hn(t),{ignoreSelfIntersections:n}).features.length>0}function pa(t,e,n){for(const i of t.coordinates[0])if(U(i,e))return!0;for(const i of e.coordinates[0])if(U(i,t))return!0;return Pe(hn(t),hn(e),{ignoreSelfIntersections:n}).features.length>0}function ga(t,e,n){const r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],a=e[1]-t[1];return r*a-i*o!==0?!1:Math.abs(o)>=Math.abs(a)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]}function ya(t,e){return t[0]===e[0]&&t[1]===e[1]}function ma(t,e,{ignoreSelfIntersections:n=!0}={}){let r=!1;return At(t,i=>{At(e,o=>{if(r===!0)return!0;r=!fa(i.geometry,o.geometry,{ignoreSelfIntersections:n})})}),r}var ru=ma;function Q(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const n=[1/0,1/0,-1/0,-1/0];return wn(t,r=>{n[0]>r[0]&&(n[0]=r[0]),n[1]>r[1]&&(n[1]=r[1]),n[2]<r[0]&&(n[2]=r[0]),n[3]<r[1]&&(n[3]=r[1])}),n}function be(t,e,n={}){const r=j(t),i=xt(e);for(let o=0;o<i.length-1;o++){let a=!1;if(n.ignoreEndVertices&&(o===0&&(a="start"),o===i.length-2&&(a="end"),o===0&&o+1===i.length-1&&(a="both")),wa(i[o],i[o+1],r,a,typeof n.epsilon>"u"?null:n.epsilon))return!0}return!1}function wa(t,e,n,r,i){const o=n[0],a=n[1],c=t[0],l=t[1],f=e[0],h=e[1],p=n[0]-c,y=n[1]-l,g=f-c,w=h-l,v=p*w-y*g;if(i!==null){if(Math.abs(v)>i)return!1}else if(v!==0)return!1;if(Math.abs(g)===Math.abs(w)&&Math.abs(g)===0)return r?!1:n[0]===t[0]&&n[1]===t[1];if(r){if(r==="start")return Math.abs(g)>=Math.abs(w)?g>0?c<o&&o<=f:f<=o&&o<c:w>0?l<a&&a<=h:h<=a&&a<l;if(r==="end")return Math.abs(g)>=Math.abs(w)?g>0?c<=o&&o<f:f<o&&o<=c:w>0?l<=a&&a<h:h<a&&a<=l;if(r==="both")return Math.abs(g)>=Math.abs(w)?g>0?c<o&&o<f:f<o&&o<c:w>0?l<a&&a<h:h<a&&a<l}else return Math.abs(g)>=Math.abs(w)?g>0?c<=o&&o<=f:f<=o&&o<=c:w>0?l<=a&&a<=h:h<=a&&a<=l;return!1}function _a(t,e,n,r,i){Rr(t,e,n||0,r||t.length-1,i||va)}function Rr(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=e-n+1,c=Math.log(o),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(o-l)/o)*(a-o/2<0?-1:1),h=Math.max(n,Math.floor(e-a*l/o+f)),p=Math.min(r,Math.floor(e+(o-a)*l/o+f));Rr(t,e,h,p,i)}var y=t[e],g=n,w=r;for(Ht(t,n,e),i(t[r],y)>0&&Ht(t,n,r);g<w;){for(Ht(t,g,w),g++,w--;i(t[g],y)<0;)g++;for(;i(t[w],y)>0;)w--}i(t[n],y)===0?Ht(t,n,w):(w++,Ht(t,w,r)),w<=e&&(n=w+1),e<=w&&(r=w-1)}}function Ht(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function va(t,e){return t<e?-1:t>e?1:0}let xa=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!ve(e,n))return r;const i=this.toBBox,o=[];for(;n;){for(let a=0;a<n.children.length;a++){const c=n.children[a],l=n.leaf?i(c):c;ve(e,l)&&(n.leaf?r.push(c):qe(e,l)?this._all(c,r):o.push(c))}n=o.pop()}return r}collides(e){let n=this.data;if(!ve(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const o=n.children[i],a=n.leaf?this.toBBox(o):o;if(ve(e,a)){if(n.leaf||qe(e,a))return!0;r.push(o)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Ft([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),o=[],a=[];let c,l,f;for(;r||o.length;){if(r||(r=o.pop(),l=o[o.length-1],c=a.pop(),f=!0),r.leaf){const h=Ea(e,r.children,n);if(h!==-1)return r.children.splice(h,1),o.push(r),this._condense(o),this}!f&&!r.leaf&&qe(r,i)?(o.push(r),a.push(c),c=0,l=r,r=r.children[0]):l?(c++,r=l.children[c],f=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const o=r-n+1;let a=this._maxEntries,c;if(o<=a)return c=Ft(e.slice(n,r+1)),Bt(c,this.toBBox),c;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),c=Ft([]),c.leaf=!1,c.height=i;const l=Math.ceil(o/a),f=l*Math.ceil(Math.sqrt(a));or(e,n,r,f,this.compareMinX);for(let h=n;h<=r;h+=f){const p=Math.min(h+f-1,r);or(e,h,p,l,this.compareMinY);for(let y=h;y<=p;y+=l){const g=Math.min(y+l-1,p);c.children.push(this._build(e,y,g,i-1))}}return Bt(c,this.toBBox),c}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let o=1/0,a=1/0,c;for(let l=0;l<n.children.length;l++){const f=n.children[l],h=Je(f),p=Ma(e,f)-h;p<a?(a=p,o=h<o?h:o,c=f):p===a&&h<o&&(o=h,c=f)}n=c||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),o=[],a=this._chooseSubtree(i,this.data,n,o);for(a.children.push(e),Ut(a,i);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(i,o,n)}_split(e,n){const r=e[n],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const a=this._chooseSplitIndex(r,o,i),c=Ft(r.children.splice(a,r.children.length-a));c.height=r.height,c.leaf=r.leaf,Bt(r,this.toBBox),Bt(c,this.toBBox),n?e[n-1].children.push(c):this._splitRoot(r,c)}_splitRoot(e,n){this.data=Ft([e,n]),this.data.height=e.height+1,this.data.leaf=!1,Bt(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,o=1/0,a=1/0;for(let c=n;c<=r-n;c++){const l=zt(e,0,c,this.toBBox),f=zt(e,c,r,this.toBBox),h=Ca(l,f),p=Je(l)+Je(f);h<o?(o=h,i=c,a=p<a?p:a):h===o&&p<a&&(a=p,i=c)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:Aa,o=e.leaf?this.compareMinY:ba,a=this._allDistMargin(e,n,r,i),c=this._allDistMargin(e,n,r,o);a<c&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const o=this.toBBox,a=zt(e,0,n,o),c=zt(e,r-n,r,o);let l=_e(a)+_e(c);for(let f=n;f<r-n;f++){const h=e.children[f];Ut(a,e.leaf?o(h):h),l+=_e(a)}for(let f=r-n-1;f>=n;f--){const h=e.children[f];Ut(c,e.leaf?o(h):h),l+=_e(c)}return l}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)Ut(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():Bt(e[n],this.toBBox)}};function Ea(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function Bt(t,e){zt(t,0,t.children.length,e,t)}function zt(t,e,n,r,i){i||(i=Ft(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=e;o<n;o++){const a=t.children[o];Ut(i,t.leaf?r(a):a)}return i}function Ut(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Aa(t,e){return t.minX-e.minX}function ba(t,e){return t.minY-e.minY}function Je(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function _e(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Ma(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Ca(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function qe(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function ve(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Ft(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function or(t,e,n,r,i){const o=[e,n];for(;o.length;){if(n=o.pop(),e=o.pop(),n-e<=r)continue;const a=e+Math.ceil((n-e)/r/2)*r;_a(t,a,e,n,i),o.push(e,a,a,n)}}function Qe(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&t.length===4)e=t;else if(Array.isArray(t)&&t.length===6)e=[t[0],t[1],t[3],t[4]];else if(t.type==="Feature")e=Q(t);else if(t.type==="FeatureCollection")e=Q(t);else throw new Error("invalid geojson");return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}var Sa=class{constructor(t=9){this.tree=new xa(t),this.tree.toBBox=Qe}insert(t){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Q(t),this.tree.insert(t),this}load(t){var e=[];return Array.isArray(t)?t.forEach(function(n){if(n.type!=="Feature")throw new Error("invalid features");n.bbox=n.bbox?n.bbox:Q(n),e.push(n)}):Ie(t,function(n){if(n.type!=="Feature")throw new Error("invalid features");n.bbox=n.bbox?n.bbox:Q(n),e.push(n)}),this.tree.load(e),this}remove(t,e){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Q(t),this.tree.remove(t,e),this}clear(){return this.tree.clear(),this}search(t){var e=this.tree.search(Qe(t));return z(e)}collides(t){return this.tree.collides(Qe(t))}all(){const t=this.tree.all();return z(t)}toJSON(){return this.tree.toJSON()}fromJSON(t){return this.tree.fromJSON(t),this}};function Nr(t){return new Sa(t)}function Ba(t,e){if(e=e??{},!Ps(e))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=n==null||isNaN(n)?6:n,r=r==null||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if(typeof n!="number")throw new Error("<precision> must be a number");if(typeof r!="number")throw new Error("<coordinates> must be a number");(i===!1||i===void 0)&&(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return wn(t,function(a){Fa(a,o,r)}),t}function Fa(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e;return t}function La(t){if(!t)throw new Error("geojson is required");const e=[];return At(t,n=>{Pa(n,e)}),z(e)}function Pa(t,e){let n=[];const r=t.geometry;if(r!==null){switch(r.type){case"Polygon":n=xt(r);break;case"LineString":n=[xt(r)]}n.forEach(i=>{Ia(i,t.properties).forEach(a=>{a.id=e.length,e.push(a)})})}}function Ia(t,e){const n=[];return t.reduce((r,i)=>{const o=kt([r,i],e);return o.bbox=Oa(r,i),n.push(o),i}),n}function Oa(t,e){const n=t[0],r=t[1],i=e[0],o=e[1],a=n<i?n:i,c=r<o?r:o,l=n>i?n:i,f=r>o?r:o;return[a,c,l,f]}function Ze(t,e,n={}){var r=j(t),i=j(e),o=Lt(i[1]-r[1]),a=Lt(i[0]-r[0]),c=Lt(r[1]),l=Lt(i[1]),f=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(c)*Math.cos(l);return Is(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n.units)}var Da=Object.defineProperty,Ta=Object.defineProperties,Ra=Object.getOwnPropertyDescriptors,ar=Object.getOwnPropertySymbols,Na=Object.prototype.hasOwnProperty,$a=Object.prototype.propertyIsEnumerable,cr=(t,e,n)=>e in t?Da(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ya=(t,e)=>{for(var n in e||(e={}))Na.call(e,n)&&cr(t,n,e[n]);if(ar)for(var n of ar(e))$a.call(e,n)&&cr(t,n,e[n]);return t},Xa=(t,e)=>Ta(t,Ra(e));function Ga(t,e,n={}){if(!t||!e)throw new Error("lines and inputPoint are required arguments");const r=j(e);let i=Kt([1/0,1/0],{lineStringIndex:-1,segmentIndex:-1,totalDistance:-1,lineDistance:-1,segmentDistance:-1,pointDistance:1/0,multiFeatureIndex:-1,index:-1,location:-1,dist:1/0}),o=0,a=0,c=-1;return At(t,function(l,f,h){c!==h&&(c=h,a=0);const p=xt(l),y=p.length-2;for(let g=0;g<p.length-1;g++){const w=Kt(p[g]),v=j(w),M=Kt(p[g+1]),A=j(M),S=Ze(w,M,n);let C,B;A[0]===r[0]&&A[1]===r[1]?[C,B]=[A,!0]:v[0]===r[0]&&v[1]===r[1]?[C,B]=[v,!1]:[C,B]=Ka(v,A,r);const F=Ze(e,C,n);if(F<i.properties.pointDistance){const $=Ze(w,C,n);i=Kt(C,{lineStringIndex:h,segmentIndex:B&&g+1<=y?g+1:g,totalDistance:o+$,lineDistance:a+$,segmentDistance:$,pointDistance:F,multiFeatureIndex:-1,index:-1,location:-1,dist:1/0}),i.properties=Xa(Ya({},i.properties),{multiFeatureIndex:i.properties.lineStringIndex,index:i.properties.segmentIndex,location:i.properties.totalDistance,dist:i.properties.pointDistance})}o+=S,a+=S}}),i}function _t(t,e){const[n,r,i]=t,[o,a,c]=e;return n*o+r*a+i*c}function Wt(t,e){const[n,r,i]=t,[o,a,c]=e;return[r*c-i*a,i*o-n*c,n*a-r*o]}function Ha(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))}function ur(t){const e=Ha(t);return[t[0]/e,t[1]/e,t[2]/e]}function je(t){const e=Lt(t[1]),n=Lt(t[0]);return[Math.cos(e)*Math.cos(n),Math.cos(e)*Math.sin(n),Math.sin(e)]}function Wa(t){const[e,n,r]=t,i=Math.min(Math.max(r,-1),1),o=Kn(Math.asin(i));return[Kn(Math.atan2(n,e)),o]}function Ka(t,e,n){const r=je(t),i=je(e),o=je(n),a=Wt(r,i);if(a[0]===0&&a[1]===0&&a[2]===0)return _t(r,i)>0?[[...e],!0]:[[...n],!1];const c=Wt(a,o);if(c[0]===0&&c[1]===0&&c[2]===0)return[[...e],!0];const l=Wt(c,a),f=ur(l),h=[-f[0],-f[1],-f[2]],p=_t(o,f)>_t(o,h)?f:h,y=ur(a),g=_t(Wt(r,p),y),w=_t(Wt(p,i),y);return g>=0&&w>=0?[Wa(p),!1]:_t(r,o)>_t(i,o)?[[...t],!1]:[[...e],!0]}function za(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");const n=er(t),r=er(e);if(n!=="LineString")throw new Error("line must be LineString");if(r==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(r==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var i=Ba(e,{precision:7});switch(t.type!=="Feature"&&(t=Ot(t)),r){case"Point":return dn(t,i);case"MultiPoint":return lr(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return lr(t,Pe(t,i,{ignoreSelfIntersections:!0}))}}function lr(t,e){var n=[],r=Nr();return At(e,function(i){if(n.forEach(function(c,l){c.id=l}),!n.length)n=dn(t,i).features,r.load(z(n));else{var o=r.search(i);if(o.features.length){var a=$r(i,o);n=n.filter(function(c){return c.id!==a.id}),r.remove(a),Ie(dn(a,i),function(c){n.push(c),r.insert(c)})}}}),z(n)}function dn(t,e){var n=[],r=xt(t)[0],i=xt(t)[t.geometry.coordinates.length-1];if(tn(r,j(e))||tn(i,j(e)))return z([t]);var o=Nr(),a=La(t);o.load(a);var c=o.search(e);if(!c.features.length)return z([t]);var l=$r(e,c),f=[r],h=aa(a,function(p,y,g){var w=xt(y)[1],v=j(e);return g===l.id?(p.push(v),n.push(kt(p)),tn(v,w)?[v]:[v,w]):(p.push(w),p)},f);return h.length>1&&n.push(kt(h)),z(n)}function $r(t,e){if(!e.features.length)throw new Error("lines must contain features");if(e.features.length===1)return e.features[0];var n,r=1/0;return Ie(e,function(i){var o=Ga(i,t),a=o.properties.dist;a<r&&(n=i,r=a)}),n}function tn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ua(t,e){var n=Tt(t),r=Tt(e),i=n.type,o=r.type;switch(i){case"Point":switch(o){case"MultiPoint":return ka(n,r);case"LineString":return be(n,r,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return U(n,r,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return Va(n,r);case"LineString":return Ja(n,r);case"Polygon":case"MultiPolygon":return qa(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return Qa(n,r);case"Polygon":case"MultiPolygon":return ja(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return tc(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function ka(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Xr(e.coordinates[n],t.coordinates)){r=!0;break}return r}function Va(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)Xr(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}function Ja(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!be(t.coordinates[r],e))return!1;n||(n=be(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}function qa(t,e){for(var n=!0,r=!1,i=0;i<t.coordinates.length;i++){if(r=U(t.coordinates[i],e),!r){n=!1;break}r=U(t.coordinates[i],e,{ignoreBoundary:!0})}return n&&r}function Qa(t,e){for(var n=0;n<t.coordinates.length;n++)if(!be(t.coordinates[n],e))return!1;return!0}function Za(t,e){const n=t.coordinates,r=[];for(let i=0;i<n.length-1;i++){const o=kt([n[i],n[i+1]]),a=za(o,Ot(e));a.features.length===0?r.push(o):r.push(...a.features)}return z(r)}function ja(t,e){const n=Q(e),r=Q(t);if(!Yr(n,r))return!1;for(const a of t.coordinates)if(!U(a,e))return!1;let i=!1;const o=Za(t,e);for(const a of o.features){const c=ec(a.geometry.coordinates[0],a.geometry.coordinates[1]);if(!U(c,e))return!1;!i&&U(c,e,{ignoreBoundary:!0})&&(i=!0)}return i}function tc(t,e){var n=Q(t),r=Q(e);if(!Yr(r,n))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!U(t.coordinates[0][i],e))return!1;return!0}function Yr(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function Xr(t,e){return t[0]===e[0]&&t[1]===e[1]}function ec(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}var su=Ua,nc=200,_n="__lodash_hash_undefined__",rc=1/0,ic="[object Function]",sc="[object GeneratorFunction]",oc=/[\\^$.*+?()[\]{}|]/g,ac=/^\[object .+?Constructor\]$/,cc=typeof dt=="object"&&dt&&dt.Object===Object&&dt,uc=typeof self=="object"&&self&&self.Object===Object&&self,vn=cc||uc||Function("return this")();function lc(t,e){var n=t?t.length:0;return!!n&&hc(t,e,0)>-1}function fc(t,e,n,r){for(var i=t.length,o=n+-1;++o<i;)if(e(t[o],o,t))return o;return-1}function hc(t,e,n){if(e!==e)return fc(t,dc,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function dc(t){return t!==t}function pc(t,e){return t.has(e)}function gc(t,e){return t==null?void 0:t[e]}function yc(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function Gr(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var mc=Array.prototype,wc=Function.prototype,Hr=Object.prototype,en=vn["__core-js_shared__"],fr=function(){var t=/[^.]+$/.exec(en&&en.keys&&en.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Wr=wc.toString,xn=Hr.hasOwnProperty,_c=Hr.toString,vc=RegExp("^"+Wr.call(xn).replace(oc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xc=mc.splice,Ec=En(vn,"Map"),nn=En(vn,"Set"),Jt=En(Object,"create");function bt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ac(){this.__data__=Jt?Jt(null):{}}function bc(t){return this.has(t)&&delete this.__data__[t]}function Mc(t){var e=this.__data__;if(Jt){var n=e[t];return n===_n?void 0:n}return xn.call(e,t)?e[t]:void 0}function Cc(t){var e=this.__data__;return Jt?e[t]!==void 0:xn.call(e,t)}function Sc(t,e){var n=this.__data__;return n[t]=Jt&&e===void 0?_n:e,this}bt.prototype.clear=Ac;bt.prototype.delete=bc;bt.prototype.get=Mc;bt.prototype.has=Cc;bt.prototype.set=Sc;function Nt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Bc(){this.__data__=[]}function Fc(t){var e=this.__data__,n=Oe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():xc.call(e,n,1),!0}function Lc(t){var e=this.__data__,n=Oe(e,t);return n<0?void 0:e[n][1]}function Pc(t){return Oe(this.__data__,t)>-1}function Ic(t,e){var n=this.__data__,r=Oe(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}Nt.prototype.clear=Bc;Nt.prototype.delete=Fc;Nt.prototype.get=Lc;Nt.prototype.has=Pc;Nt.prototype.set=Ic;function $t(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Oc(){this.__data__={hash:new bt,map:new(Ec||Nt),string:new bt}}function Dc(t){return De(this,t).delete(t)}function Tc(t){return De(this,t).get(t)}function Rc(t){return De(this,t).has(t)}function Nc(t,e){return De(this,t).set(t,e),this}$t.prototype.clear=Oc;$t.prototype.delete=Dc;$t.prototype.get=Tc;$t.prototype.has=Rc;$t.prototype.set=Nc;function Me(t){var e=-1,n=t?t.length:0;for(this.__data__=new $t;++e<n;)this.add(t[e])}function $c(t){return this.__data__.set(t,_n),this}function Yc(t){return this.__data__.has(t)}Me.prototype.add=Me.prototype.push=$c;Me.prototype.has=Yc;function Oe(t,e){for(var n=t.length;n--;)if(kc(t[n][0],e))return n;return-1}function Xc(t){if(!Kr(t)||Kc(t))return!1;var e=Vc(t)||yc(t)?vc:ac;return e.test(zc(t))}function Gc(t,e,n){var r=-1,i=lc,o=t.length,a=!0,c=[],l=c;if(o>=nc){var f=Hc(t);if(f)return Gr(f);a=!1,i=pc,l=new Me}else l=c;t:for(;++r<o;){var h=t[r],p=h;if(h=h!==0?h:0,a&&p===p){for(var y=l.length;y--;)if(l[y]===p)continue t;c.push(h)}else i(l,p,n)||(l!==c&&l.push(p),c.push(h))}return c}var Hc=nn&&1/Gr(new nn([,-0]))[1]==rc?function(t){return new nn(t)}:Jc;function De(t,e){var n=t.__data__;return Wc(e)?n[typeof e=="string"?"string":"hash"]:n.map}function En(t,e){var n=gc(t,e);return Xc(n)?n:void 0}function Wc(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Kc(t){return!!fr&&fr in t}function zc(t){if(t!=null){try{return Wr.call(t)}catch{}try{return t+""}catch{}}return""}function Uc(t){return t&&t.length?Gc(t):[]}function kc(t,e){return t===e||t!==t&&e!==e}function Vc(t){var e=Kr(t)?_c.call(t):"";return e==ic||e==sc}function Kr(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Jc(){}var qc=Uc;const ou=hr(qc);var Ce={exports:{}};Ce.exports;(function(t,e){var n=200,r="Expected a function",i="__lodash_hash_undefined__",o=1,a=2,c=9007199254740991,l="[object Arguments]",f="[object Array]",h="[object Boolean]",p="[object Date]",y="[object Error]",g="[object Function]",w="[object GeneratorFunction]",v="[object Map]",M="[object Number]",A="[object Object]",S="[object Promise]",C="[object RegExp]",B="[object Set]",F="[object String]",$="[object Symbol]",O="[object WeakMap]",k="[object ArrayBuffer]",Y="[object DataView]",Zt="[object Float32Array]",Yt="[object Float64Array]",ut="[object Int8Array]",An="[object Int16Array]",X="[object Int32Array]",Mt="[object Uint8Array]",jt="[object Uint8ClampedArray]",zr="[object Uint16Array]",Ur="[object Uint32Array]",kr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vr=/^\w*$/,Jr=/^\./,qr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qr=/[\\^$.*+?()[\]{}|]/g,Zr=/\\(\\)?/g,jr=/^\[object .+?Constructor\]$/,ti=/^(?:0|[1-9]\d*)$/,L={};L[Zt]=L[Yt]=L[ut]=L[An]=L[X]=L[Mt]=L[jt]=L[zr]=L[Ur]=!0,L[l]=L[f]=L[k]=L[h]=L[Y]=L[p]=L[y]=L[g]=L[v]=L[M]=L[A]=L[C]=L[B]=L[F]=L[O]=!1;var bn=typeof dt=="object"&&dt&&dt.Object===Object&&dt,ei=typeof self=="object"&&self&&self.Object===Object&&self,lt=bn||ei||Function("return this")(),Mn=e&&!e.nodeType&&e,Cn=Mn&&!0&&t&&!t.nodeType&&t,ni=Cn&&Cn.exports===Mn,Sn=ni&&bn.process,Bn=function(){try{return Sn&&Sn.binding("util")}catch{}}(),Fn=Bn&&Bn.isTypedArray;function ri(s,u){for(var d=-1,m=s?s.length:0,x=Array(m);++d<m;)x[d]=u(s[d],d,s);return x}function ii(s,u){for(var d=-1,m=u.length,x=s.length;++d<m;)s[x+d]=u[d];return s}function si(s,u){for(var d=-1,m=s?s.length:0;++d<m;)if(u(s[d],d,s))return!0;return!1}function oi(s){return function(u){return u==null?void 0:u[s]}}function ai(s,u){for(var d=-1,m=Array(s);++d<s;)m[d]=u(d);return m}function ci(s){return function(u){return s(u)}}function ui(s,u){return s==null?void 0:s[u]}function Te(s){var u=!1;if(s!=null&&typeof s.toString!="function")try{u=!!(s+"")}catch{}return u}function li(s){var u=-1,d=Array(s.size);return s.forEach(function(m,x){d[++u]=[x,m]}),d}function fi(s,u){return function(d){return s(u(d))}}function hi(s){var u=-1,d=Array(s.size);return s.forEach(function(m){d[++u]=m}),d}var di=Array.prototype,pi=Function.prototype,te=Object.prototype,Re=lt["__core-js_shared__"],Ln=function(){var s=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Pn=pi.toString,nt=te.hasOwnProperty,Ct=te.toString,gi=RegExp("^"+Pn.call(nt).replace(Qr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=lt.Symbol,In=lt.Uint8Array,yi=te.propertyIsEnumerable,mi=di.splice,On=ee?ee.isConcatSpreadable:void 0,wi=fi(Object.keys,Object),Ne=St(lt,"DataView"),Xt=St(lt,"Map"),$e=St(lt,"Promise"),Ye=St(lt,"Set"),Xe=St(lt,"WeakMap"),Gt=St(Object,"create"),_i=mt(Ne),vi=mt(Xt),xi=mt($e),Ei=mt(Ye),Ai=mt(Xe),ne=ee?ee.prototype:void 0,Ge=ne?ne.valueOf:void 0,Dn=ne?ne.toString:void 0;function yt(s){var u=-1,d=s?s.length:0;for(this.clear();++u<d;){var m=s[u];this.set(m[0],m[1])}}function bi(){this.__data__=Gt?Gt(null):{}}function Mi(s){return this.has(s)&&delete this.__data__[s]}function Ci(s){var u=this.__data__;if(Gt){var d=u[s];return d===i?void 0:d}return nt.call(u,s)?u[s]:void 0}function Si(s){var u=this.__data__;return Gt?u[s]!==void 0:nt.call(u,s)}function Bi(s,u){var d=this.__data__;return d[s]=Gt&&u===void 0?i:u,this}yt.prototype.clear=bi,yt.prototype.delete=Mi,yt.prototype.get=Ci,yt.prototype.has=Si,yt.prototype.set=Bi;function rt(s){var u=-1,d=s?s.length:0;for(this.clear();++u<d;){var m=s[u];this.set(m[0],m[1])}}function Fi(){this.__data__=[]}function Li(s){var u=this.__data__,d=ie(u,s);if(d<0)return!1;var m=u.length-1;return d==m?u.pop():mi.call(u,d,1),!0}function Pi(s){var u=this.__data__,d=ie(u,s);return d<0?void 0:u[d][1]}function Ii(s){return ie(this.__data__,s)>-1}function Oi(s,u){var d=this.__data__,m=ie(d,s);return m<0?d.push([s,u]):d[m][1]=u,this}rt.prototype.clear=Fi,rt.prototype.delete=Li,rt.prototype.get=Pi,rt.prototype.has=Ii,rt.prototype.set=Oi;function it(s){var u=-1,d=s?s.length:0;for(this.clear();++u<d;){var m=s[u];this.set(m[0],m[1])}}function Di(){this.__data__={hash:new yt,map:new(Xt||rt),string:new yt}}function Ti(s){return se(this,s).delete(s)}function Ri(s){return se(this,s).get(s)}function Ni(s){return se(this,s).has(s)}function $i(s,u){return se(this,s).set(s,u),this}it.prototype.clear=Di,it.prototype.delete=Ti,it.prototype.get=Ri,it.prototype.has=Ni,it.prototype.set=$i;function re(s){var u=-1,d=s?s.length:0;for(this.__data__=new it;++u<d;)this.add(s[u])}function Yi(s){return this.__data__.set(s,i),this}function Xi(s){return this.__data__.has(s)}re.prototype.add=re.prototype.push=Yi,re.prototype.has=Xi;function st(s){this.__data__=new rt(s)}function Gi(){this.__data__=new rt}function Hi(s){return this.__data__.delete(s)}function Wi(s){return this.__data__.get(s)}function Ki(s){return this.__data__.has(s)}function zi(s,u){var d=this.__data__;if(d instanceof rt){var m=d.__data__;if(!Xt||m.length<n-1)return m.push([s,u]),this;d=this.__data__=new it(m)}return d.set(s,u),this}st.prototype.clear=Gi,st.prototype.delete=Hi,st.prototype.get=Wi,st.prototype.has=Ki,st.prototype.set=zi;function Ui(s,u){var d=ot(s)||Ke(s)?ai(s.length,String):[],m=d.length,x=!!m;for(var _ in s)nt.call(s,_)&&!(x&&(_=="length"||$n(_,m)))&&d.push(_);return d}function ie(s,u){for(var d=s.length;d--;)if(Gn(s[d][0],u))return d;return-1}var ki=ls(qi);function Vi(s,u,d,m,x){var _=-1,b=s.length;for(d||(d=ys),x||(x=[]);++_<b;){var P=s[_];d(P)?ii(x,P):x[x.length]=P}return x}var Ji=fs();function qi(s,u){return s&&Ji(s,u,fe)}function Tn(s,u){u=oe(u,s)?[u]:Rn(u);for(var d=0,m=u.length;s!=null&&d<m;)s=s[ae(u[d++])];return d&&d==m?s:void 0}function Qi(s){return Ct.call(s)}function Zi(s,u){return s!=null&&u in Object(s)}function He(s,u,d,m,x){return s===u?!0:s==null||u==null||!ue(s)&&!le(u)?s!==s&&u!==u:ji(s,u,He,d,m,x)}function ji(s,u,d,m,x,_){var b=ot(s),P=ot(u),I=f,D=f;b||(I=ft(s),I=I==l?A:I),P||(D=ft(u),D=D==l?A:D);var R=I==A&&!Te(s),N=D==A&&!Te(u),T=I==D;if(T&&!R)return _||(_=new st),b||bs(s)?Nn(s,u,d,m,x,_):hs(s,u,I,d,m,x,_);if(!(x&a)){var W=R&&nt.call(s,"__wrapped__"),K=N&&nt.call(u,"__wrapped__");if(W||K){var ht=W?s.value():s,at=K?u.value():u;return _||(_=new st),d(ht,at,m,x,_)}}return T?(_||(_=new st),ds(s,u,d,m,x,_)):!1}function ts(s,u,d,m){var x=d.length,_=x;if(s==null)return!_;for(s=Object(s);x--;){var b=d[x];if(b[2]?b[1]!==s[b[0]]:!(b[0]in s))return!1}for(;++x<_;){b=d[x];var P=b[0],I=s[P],D=b[1];if(b[2]){if(I===void 0&&!(P in s))return!1}else{var R=new st,N;if(!(N===void 0?He(D,I,m,o|a,R):N))return!1}}return!0}function es(s){if(!ue(s)||ws(s))return!1;var u=Hn(s)||Te(s)?gi:jr;return u.test(mt(s))}function ns(s){return le(s)&&ze(s.length)&&!!L[Ct.call(s)]}function rs(s){return typeof s=="function"?s:s==null?Bs:typeof s=="object"?ot(s)?as(s[0],s[1]):os(s):Fs(s)}function is(s){if(!_s(s))return wi(s);var u=[];for(var d in Object(s))nt.call(s,d)&&d!="constructor"&&u.push(d);return u}function ss(s,u){var d=-1,m=ce(s)?Array(s.length):[];return ki(s,function(x,_,b){m[++d]=u(x,_,b)}),m}function os(s){var u=ps(s);return u.length==1&&u[0][2]?Xn(u[0][0],u[0][1]):function(d){return d===s||ts(d,s,u)}}function as(s,u){return oe(s)&&Yn(u)?Xn(ae(s),u):function(d){var m=Cs(d,s);return m===void 0&&m===u?Ss(d,s):He(u,m,void 0,o|a)}}function cs(s){return function(u){return Tn(u,s)}}function us(s){if(typeof s=="string")return s;if(Ue(s))return Dn?Dn.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}function Rn(s){return ot(s)?s:vs(s)}function ls(s,u){return function(d,m){if(d==null)return d;if(!ce(d))return s(d,m);for(var x=d.length,_=-1,b=Object(d);++_<x&&m(b[_],_,b)!==!1;);return d}}function fs(s){return function(u,d,m){for(var x=-1,_=Object(u),b=m(u),P=b.length;P--;){var I=b[++x];if(d(_[I],I,_)===!1)break}return u}}function Nn(s,u,d,m,x,_){var b=x&a,P=s.length,I=u.length;if(P!=I&&!(b&&I>P))return!1;var D=_.get(s);if(D&&_.get(u))return D==u;var R=-1,N=!0,T=x&o?new re:void 0;for(_.set(s,u),_.set(u,s);++R<P;){var W=s[R],K=u[R];if(m)var ht=b?m(K,W,R,u,s,_):m(W,K,R,s,u,_);if(ht!==void 0){if(ht)continue;N=!1;break}if(T){if(!si(u,function(at,wt){if(!T.has(wt)&&(W===at||d(W,at,m,x,_)))return T.add(wt)})){N=!1;break}}else if(!(W===K||d(W,K,m,x,_))){N=!1;break}}return _.delete(s),_.delete(u),N}function hs(s,u,d,m,x,_,b){switch(d){case Y:if(s.byteLength!=u.byteLength||s.byteOffset!=u.byteOffset)return!1;s=s.buffer,u=u.buffer;case k:return!(s.byteLength!=u.byteLength||!m(new In(s),new In(u)));case h:case p:case M:return Gn(+s,+u);case y:return s.name==u.name&&s.message==u.message;case C:case F:return s==u+"";case v:var P=li;case B:var I=_&a;if(P||(P=hi),s.size!=u.size&&!I)return!1;var D=b.get(s);if(D)return D==u;_|=o,b.set(s,u);var R=Nn(P(s),P(u),m,x,_,b);return b.delete(s),R;case $:if(Ge)return Ge.call(s)==Ge.call(u)}return!1}function ds(s,u,d,m,x,_){var b=x&a,P=fe(s),I=P.length,D=fe(u),R=D.length;if(I!=R&&!b)return!1;for(var N=I;N--;){var T=P[N];if(!(b?T in u:nt.call(u,T)))return!1}var W=_.get(s);if(W&&_.get(u))return W==u;var K=!0;_.set(s,u),_.set(u,s);for(var ht=b;++N<I;){T=P[N];var at=s[T],wt=u[T];if(m)var Wn=b?m(wt,at,T,u,s,_):m(at,wt,T,s,u,_);if(!(Wn===void 0?at===wt||d(at,wt,m,x,_):Wn)){K=!1;break}ht||(ht=T=="constructor")}if(K&&!ht){var he=s.constructor,de=u.constructor;he!=de&&"constructor"in s&&"constructor"in u&&!(typeof he=="function"&&he instanceof he&&typeof de=="function"&&de instanceof de)&&(K=!1)}return _.delete(s),_.delete(u),K}function se(s,u){var d=s.__data__;return ms(u)?d[typeof u=="string"?"string":"hash"]:d.map}function ps(s){for(var u=fe(s),d=u.length;d--;){var m=u[d],x=s[m];u[d]=[m,x,Yn(x)]}return u}function St(s,u){var d=ui(s,u);return es(d)?d:void 0}var ft=Qi;(Ne&&ft(new Ne(new ArrayBuffer(1)))!=Y||Xt&&ft(new Xt)!=v||$e&&ft($e.resolve())!=S||Ye&&ft(new Ye)!=B||Xe&&ft(new Xe)!=O)&&(ft=function(s){var u=Ct.call(s),d=u==A?s.constructor:void 0,m=d?mt(d):void 0;if(m)switch(m){case _i:return Y;case vi:return v;case xi:return S;case Ei:return B;case Ai:return O}return u});function gs(s,u,d){u=oe(u,s)?[u]:Rn(u);for(var m,x=-1,b=u.length;++x<b;){var _=ae(u[x]);if(!(m=s!=null&&d(s,_)))break;s=s[_]}if(m)return m;var b=s?s.length:0;return!!b&&ze(b)&&$n(_,b)&&(ot(s)||Ke(s))}function ys(s){return ot(s)||Ke(s)||!!(On&&s&&s[On])}function $n(s,u){return u=u??c,!!u&&(typeof s=="number"||ti.test(s))&&s>-1&&s%1==0&&s<u}function oe(s,u){if(ot(s))return!1;var d=typeof s;return d=="number"||d=="symbol"||d=="boolean"||s==null||Ue(s)?!0:Vr.test(s)||!kr.test(s)||u!=null&&s in Object(u)}function ms(s){var u=typeof s;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?s!=="__proto__":s===null}function ws(s){return!!Ln&&Ln in s}function _s(s){var u=s&&s.constructor,d=typeof u=="function"&&u.prototype||te;return s===d}function Yn(s){return s===s&&!ue(s)}function Xn(s,u){return function(d){return d==null?!1:d[s]===u&&(u!==void 0||s in Object(d))}}var vs=We(function(s){s=Ms(s);var u=[];return Jr.test(s)&&u.push(""),s.replace(qr,function(d,m,x,_){u.push(x?_.replace(Zr,"$1"):m||d)}),u});function ae(s){if(typeof s=="string"||Ue(s))return s;var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}function mt(s){if(s!=null){try{return Pn.call(s)}catch{}try{return s+""}catch{}}return""}function xs(s,u){return Vi(Es(s,u))}function Es(s,u){var d=ot(s)?ri:ss;return d(s,rs(u))}function We(s,u){if(typeof s!="function"||u&&typeof u!="function")throw new TypeError(r);var d=function(){var m=arguments,x=u?u.apply(this,m):m[0],_=d.cache;if(_.has(x))return _.get(x);var b=s.apply(this,m);return d.cache=_.set(x,b),b};return d.cache=new(We.Cache||it),d}We.Cache=it;function Gn(s,u){return s===u||s!==s&&u!==u}function Ke(s){return As(s)&&nt.call(s,"callee")&&(!yi.call(s,"callee")||Ct.call(s)==l)}var ot=Array.isArray;function ce(s){return s!=null&&ze(s.length)&&!Hn(s)}function As(s){return le(s)&&ce(s)}function Hn(s){var u=ue(s)?Ct.call(s):"";return u==g||u==w}function ze(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=c}function ue(s){var u=typeof s;return!!s&&(u=="object"||u=="function")}function le(s){return!!s&&typeof s=="object"}function Ue(s){return typeof s=="symbol"||le(s)&&Ct.call(s)==$}var bs=Fn?ci(Fn):ns;function Ms(s){return s==null?"":us(s)}function Cs(s,u,d){var m=s==null?void 0:Tn(s,u);return m===void 0?d:m}function Ss(s,u){return s!=null&&gs(s,u,Zi)}function fe(s){return ce(s)?Ui(s):is(s)}function Bs(s){return s}function Fs(s){return oe(s)?oi(ae(s)):cs(s)}t.exports=xs})(Ce,Ce.exports);var Qc=Ce.exports;const au=hr(Qc);export{qt as F,eu as a,ru as b,nu as c,au as f,su as i,ou as u};
