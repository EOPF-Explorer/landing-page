import{G as a,u as c,l as f,E as p}from"./Polygon.DHQbtAHt.js";import{c as y,b as u,e as G,d as _}from"./proj.DZpM1HQc.js";class m extends a{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(c),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let i=0,t=e.length;i<t;++i)this.changeEventsKeys_.push(f(e[i],p.CHANGE,this.changed,this))}clone(){const e=new m(h(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,i,t,s){if(s<y(this.getExtent(),e,i))return s;const r=this.geometries_;for(let o=0,n=r.length;o<n;++o)s=r[o].closestPointXY(e,i,t,s);return s}containsXY(e,i){const t=this.geometries_;for(let s=0,r=t.length;s<r;++s)if(t[s].containsXY(e,i))return!0;return!1}computeExtent(e){u(e);const i=this.geometries_;for(let t=0,s=i.length;t<s;++t)G(e,i[t].getExtent());return e}getGeometries(){return h(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const i=this.geometries_;for(let t=0,s=i.length;t<s;++t)i[t].getType()===this.getType()?e=e.concat(i[t].getGeometriesArrayRecursive()):e.push(i[t]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const i=[],t=this.geometries_;let s=!1;for(let r=0,o=t.length;r<o;++r){const n=t[r],g=n.getSimplifiedGeometry(e);i.push(g),g!==n&&(s=!0)}return s?new m(i):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const i=this.geometries_;for(let t=0,s=i.length;t<s;++t)if(i[t].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,i){const t=this.geometries_;for(let s=0,r=t.length;s<r;++s)t[s].rotate(e,i);this.changed()}scale(e,i,t){t||(t=_(this.getExtent()));const s=this.geometries_;for(let r=0,o=s.length;r<o;++r)s[r].scale(e,i,t);this.changed()}setGeometries(e){this.setGeometriesArray(h(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const i=this.geometries_;for(let t=0,s=i.length;t<s;++t)i[t].applyTransform(e);this.changed()}translate(e,i){const t=this.geometries_;for(let s=0,r=t.length;s<r;++s)t[s].translate(e,i);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function h(l){return l.map(e=>e.clone())}export{m as G};
